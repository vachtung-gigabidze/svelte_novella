(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))v(p);new MutationObserver(p=>{for(const w of p)if(w.type==="childList")for(const A of w.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&v(A)}).observe(document,{childList:!0,subtree:!0});function c(p){const w={};return p.integrity&&(w.integrity=p.integrity),p.referrerPolicy&&(w.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?w.credentials="include":p.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function v(p){if(p.ep)return;p.ep=!0;const w=c(p);fetch(p.href,w)}})();const jo=!1;var ci=Array.isArray,Ya=Array.prototype.indexOf,fi=Array.from,ii=Object.defineProperty,Hn=Object.getOwnPropertyDescriptor,za=Object.getOwnPropertyDescriptors,Xa=Object.prototype,$a=Array.prototype,ko=Object.getPrototypeOf,go=Object.isExtensible;function Ga(o){for(var s=0;s<o.length;s++)o[s]()}function qa(){var o,s,c=new Promise((v,p)=>{o=v,s=p});return{promise:c,resolve:o,reject:s}}const ut=2,di=4,hi=8,Rn=16,Yt=32,gn=64,Do=128,mt=256,Er=512,qe=1024,gt=2048,on=4096,Mt=8192,Pn=16384,vi=32768,pi=65536,_o=1<<17,Ka=1<<18,Gn=1<<19,Ja=1<<20,oi=1<<21,mi=1<<22,pn=1<<23,Ar=Symbol("$state"),gi=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Qa(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Za(o){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function es(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ts(o){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ns(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function rs(o){throw new Error("https://svelte.dev/e/effect_orphan")}function is(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function os(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function as(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ss(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const us=1,ls=2,cs=16,fs=1,ds=2,Ye=Symbol(),hs="http://www.w3.org/1999/xhtml";let vs=!1;function Wo(o){return o===this.v}function ps(o,s){return o!=o?s==s:o!==s||o!==null&&typeof o=="object"||typeof o=="function"}function Vo(o){return!ps(o,this.v)}let qn=!1,ms=!1;function gs(){qn=!0}let Ve=null;function Mr(o){Ve=o}function Or(o,s=!1,c){Ve={p:Ve,c:null,e:null,s:o,x:null,l:qn&&!s?{s:null,u:null,$:[]}:null}}function xr(o){var s=Ve,c=s.e;if(c!==null){s.e=null;for(var v of c)ea(v)}return Ve=s.p,{}}function Kn(){return!qn||Ve!==null&&Ve.l===null}const _s=new WeakMap;function ys(o){var s=be;if(s===null)return we.f|=pn,o;if((s.f&vi)===0){if((s.f&Do)===0)throw!s.parent&&o instanceof Error&&Uo(o),o;s.b.error(o)}else _i(o,s)}function _i(o,s){for(;s!==null;){if((s.f&Do)!==0)try{s.b.error(o);return}catch(c){o=c}s=s.parent}throw o instanceof Error&&Uo(o),o}function Uo(o){const s=_s.get(o);s&&(ii(o,"message",{value:s.message}),ii(o,"stack",{value:s.stack}))}let Ir=[];function ws(){var o=Ir;Ir=[],Ga(o)}function No(o){Ir.length===0&&queueMicrotask(ws),Ir.push(o)}function bs(){for(var o=be.b;o!==null&&!o.has_pending_snippet();)o=o.parent;return o===null&&Qa(),o}function Bo(o){var s=ut|gt,c=we!==null&&(we.f&ut)!==0?we:null;return be===null||c!==null&&(c.f&mt)!==0?s|=mt:be.f|=Gn,{ctx:Ve,deps:null,effects:null,equals:Wo,f:s,fn:o,reactions:null,rv:0,v:Ye,wv:0,parent:c??be,ac:null}}function As(o,s){let c=be;c===null&&es();var v=c.b,p=void 0,w=zn(Ye),A=null,P=!we;return Ds(()=>{try{var C=o();A&&Promise.resolve(C).catch(()=>{})}catch(f){C=Promise.reject(f)}var R=()=>C;p=A?.then(R,R)??Promise.resolve(C),A=p;var T=ze,j=v.pending;P&&(v.update_pending_count(1),j||T.increment());const I=(f,F=void 0)=>{A=null,j||T.activate(),F?F!==gi&&(w.f|=pn,Pr(w,F)):((w.f&pn)!==0&&(w.f^=pn),Pr(w,f)),P&&(v.update_pending_count(-1),j||T.decrement()),Xo()};if(p.then(I,f=>I(null,f||"unknown")),T)return()=>{queueMicrotask(()=>T.neuter())}}),new Promise(C=>{function R(T){function j(){T===p?C(w):R(p)}T.then(j,j)}R(p)})}function Ho(o){const s=Bo(o);return s.equals=Vo,s}function Yo(o){var s=o.effects;if(s!==null){o.effects=null;for(var c=0;c<s.length;c+=1)Ht(s[c])}}function Cs(o){for(var s=o.parent;s!==null;){if((s.f&ut)===0)return s;s=s.parent}return null}function yi(o){var s,c=be;rn(Cs(o));try{Yo(o),s=ca(o)}finally{rn(c)}return s}function zo(o){var s=yi(o);if(o.equals(s)||(o.v=s,o.wv=ua()),!Fn){var c=(tn||(o.f&mt)!==0)&&o.deps!==null?on:qe;rt(o,c)}}function Es(o,s,c){const v=Kn()?Bo:Ho;if(s.length===0){c(o.map(v));return}var p=ze,w=be,A=Ms(),P=bs();Promise.all(s.map(C=>As(C))).then(C=>{p?.activate(),A();try{c([...o.map(v),...C])}catch(R){(w.f&Pn)===0&&_i(R,w)}p?.deactivate(),Xo()}).catch(C=>{P.error(C)})}function Ms(){var o=be,s=we,c=Ve,v=ze;return function(){rn(o),St(s),Mr(c),v?.activate()}}function Xo(){rn(null),St(null),Mr(null)}const ei=new Set;let ze=null,yo=new Set,Rr=[];function $o(){const o=Rr.shift();Rr.length>0&&queueMicrotask($o),o()}let Yn=[],wi=null,ai=!1;class Mn{current=new Map;#u=new Map;#i=new Set;#e=0;#l=null;#c=!1;#n=[];#o=[];#r=[];#t=[];#a=[];#f=[];#d=[];skipped_effects=new Set;process(s){Yn=[];for(const p of s)this.#v(p);if(this.#n.length===0&&this.#e===0){this.#h();var c=this.#r,v=this.#t;this.#r=[],this.#t=[],this.#a=[],ze=null,wo(c),wo(v),ze===null?ze=this:ei.delete(this),this.#l?.resolve()}else this.#s(this.#r),this.#s(this.#t),this.#s(this.#a);for(const p of this.#n)En(p);for(const p of this.#o)En(p);this.#n=[],this.#o=[]}#v(s){s.f^=qe;for(var c=s.first;c!==null;){var v=c.f,p=(v&(Yt|gn))!==0,w=p&&(v&qe)!==0,A=w||(v&Mt)!==0||this.skipped_effects.has(c);if(!A&&c.fn!==null){if(p)c.f^=qe;else if((v&di)!==0)this.#t.push(c);else if((v&qe)===0)if((v&mi)!==0){var P=c.b?.pending?this.#o:this.#n;P.push(c)}else jr(c)&&((c.f&Rn)!==0&&this.#a.push(c),En(c));var C=c.first;if(C!==null){c=C;continue}}var R=c.parent;for(c=c.next;c===null&&R!==null;)c=R.next,R=R.parent}}#s(s){for(const c of s)((c.f&gt)!==0?this.#f:this.#d).push(c),rt(c,qe);s.length=0}capture(s,c){this.#u.has(s)||this.#u.set(s,c),this.current.set(s,s.v)}activate(){ze=this}deactivate(){ze=null;for(const s of yo)if(yo.delete(s),s(),ze!==null)break}neuter(){this.#c=!0}flush(){Yn.length>0?Is():this.#h(),ze===this&&(this.#e===0&&ei.delete(this),this.deactivate())}#h(){if(!this.#c)for(const s of this.#i)s();this.#i.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const s of this.#f)rt(s,gt),In(s);for(const s of this.#d)rt(s,on),In(s);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(s){this.#i.add(s)}settled(){return(this.#l??=qa()).promise}static ensure(){if(ze===null){const s=ze=new Mn;ei.add(ze),Mn.enqueue(()=>{ze===s&&s.flush()})}return ze}static enqueue(s){Rr.length===0&&queueMicrotask($o),Rr.unshift(s)}}function Is(){var o=Cn;ai=!0;try{var s=0;for(Ao(!0);Yn.length>0;){var c=Mn.ensure();if(s++>1e3){var v,p;Rs()}c.process(Yn),nn.clear()}}finally{ai=!1,Ao(o),wi=null}}function Rs(){try{is()}catch(o){_i(o,wi)}}let hn=null;function wo(o){var s=o.length;if(s!==0){for(var c=0;c<s;){var v=o[c++];if((v.f&(Pn|Mt))===0&&jr(v)&&(hn=[],En(v),v.deps===null&&v.first===null&&v.nodes_start===null&&(v.teardown===null&&v.ac===null?ia(v):v.fn=null),hn?.length>0)){nn.clear();for(const p of hn)En(p);hn=[]}}hn=null}}function In(o){for(var s=wi=o;s.parent!==null;){s=s.parent;var c=s.f;if(ai&&s===be&&(c&Rn)!==0)return;if((c&(gn|Yt))!==0){if((c&qe)===0)return;s.f^=qe}}Yn.push(s)}const nn=new Map;function zn(o,s){var c={f:0,v:o,reactions:null,equals:Wo,rv:0,wv:0};return c}function Ge(o,s){const c=zn(o);return Ns(c),c}function Ps(o,s=!1,c=!0){const v=zn(o);return s||(v.equals=Vo),qn&&c&&Ve!==null&&Ve.l!==null&&(Ve.l.s??=[]).push(v),v}function _e(o,s,c=!1){we!==null&&(!xt||(we.f&_o)!==0)&&Kn()&&(we.f&(ut|Rn|mi|_o))!==0&&!Bt?.includes(o)&&ss();let v=c?vn(s):s;return Pr(o,v)}function Pr(o,s){if(!o.equals(s)){var c=o.v;Fn?nn.set(o,s):nn.set(o,c),o.v=s;var v=Mn.ensure();v.capture(o,c),(o.f&ut)!==0&&((o.f&gt)!==0&&yi(o),rt(o,(o.f&mt)===0?qe:on)),o.wv=ua(),qo(o,gt),Kn()&&be!==null&&(be.f&qe)!==0&&(be.f&(Yt|gn))===0&&(pt===null?Bs([o]):pt.push(o))}return s}function Go(o,s=1){var c=oe(o),v=s===1?c++:c--;return _e(o,c),v}function ti(o){_e(o,o.v+1)}function qo(o,s){var c=o.reactions;if(c!==null)for(var v=Kn(),p=c.length,w=0;w<p;w++){var A=c[w],P=A.f;if(!(!v&&A===be)){var C=(P&gt)===0;C&&rt(A,s),(P&ut)!==0?qo(A,on):C&&((P&Rn)!==0&&hn!==null&&hn.push(A),In(A))}}}function vn(o){if(typeof o!="object"||o===null||Ar in o)return o;const s=ko(o);if(s!==Xa&&s!==$a)return o;var c=new Map,v=ci(o),p=Ge(0),w=mn,A=P=>{if(mn===w)return P();var C=we,R=mn;St(null),Eo(w);var T=P();return St(C),Eo(R),T};return v&&c.set("length",Ge(o.length)),new Proxy(o,{defineProperty(P,C,R){(!("value"in R)||R.configurable===!1||R.enumerable===!1||R.writable===!1)&&os();var T=c.get(C);return T===void 0?T=A(()=>{var j=Ge(R.value);return c.set(C,j),j}):_e(T,R.value,!0),!0},deleteProperty(P,C){var R=c.get(C);if(R===void 0){if(C in P){const T=A(()=>Ge(Ye));c.set(C,T),ti(p)}}else _e(R,Ye),ti(p);return!0},get(P,C,R){if(C===Ar)return o;var T=c.get(C),j=C in P;if(T===void 0&&(!j||Hn(P,C)?.writable)&&(T=A(()=>{var f=vn(j?P[C]:Ye),F=Ge(f);return F}),c.set(C,T)),T!==void 0){var I=oe(T);return I===Ye?void 0:I}return Reflect.get(P,C,R)},getOwnPropertyDescriptor(P,C){var R=Reflect.getOwnPropertyDescriptor(P,C);if(R&&"value"in R){var T=c.get(C);T&&(R.value=oe(T))}else if(R===void 0){var j=c.get(C),I=j?.v;if(j!==void 0&&I!==Ye)return{enumerable:!0,configurable:!0,value:I,writable:!0}}return R},has(P,C){if(C===Ar)return!0;var R=c.get(C),T=R!==void 0&&R.v!==Ye||Reflect.has(P,C);if(R!==void 0||be!==null&&(!T||Hn(P,C)?.writable)){R===void 0&&(R=A(()=>{var I=T?vn(P[C]):Ye,f=Ge(I);return f}),c.set(C,R));var j=oe(R);if(j===Ye)return!1}return T},set(P,C,R,T){var j=c.get(C),I=C in P;if(v&&C==="length")for(var f=R;f<j.v;f+=1){var F=c.get(f+"");F!==void 0?_e(F,Ye):f in P&&(F=A(()=>Ge(Ye)),c.set(f+"",F))}if(j===void 0)(!I||Hn(P,C)?.writable)&&(j=A(()=>Ge(void 0)),_e(j,vn(R)),c.set(C,j));else{I=j.v!==Ye;var U=A(()=>vn(R));_e(j,U)}var ee=Reflect.getOwnPropertyDescriptor(P,C);if(ee?.set&&ee.set.call(T,R),!I){if(v&&typeof C=="string"){var te=c.get("length"),$=Number(C);Number.isInteger($)&&$>=te.v&&_e(te,$+1)}ti(p)}return!0},ownKeys(P){oe(p);var C=Reflect.ownKeys(P).filter(j=>{var I=c.get(j);return I===void 0||I.v!==Ye});for(var[R,T]of c)T.v!==Ye&&!(R in P)&&C.push(R);return C},setPrototypeOf(){as()}})}var bo,Ko,Jo,Qo;function Fs(){if(bo===void 0){bo=window,Ko=/Firefox/.test(navigator.userAgent);var o=Element.prototype,s=Node.prototype,c=Text.prototype;Jo=Hn(s,"firstChild").get,Qo=Hn(s,"nextSibling").get,go(o)&&(o.__click=void 0,o.__className=void 0,o.__attributes=null,o.__style=void 0,o.__e=void 0),go(c)&&(c.__t=void 0)}}function Jn(o=""){return document.createTextNode(o)}function Fr(o){return Jo.call(o)}function Sr(o){return Qo.call(o)}function je(o,s){return Fr(o)}function ni(o,s){{var c=Fr(o);return c instanceof Comment&&c.data===""?Sr(c):c}}function Ke(o,s=1,c=!1){let v=o;for(;s--;)v=Sr(v);return v}function Ts(o){o.textContent=""}function Zo(){return!1}function bi(o){var s=we,c=be;St(null),rn(null);try{return o()}finally{St(s),rn(c)}}function Ls(o){be===null&&we===null&&rs(),we!==null&&(we.f&mt)!==0&&be===null&&ns(),Fn&&ts()}function Os(o,s){var c=s.last;c===null?s.last=s.first=o:(c.next=o,o.prev=c,s.last=o)}function zt(o,s,c,v=!0){var p=be;p!==null&&(p.f&Mt)!==0&&(o|=Mt);var w={ctx:Ve,deps:null,nodes_start:null,nodes_end:null,f:o|gt,first:null,fn:s,last:null,next:null,parent:p,b:p&&p.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(c)try{En(w),w.f|=vi}catch(C){throw Ht(w),C}else s!==null&&In(w);if(v){var A=w;if(c&&A.deps===null&&A.teardown===null&&A.nodes_start===null&&A.first===A.last&&(A.f&Gn)===0&&(A=A.first),A!==null&&(A.parent=p,p!==null&&Os(A,p),we!==null&&(we.f&ut)!==0&&(o&gn)===0)){var P=we;(P.effects??=[]).push(A)}}return w}function xs(o){const s=zt(hi,null,!1);return rt(s,qe),s.teardown=o,s}function Ss(o){Ls();var s=be.f,c=!we&&(s&Yt)!==0&&(s&vi)===0;if(c){var v=Ve;(v.e??=[]).push(o)}else return ea(o)}function ea(o){return zt(di|Ja,o,!1)}function js(o){Mn.ensure();const s=zt(gn|Gn,o,!0);return(c={})=>new Promise(v=>{c.outro?Ai(s,()=>{Ht(s),v(void 0)}):(Ht(s),v(void 0))})}function ks(o){return zt(di,o,!1)}function Ds(o){return zt(mi|Gn,o,!0)}function Ws(o,s=0){return zt(hi|s,o,!0)}function Zt(o,s=[],c=[]){Es(s,c,v=>{zt(hi,()=>o(...v.map(oe)),!0)})}function ta(o,s=0){var c=zt(Rn|s,o,!0);return c}function Xn(o,s=!0){return zt(Yt|Gn,o,!0,s)}function na(o){var s=o.teardown;if(s!==null){const c=Fn,v=we;Co(!0),St(null);try{s.call(null)}finally{Co(c),St(v)}}}function ra(o,s=!1){var c=o.first;for(o.first=o.last=null;c!==null;){const p=c.ac;p!==null&&bi(()=>{p.abort(gi)});var v=c.next;(c.f&gn)!==0?c.parent=null:Ht(c,s),c=v}}function Vs(o){for(var s=o.first;s!==null;){var c=s.next;(s.f&Yt)===0&&Ht(s),s=c}}function Ht(o,s=!0){var c=!1;(s||(o.f&Ka)!==0)&&o.nodes_start!==null&&o.nodes_end!==null&&(Us(o.nodes_start,o.nodes_end),c=!0),ra(o,s&&!c),Tr(o,0),rt(o,Pn);var v=o.transitions;if(v!==null)for(const w of v)w.stop();na(o);var p=o.parent;p!==null&&p.first!==null&&ia(o),o.next=o.prev=o.teardown=o.ctx=o.deps=o.fn=o.nodes_start=o.nodes_end=o.ac=null}function Us(o,s){for(;o!==null;){var c=o===s?null:Sr(o);o.remove(),o=c}}function ia(o){var s=o.parent,c=o.prev,v=o.next;c!==null&&(c.next=v),v!==null&&(v.prev=c),s!==null&&(s.first===o&&(s.first=v),s.last===o&&(s.last=c))}function Ai(o,s){var c=[];Ci(o,c,!0),oa(c,()=>{Ht(o),s&&s()})}function oa(o,s){var c=o.length;if(c>0){var v=()=>--c||s();for(var p of o)p.out(v)}else s()}function Ci(o,s,c){if((o.f&Mt)===0){if(o.f^=Mt,o.transitions!==null)for(const A of o.transitions)(A.is_global||c)&&s.push(A);for(var v=o.first;v!==null;){var p=v.next,w=(v.f&pi)!==0||(v.f&Yt)!==0;Ci(v,s,w?c:!1),v=p}}}function Ei(o){aa(o,!0)}function aa(o,s){if((o.f&Mt)!==0){o.f^=Mt,(o.f&qe)===0&&(rt(o,gt),In(o));for(var c=o.first;c!==null;){var v=c.next,p=(c.f&pi)!==0||(c.f&Yt)!==0;aa(c,p?s:!1),c=v}if(o.transitions!==null)for(const w of o.transitions)(w.is_global||s)&&w.in()}}let Cn=!1;function Ao(o){Cn=o}let Fn=!1;function Co(o){Fn=o}let we=null,xt=!1;function St(o){we=o}let be=null;function rn(o){be=o}let Bt=null;function Ns(o){we!==null&&(Bt===null?Bt=[o]:Bt.push(o))}let Je=null,st=0,pt=null;function Bs(o){pt=o}let sa=1,$n=0,mn=$n;function Eo(o){mn=o}let tn=!1;function ua(){return++sa}function jr(o){var s=o.f;if((s&gt)!==0)return!0;if((s&on)!==0){var c=o.deps,v=(s&mt)!==0;if(c!==null){var p,w,A=(s&Er)!==0,P=v&&be!==null&&!tn,C=c.length;if((A||P)&&(be===null||(be.f&Pn)===0)){var R=o,T=R.parent;for(p=0;p<C;p++)w=c[p],(A||!w?.reactions?.includes(R))&&(w.reactions??=[]).push(R);A&&(R.f^=Er),P&&T!==null&&(T.f&mt)===0&&(R.f^=mt)}for(p=0;p<C;p++)if(w=c[p],jr(w)&&zo(w),w.wv>o.wv)return!0}(!v||be!==null&&!tn)&&rt(o,qe)}return!1}function la(o,s,c=!0){var v=o.reactions;if(v!==null&&!Bt?.includes(o))for(var p=0;p<v.length;p++){var w=v[p];(w.f&ut)!==0?la(w,s,!1):s===w&&(c?rt(w,gt):(w.f&qe)!==0&&rt(w,on),In(w))}}function ca(o){var s=Je,c=st,v=pt,p=we,w=tn,A=Bt,P=Ve,C=xt,R=mn,T=o.f;Je=null,st=0,pt=null,tn=(T&mt)!==0&&(xt||!Cn||we===null),we=(T&(Yt|gn))===0?o:null,Bt=null,Mr(o.ctx),xt=!1,mn=++$n,o.ac!==null&&(bi(()=>{o.ac.abort(gi)}),o.ac=null);try{o.f|=oi;var j=o.fn,I=j(),f=o.deps;if(Je!==null){var F;if(Tr(o,st),f!==null&&st>0)for(f.length=st+Je.length,F=0;F<Je.length;F++)f[st+F]=Je[F];else o.deps=f=Je;if(!tn||(T&ut)!==0&&o.reactions!==null)for(F=st;F<f.length;F++)(f[F].reactions??=[]).push(o)}else f!==null&&st<f.length&&(Tr(o,st),f.length=st);if(Kn()&&pt!==null&&!xt&&f!==null&&(o.f&(ut|on|gt))===0)for(F=0;F<pt.length;F++)la(pt[F],o);return p!==null&&p!==o&&($n++,pt!==null&&(v===null?v=pt:v.push(...pt))),(o.f&pn)!==0&&(o.f^=pn),I}catch(U){return ys(U)}finally{o.f^=oi,Je=s,st=c,pt=v,we=p,tn=w,Bt=A,Mr(P),xt=C,mn=R}}function Hs(o,s){let c=s.reactions;if(c!==null){var v=Ya.call(c,o);if(v!==-1){var p=c.length-1;p===0?c=s.reactions=null:(c[v]=c[p],c.pop())}}c===null&&(s.f&ut)!==0&&(Je===null||!Je.includes(s))&&(rt(s,on),(s.f&(mt|Er))===0&&(s.f^=Er),Yo(s),Tr(s,0))}function Tr(o,s){var c=o.deps;if(c!==null)for(var v=s;v<c.length;v++)Hs(o,c[v])}function En(o){var s=o.f;if((s&Pn)===0){rt(o,qe);var c=be,v=Cn;be=o,Cn=!0;try{(s&Rn)!==0?Vs(o):ra(o),na(o);var p=ca(o);o.teardown=typeof p=="function"?p:null,o.wv=sa;var w;jo&&ms&&(o.f&gt)!==0&&o.deps}finally{Cn=v,be=c}}}function oe(o){var s=o.f,c=(s&ut)!==0;if(we!==null&&!xt){var v=be!==null&&(be.f&Pn)!==0;if(!v&&!Bt?.includes(o)){var p=we.deps;if((we.f&oi)!==0)o.rv<$n&&(o.rv=$n,Je===null&&p!==null&&p[st]===o?st++:Je===null?Je=[o]:(!tn||!Je.includes(o))&&Je.push(o));else{(we.deps??=[]).push(o);var w=o.reactions;w===null?o.reactions=[we]:w.includes(we)||w.push(we)}}}else if(c&&o.deps===null&&o.effects===null){var A=o,P=A.parent;P!==null&&(P.f&mt)===0&&(A.f^=mt)}if(Fn){if(nn.has(o))return nn.get(o);if(c){A=o;var C=A.v;return((A.f&qe)===0&&A.reactions!==null||fa(A))&&(C=yi(A)),nn.set(A,C),C}}else c&&(A=o,jr(A)&&zo(A));if((o.f&pn)!==0)throw o.v;return o.v}function fa(o){if(o.v===Ye)return!0;if(o.deps===null)return!1;for(const s of o.deps)if(nn.has(s)||(s.f&ut)!==0&&fa(s))return!0;return!1}function da(o){var s=xt;try{return xt=!0,o()}finally{xt=s}}const Ys=-7169;function rt(o,s){o.f=o.f&Ys|s}const zs=["touchstart","touchmove"];function Xs(o){return zs.includes(o)}const ha=new Set,si=new Set;function $s(o,s,c,v={}){function p(w){if(v.capture||Bn.call(s,w),!w.cancelBubble)return bi(()=>c?.call(this,w))}return o.startsWith("pointer")||o.startsWith("touch")||o==="wheel"?No(()=>{s.addEventListener(o,p,v)}):s.addEventListener(o,p,v),p}function Mo(o,s,c,v,p){var w={capture:v,passive:p},A=$s(o,s,c,w);(s===document.body||s===window||s===document||s instanceof HTMLMediaElement)&&xs(()=>{s.removeEventListener(o,A,w)})}function va(o){for(var s=0;s<o.length;s++)ha.add(o[s]);for(var c of si)c(o)}let Io=null;function Bn(o){var s=this,c=s.ownerDocument,v=o.type,p=o.composedPath?.()||[],w=p[0]||o.target;Io=o;var A=0,P=Io===o&&o.__root;if(P){var C=p.indexOf(P);if(C!==-1&&(s===document||s===window)){o.__root=s;return}var R=p.indexOf(s);if(R===-1)return;C<=R&&(A=C)}if(w=p[A]||o.target,w!==s){ii(o,"currentTarget",{configurable:!0,get(){return w||c}});var T=we,j=be;St(null),rn(null);try{for(var I,f=[];w!==null;){var F=w.assignedSlot||w.parentNode||w.host||null;try{var U=w["__"+v];if(U!=null&&(!w.disabled||o.target===w))if(ci(U)){var[ee,...te]=U;ee.apply(w,[o,...te])}else U.call(w,o)}catch($){I?f.push($):I=$}if(o.cancelBubble||F===s||F===null)break;w=F}if(I){for(let $ of f)queueMicrotask(()=>{throw $});throw I}}finally{o.__root=s,delete o.currentTarget,St(T),rn(j)}}}function Gs(o){var s=document.createElement("template");return s.innerHTML=o.replaceAll("<!>","<!---->"),s.content}function ui(o,s){var c=be;c.nodes_start===null&&(c.nodes_start=o,c.nodes_end=s)}function Qe(o,s){var c=(s&fs)!==0,v=(s&ds)!==0,p,w=!o.startsWith("<!>");return()=>{p===void 0&&(p=Gs(w?o:"<!>"+o),c||(p=Fr(p)));var A=v||Ko?document.importNode(p,!0):p.cloneNode(!0);if(c){var P=Fr(A),C=A.lastChild;ui(P,C)}else ui(A,A);return A}}function Ro(){var o=document.createDocumentFragment(),s=document.createComment(""),c=Jn();return o.append(s,c),ui(s,c),o}function Xe(o,s){o!==null&&o.before(s)}function en(o,s){var c=s==null?"":typeof s=="object"?s+"":s;c!==(o.__t??=o.nodeValue)&&(o.__t=c,o.nodeValue=c+"")}function qs(o,s){return Ks(o,s)}const An=new Map;function Ks(o,{target:s,anchor:c,props:v={},events:p,context:w,intro:A=!0}){Fs();var P=new Set,C=j=>{for(var I=0;I<j.length;I++){var f=j[I];if(!P.has(f)){P.add(f);var F=Xs(f);s.addEventListener(f,Bn,{passive:F});var U=An.get(f);U===void 0?(document.addEventListener(f,Bn,{passive:F}),An.set(f,1)):An.set(f,U+1)}}};C(fi(ha)),si.add(C);var R=void 0,T=js(()=>{var j=c??s.appendChild(Jn());return Xn(()=>{if(w){Or({});var I=Ve;I.c=w}p&&(v.$$events=p),R=o(j,v)||{},w&&xr()}),()=>{for(var I of P){s.removeEventListener(I,Bn);var f=An.get(I);--f===0?(document.removeEventListener(I,Bn),An.delete(I)):An.set(I,f)}si.delete(C),j!==c&&j.parentNode?.removeChild(j)}});return Js.set(R,T),R}let Js=new WeakMap;function Ot(o,s,c=!1){var v=o,p=null,w=null,A=Ye,P=c?pi:0,C=!1;const R=(f,F=!0)=>{C=!0,I(F,f)};var T=null;function j(){T!==null&&(T.lastChild.remove(),v.before(T),T=null);var f=A?p:w,F=A?w:p;f&&Ei(f),F&&Ai(F,()=>{A?w=null:p=null})}const I=(f,F)=>{if(A!==(A=f)){var U=Zo(),ee=v;if(U&&(T=document.createDocumentFragment(),T.append(ee=Jn())),A?p??=F&&Xn(()=>F(ee)):w??=F&&Xn(()=>F(ee)),U){var te=ze,$=A?p:w,Q=A?w:p;$&&te.skipped_effects.delete($),Q&&te.skipped_effects.add(Q),te.add_callback(j)}else j()}};ta(()=>{C=!1,s(R),C||I(null,null)},P)}function Qs(o,s){return s}function Zs(o,s,c){for(var v=o.items,p=[],w=s.length,A=0;A<w;A++)Ci(s[A].e,p,!0);var P=w>0&&p.length===0&&c!==null;if(P){var C=c.parentNode;Ts(C),C.append(c),v.clear(),Lt(o,s[0].prev,s[w-1].next)}oa(p,()=>{for(var R=0;R<w;R++){var T=s[R];P||(v.delete(T.k),Lt(o,T.prev,T.next)),Ht(T.e,!P)}})}function pa(o,s,c,v,p,w=null){var A=o,P={flags:s,items:new Map,first:null};{var C=o;A=C.appendChild(Jn())}var R=null,T=!1,j=new Map,I=Ho(()=>{var ee=c();return ci(ee)?ee:ee==null?[]:fi(ee)}),f,F;function U(){eu(F,f,P,j,A,p,s,v,c),w!==null&&(f.length===0?R?Ei(R):R=Xn(()=>w(A)):R!==null&&Ai(R,()=>{R=null}))}ta(()=>{F??=be,f=oe(I);var ee=f.length;if(!(T&&ee===0)){T=ee===0;var te,$,Q,ne;if(Zo()){var X=new Set,x=ze;for($=0;$<ee;$+=1){Q=f[$],ne=v(Q,$);var D=P.items.get(ne)??j.get(ne);D?ma(D,Q,$):(te=ga(null,P,null,null,Q,ne,$,p,s,c,!0),j.set(ne,te)),X.add(ne)}for(const[q,J]of P.items)X.has(q)||x.skipped_effects.add(J.e);x.add_callback(U)}else U();oe(I)}})}function eu(o,s,c,v,p,w,A,P,C){var R=s.length,T=c.items,j=c.first,I=j,f,F=null,U=[],ee=[],te,$,Q,ne;for(ne=0;ne<R;ne+=1){if(te=s[ne],$=P(te,ne),Q=T.get($),Q===void 0){var X=v.get($);if(X!==void 0){v.delete($),T.set($,X);var x=F?F.next:I;Lt(c,F,X),Lt(c,X,x),ri(X,x,p),F=X}else{var D=I?I.e.nodes_start:p;F=ga(D,c,F,F===null?c.first:F.next,te,$,ne,w,A,C)}T.set($,F),U=[],ee=[],I=F.next;continue}if(ma(Q,te,ne),(Q.e.f&Mt)!==0&&Ei(Q.e),Q!==I){if(f!==void 0&&f.has(Q)){if(U.length<ee.length){var q=ee[0],J;F=q.prev;var ie=U[0],z=U[U.length-1];for(J=0;J<U.length;J+=1)ri(U[J],q,p);for(J=0;J<ee.length;J+=1)f.delete(ee[J]);Lt(c,ie.prev,z.next),Lt(c,F,ie),Lt(c,z,q),I=q,F=z,ne-=1,U=[],ee=[]}else f.delete(Q),ri(Q,I,p),Lt(c,Q.prev,Q.next),Lt(c,Q,F===null?c.first:F.next),Lt(c,F,Q),F=Q;continue}for(U=[],ee=[];I!==null&&I.k!==$;)(I.e.f&Mt)===0&&(f??=new Set).add(I),ee.push(I),I=I.next;if(I===null)continue;Q=I}U.push(Q),F=Q,I=Q.next}if(I!==null||f!==void 0){for(var ce=f===void 0?[]:fi(f);I!==null;)(I.e.f&Mt)===0&&ce.push(I),I=I.next;var Te=ce.length;if(Te>0){var ke=R===0?p:null;Zs(c,ce,ke)}}o.first=c.first&&c.first.e,o.last=F&&F.e;for(var Se of v.values())Ht(Se.e);v.clear()}function ma(o,s,c,v){Pr(o.v,s),o.i=c}function ga(o,s,c,v,p,w,A,P,C,R,T){var j=(C&us)!==0,I=(C&cs)===0,f=j?I?Ps(p,!1,!1):zn(p):p,F=(C&ls)===0?A:zn(A),U={i:F,v:f,k:w,a:null,e:null,prev:c,next:v};try{if(o===null){var ee=document.createDocumentFragment();ee.append(o=Jn())}return U.e=Xn(()=>P(o,f,F,R),vs),U.e.prev=c&&c.e,U.e.next=v&&v.e,c===null?T||(s.first=U):(c.next=U,c.e.next=U.e),v!==null&&(v.prev=U,v.e.prev=U.e),U}finally{}}function ri(o,s,c){for(var v=o.next?o.next.e.nodes_start:c,p=s?s.e.nodes_start:c,w=o.e.nodes_start;w!==null&&w!==v;){var A=Sr(w);p.before(w),w=A}}function Lt(o,s,c){s===null?o.first=c:(s.next=c,s.e.next=c&&c.e),c!==null&&(c.prev=s,c.e.prev=s&&s.e)}const Po=[...` 	
\r\f \v\uFEFF`];function tu(o,s,c){var v=o==null?"":""+o;if(s&&(v=v?v+" "+s:s),c){for(var p in c)if(c[p])v=v?v+" "+p:p;else if(v.length)for(var w=p.length,A=0;(A=v.indexOf(p,A))>=0;){var P=A+w;(A===0||Po.includes(v[A-1]))&&(P===v.length||Po.includes(v[P]))?v=(A===0?"":v.substring(0,A))+v.substring(P+1):A=P}}return v===""?null:v}function li(o,s,c,v,p,w){var A=o.__className;if(A!==c||A===void 0){var P=tu(c,v,w);P==null?o.removeAttribute("class"):o.className=P,o.__className=c}else if(w&&p!==w)for(var C in w){var R=!!w[C];(p==null||R!==!!p[C])&&o.classList.toggle(C,R)}return w}const nu=Symbol("is custom element"),ru=Symbol("is html");function Fo(o,s,c,v){var p=iu(o);p[s]!==(p[s]=c)&&(c==null?o.removeAttribute(s):typeof c!="string"&&ou(o).includes(s)?o[s]=c:o.setAttribute(s,c))}function iu(o){return o.__attributes??={[nu]:o.nodeName.includes("-"),[ru]:o.namespaceURI===hs}}var To=new Map;function ou(o){var s=o.getAttribute("is")||o.nodeName,c=To.get(s);if(c)return c;To.set(s,c=[]);for(var v,p=o,w=Element.prototype;w!==p;){v=za(p);for(var A in v)v[A].set&&c.push(A);p=ko(p)}return c}function Lo(o,s){return o===s||o?.[Ar]===s}function au(o={},s,c,v){return ks(()=>{var p,w;return Ws(()=>{p=w,w=[],da(()=>{o!==c(...w)&&(s(o,...w),p&&Lo(c(...p),o)&&s(null,...p))})}),()=>{No(()=>{w&&Lo(c(...w),o)&&s(null,...w)})}}),o}function Lr(o){Ve===null&&Za(),qn&&Ve.l!==null?su(Ve).m.push(o):Ss(()=>{const s=da(o);if(typeof s=="function")return s})}function su(o){var s=o.l;return s.u??={a:[],b:[],m:[]}}const uu="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(uu);gs();var Cr={exports:{}},lu=Cr.exports,Oo;function cu(){return Oo||(Oo=1,(function(o,s){(function(v,p){o.exports=p()})(lu,()=>(()=>{var c=[,((A,P,C)=>{C.r(P),C.d(P,{default:()=>T});var R=(()=>{var j=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return(function(I={}){var f=I,F,U;f.ready=new Promise((e,t)=>{F=e,U=t});function ee(){function e(m){const b=a;r=t=0,a=new Map,b.forEach(E=>{try{E(m)}catch(y){console.error(y)}}),this.pb(),l&&l.Tb()}let t=0,r=0,a=new Map,l=null,h=null;this.requestAnimationFrame=function(m){t||(t=requestAnimationFrame(e.bind(this)));const b=++r;return a.set(b,m),b},this.cancelAnimationFrame=function(m){a.delete(m),t&&a.size==0&&(cancelAnimationFrame(t),t=0)},this.Rb=function(m){h&&(document.body.remove(h),h=null),m||(h=document.createElement("div"),h.style.backgroundColor="black",h.style.position="fixed",h.style.right=0,h.style.top=0,h.style.color="white",h.style.padding="4px",h.innerHTML="RIVE FPS",m=function(b){h.innerHTML="RIVE FPS "+b.toFixed(1)},document.body.appendChild(h)),l=new function(){let b=0,E=0;this.Tb=function(){var y=performance.now();E?(++b,y-=E,1e3<y&&(m(1e3*b/y),b=E=0)):(E=y,b=0)}}},this.Ob=function(){h&&(document.body.remove(h),h=null),l=null},this.pb=function(){}}function te(e){console.assert(!0);const t=new Map;let r=-1/0;this.push=function(a){return a=a+((1<<e)-1)>>e,t.has(a)&&clearTimeout(t.get(a)),t.set(a,setTimeout(function(){t.delete(a),t.length==0?r=-1/0:a==r&&(r=Math.max(...t.keys()),console.assert(r<a))},1e3)),r=Math.max(a,r),r<<e}}const $=f.onRuntimeInitialized;f.onRuntimeInitialized=function(){$&&$();let e=f.decodeAudio;f.decodeAudio=function(l,h){l=e(l),h(l)};let t=f.decodeFont;f.decodeFont=function(l,h){l=t(l),h(l)};const r=f.FileAssetLoader;f.ptrToAsset=l=>{let h=f.ptrToFileAsset(l);return h.isImage?f.ptrToImageAsset(l):h.isFont?f.ptrToFontAsset(l):h.isAudio?f.ptrToAudioAsset(l):h},f.CustomFileAssetLoader=r.extend("CustomFileAssetLoader",{__construct:function({loadContents:l}){this.__parent.__construct.call(this),this.Gb=l},loadContents:function(l,h){return l=f.ptrToAsset(l),this.Gb(l,h)}}),f.CDNFileAssetLoader=r.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(l){let h=f.ptrToAsset(l);return l=h.cdnUuid,l===""?!1:((function(m,b){var E=new XMLHttpRequest;E.responseType="arraybuffer",E.onreadystatechange=function(){E.readyState==4&&E.status==200&&b(E)},E.open("GET",m,!0),E.send(null)})(h.cdnBaseUrl+"/"+l,m=>{h.decode(new Uint8Array(m.response))}),!0)}}),f.FallbackFileAssetLoader=r.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.lb=[]},addLoader:function(l){this.lb.push(l)},loadContents:function(l,h){for(let m of this.lb)if(m.loadContents(l,h))return!0;return!1}});let a=f.computeAlignment;f.computeAlignment=function(l,h,m,b,E=1){return a.call(this,l,h,m,b,E)}};const Q="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),ne=new function(){function e(){if(!t){let Ee=function(B,Ae,Fe){if(Ae=V.createShader(Ae),V.shaderSource(Ae,Fe),V.compileShader(Ae),Fe=V.getShaderInfoLog(Ae),0<(Fe||"").length)throw Fe;V.attachShader(B,Ae)};var K=Ee,g=document.createElement("canvas"),S={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let V;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(V=g.getContext("webgl",S),r=1,!V)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(V=g.getContext("webgl2",S))r=2;else if(V=g.getContext("webgl",S))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(V=new Proxy(V,{get(B,Ae){if(B.isContextLost()){if(E||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Ae),E=!0),typeof B[Ae]=="function")return function(){}}else return typeof B[Ae]=="function"?function(...Fe){return B[Ae].apply(B,Fe)}:B[Ae]},set(B,Ae,Fe){if(B.isContextLost())E||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Ae),E=!0);else return B[Ae]=Fe,!0}}),a=Math.min(V.getParameter(V.MAX_RENDERBUFFER_SIZE),V.getParameter(V.MAX_TEXTURE_SIZE)),g=V.createProgram(),Ee(g,V.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),Ee(g,V.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),V.bindAttribLocation(g,0,"vertex"),V.bindAttribLocation(g,1,"uv"),V.linkProgram(g),S=V.getProgramInfoLog(g),0<(S||"").trim().length)throw S;l=V.getUniformLocation(g,"mat"),h=V.getUniformLocation(g,"translate"),V.useProgram(g),V.bindBuffer(V.ARRAY_BUFFER,V.createBuffer()),V.enableVertexAttribArray(0),V.enableVertexAttribArray(1),V.bindBuffer(V.ELEMENT_ARRAY_BUFFER,V.createBuffer()),V.uniform1i(V.getUniformLocation(g,"image"),0),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t=V}return!0}let t=null,r=0,a=0,l=null,h=null,m=0,b=0,E=!1;e(),this.hc=function(){return e(),a},this.Mb=function(g){t.deleteTexture&&t.deleteTexture(g)},this.Lb=function(g){if(!e())return null;const S=t.createTexture();return S?(t.bindTexture(t.TEXTURE_2D,S),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,g),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),r==2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),S):null};const y=new te(8),k=new te(8),W=new te(10),H=new te(10);this.Qb=function(g,S,K,V,Ee){if(e()){var B=y.push(g),Ae=k.push(S);if(t.canvas){(t.canvas.width!=B||t.canvas.height!=Ae)&&(t.canvas.width=B,t.canvas.height=Ae),t.viewport(0,Ae-S,g,S),t.disable(t.SCISSOR_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.SCISSOR_TEST),K.sort((me,Tt)=>Tt.xb-me.xb),B=W.push(V),m!=B&&(t.bufferData(t.ARRAY_BUFFER,8*B,t.DYNAMIC_DRAW),m=B),B=0;for(var Fe of K)t.bufferSubData(t.ARRAY_BUFFER,B,Fe.Ua),B+=4*Fe.Ua.length;console.assert(B==4*V);for(var Ft of K)t.bufferSubData(t.ARRAY_BUFFER,B,Ft.Db),B+=4*Ft.Db.length;console.assert(B==8*V),B=H.push(Ee),b!=B&&(t.bufferData(t.ELEMENT_ARRAY_BUFFER,2*B,t.DYNAMIC_DRAW),b=B),Fe=0;for(var cn of K)t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,Fe,cn.indices),Fe+=2*cn.indices.length;console.assert(Fe==2*Ee),cn=0,Ft=!0,B=Fe=0;for(const me of K){me.image.Ka!=cn&&(t.bindTexture(t.TEXTURE_2D,me.image.Ja||null),cn=me.image.Ka),me.mc?(t.scissor(me.Za,Ae-me.$a-me.kb,me.Ac,me.kb),Ft=!0):Ft&&(t.scissor(0,Ae-S,g,S),Ft=!1),K=2/g;const Tt=-2/S;t.uniform4f(l,me.ha[0]*K*me.Ba,me.ha[1]*Tt*me.Ca,me.ha[2]*K*me.Ba,me.ha[3]*Tt*me.Ca),t.uniform2f(h,me.ha[4]*K*me.Ba+K*(me.Za-me.ic*me.Ba)-1,me.ha[5]*Tt*me.Ca+Tt*(me.$a-me.jc*me.Ca)+1),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,B),t.vertexAttribPointer(1,2,t.FLOAT,!1,0,B+4*V),t.drawElements(t.TRIANGLES,me.indices.length,t.UNSIGNED_SHORT,Fe),B+=4*me.Ua.length,Fe+=2*me.indices.length}console.assert(B==4*V),console.assert(Fe==2*Ee)}}},this.canvas=function(){return e()&&t.canvas}},X=f.onRuntimeInitialized;f.onRuntimeInitialized=function(){function e(L){switch(L){case y.srcOver:return"source-over";case y.screen:return"screen";case y.overlay:return"overlay";case y.darken:return"darken";case y.lighten:return"lighten";case y.colorDodge:return"color-dodge";case y.colorBurn:return"color-burn";case y.hardLight:return"hard-light";case y.softLight:return"soft-light";case y.difference:return"difference";case y.exclusion:return"exclusion";case y.multiply:return"multiply";case y.hue:return"hue";case y.saturation:return"saturation";case y.color:return"color";case y.luminosity:return"luminosity"}}function t(L){return"rgba("+((16711680&L)>>>16)+","+((65280&L)>>>8)+","+((255&L)>>>0)+","+((4278190080&L)>>>24)/255+")"}function r(){0<Ae.length&&(ne.Qb(B.drawWidth(),B.drawHeight(),Ae,Fe,Ft),Ae=[],Ft=Fe=0,B.reset(512,512));for(const L of Ee){for(const N of L.H)N();L.H=[]}Ee.clear()}X&&X();var a=f.RenderPaintStyle;const l=f.RenderPath,h=f.RenderPaint,m=f.Renderer,b=f.StrokeCap,E=f.StrokeJoin,y=f.BlendMode,k=a.fill,W=a.stroke,H=f.FillRule.evenOdd;let g=1;var S=f.RenderImage.extend("CanvasRenderImage",{__construct:function({la:L,xa:N}={}){this.__parent.__construct.call(this),this.Ka=g,g=g+1&2147483647||1,this.la=L,this.xa=N},__destruct:function(){this.Ja&&(ne.Mb(this.Ja),URL.revokeObjectURL(this.Xa)),this.__parent.__destruct.call(this)},decode:function(L){var N=this;N.xa&&N.xa(N);var de=new Image;N.Xa=URL.createObjectURL(new Blob([L],{type:"image/png"})),de.onload=function(){N.Fb=de,N.Ja=ne.Lb(de),N.size(de.width,de.height),N.la&&N.la(N)},de.src=N.Xa}}),K=l.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(L,N,de,ge,ue,pe,Me){var Re=this.T,Et=Re.addPath;L=L.T;const Ne=new DOMMatrix;Ne.a=N,Ne.b=de,Ne.c=ge,Ne.d=ue,Ne.e=pe,Ne.f=Me,Et.call(Re,L,Ne)},fillRule:function(L){this.Wa=L},moveTo:function(L,N){this.T.moveTo(L,N)},lineTo:function(L,N){this.T.lineTo(L,N)},cubicTo:function(L,N,de,ge,ue,pe){this.T.bezierCurveTo(L,N,de,ge,ue,pe)},close:function(){this.T.closePath()}}),V=h.extend("CanvasRenderPaint",{color:function(L){this.Ya=t(L)},thickness:function(L){this.Ib=L},join:function(L){switch(L){case E.miter:this.Ia="miter";break;case E.round:this.Ia="round";break;case E.bevel:this.Ia="bevel"}},cap:function(L){switch(L){case b.butt:this.Ha="butt";break;case b.round:this.Ha="round";break;case b.square:this.Ha="square"}},style:function(L){this.Hb=L},blendMode:function(L){this.Eb=e(L)},clearGradient:function(){this.ja=null},linearGradient:function(L,N,de,ge){this.ja={zb:L,Ab:N,cb:de,eb:ge,Ra:[]}},radialGradient:function(L,N,de,ge){this.ja={zb:L,Ab:N,cb:de,eb:ge,Ra:[],ec:!0}},addStop:function(L,N){this.ja.Ra.push({color:L,stop:N})},completeGradient:function(){},draw:function(L,N,de){let ge=this.Hb;var ue=this.Ya,pe=this.ja;if(L.globalCompositeOperation=this.Eb,pe!=null){ue=pe.zb;var Me=pe.Ab;const Et=pe.cb;var Re=pe.eb;const Ne=pe.Ra;pe.ec?(pe=Et-ue,Re-=Me,ue=L.createRadialGradient(ue,Me,0,ue,Me,Math.sqrt(pe*pe+Re*Re))):ue=L.createLinearGradient(ue,Me,Et,Re);for(let vt=0,Be=Ne.length;vt<Be;vt++)Me=Ne[vt],ue.addColorStop(Me.stop,t(Me.color));this.Ya=ue,this.ja=null}switch(ge){case W:L.strokeStyle=ue,L.lineWidth=this.Ib,L.lineCap=this.Ha,L.lineJoin=this.Ia,L.stroke(N);break;case k:L.fillStyle=ue,L.fill(N,de)}}});const Ee=new Set;let B=null,Ae=[],Fe=0,Ft=0;var cn=f.CanvasRenderer=m.extend("Renderer",{__construct:function(L){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=L.getContext("2d"),this.Va=L,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const L=this.S.length-6;if(6>L)throw"restore() called without matching save().";this.S.splice(L),this.H.push(this.C.restore.bind(this.C))},transform:function(L,N,de,ge,ue,pe){const Me=this.S,Re=Me.length-6;Me.splice(Re,6,Me[Re]*L+Me[Re+2]*N,Me[Re+1]*L+Me[Re+3]*N,Me[Re]*de+Me[Re+2]*ge,Me[Re+1]*de+Me[Re+3]*ge,Me[Re]*ue+Me[Re+2]*pe+Me[Re+4],Me[Re+1]*ue+Me[Re+3]*pe+Me[Re+5]),this.H.push(this.C.transform.bind(this.C,L,N,de,ge,ue,pe))},rotate:function(L){const N=Math.sin(L);L=Math.cos(L),this.transform(L,N,-N,L,0,0)},_drawPath:function(L,N){this.H.push(N.draw.bind(N,this.C,L.T,L.Wa===H?"evenodd":"nonzero"))},_drawRiveImage:function(L,N,de,ge){var ue=L.Fb;if(ue){var pe=this.C,Me=e(de);this.H.push(function(){pe.globalCompositeOperation=Me,pe.globalAlpha=ge,pe.drawImage(ue,0,0),pe.globalAlpha=1})}},_getMatrix:function(L){const N=this.S,de=N.length-6;for(let ge=0;6>ge;++ge)L[ge]=N[de+ge]},_drawImageMesh:function(L,N,de,ge,ue,pe,Me,Re,Et,Ne,vt){N=this.C.canvas.width;var Be=this.C.canvas.height;const fo=Ne-Re,ho=vt-Et;Re=Math.max(Re,0),Et=Math.max(Et,0),Ne=Math.min(Ne,N),vt=Math.min(vt,Be);const Un=Ne-Re,Nn=vt-Et;if(console.assert(Un<=Math.min(fo,N)),console.assert(Nn<=Math.min(ho,Be)),!(0>=Un||0>=Nn)){Ne=Un<fo||Nn<ho,N=vt=1;var fn=Math.ceil(Un*vt),dn=Math.ceil(Nn*N);Be=ne.hc(),fn>Be&&(vt*=Be/fn,fn=Be),dn>Be&&(N*=Be/dn,dn=Be),B||(B=new f.DynamicRectanizer(Be),B.reset(512,512)),Be=B.addRect(fn,dn),0>Be&&(r(),Ee.add(this),Be=B.addRect(fn,dn),console.assert(0<=Be));var vo=Be&65535,po=Be>>16;Ae.push({ha:this.S.slice(this.S.length-6),image:L,Za:vo,$a:po,ic:Re,jc:Et,Ac:fn,kb:dn,Ba:vt,Ca:N,Ua:new Float32Array(ue),Db:new Float32Array(pe),indices:new Uint16Array(Me),mc:Ne,xb:L.Ka<<1|(Ne?1:0)}),Fe+=ue.length,Ft+=Me.length;var bn=this.C,Ha=e(de);this.H.push(function(){bn.save(),bn.resetTransform(),bn.globalCompositeOperation=Ha,bn.globalAlpha=ge;const mo=ne.canvas();mo&&bn.drawImage(mo,vo,po,fn,dn,Re,Et,Un,Nn),bn.restore()})}},_clipPath:function(L){this.H.push(this.C.clip.bind(this.C,L.T,L.Wa===H?"evenodd":"nonzero"))},clear:function(){Ee.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Va.width,this.Va.height))},flush:function(){},translate:function(L,N){this.transform(1,0,0,1,L,N)}});f.makeRenderer=function(L){const N=new cn(L),de=N.C;return new Proxy(N,{get(ge,ue){if(typeof ge[ue]=="function")return function(...pe){return ge[ue].apply(ge,pe)};if(typeof de[ue]=="function"){if(-1<Q.indexOf(ue))throw Error("RiveException: Method call to '"+ue+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...pe){N.H.push(de[ue].bind(de,...pe))}}return ge[ue]},set(ge,ue,pe){if(ue in de)return N.H.push(()=>{de[ue]=pe}),!0}})},f.decodeImage=function(L,N){new S({la:N}).decode(L)},f.renderFactory={makeRenderPaint:function(){return new V},makeRenderPath:function(){return new K},makeRenderImage:function(){let L=Tt;return new S({xa:()=>{L.total++},la:()=>{if(L.loaded++,L.loaded===L.total){const N=L.ready;N&&(N(),L.ready=null)}}})}};let me=f.load,Tt=null;f.load=function(L,N,de=!0){const ge=new f.FallbackFileAssetLoader;return N!==void 0&&ge.addLoader(N),de&&(N=new f.CDNFileAssetLoader,ge.addLoader(N)),new Promise(function(ue){let pe=null;Tt={total:0,loaded:0,ready:function(){ue(pe)}},pe=me(L,ge),Tt.total==0&&ue(pe)})};let Ba=f.RendererWrapper.prototype.align;f.RendererWrapper.prototype.align=function(L,N,de,ge,ue=1){Ba.call(this,L,N,de,ge,ue)},a=new ee,f.requestAnimationFrame=a.requestAnimationFrame.bind(a),f.cancelAnimationFrame=a.cancelAnimationFrame.bind(a),f.enableFPSCounter=a.Rb.bind(a),f.disableFPSCounter=a.Ob,a.pb=r,f.resolveAnimationFrame=r,f.cleanup=function(){B&&B.delete()}};var x=Object.assign({},f),D="./this.program",q=typeof window=="object",J=typeof importScripts=="function",ie="",z,ce;(q||J)&&(J?ie=self.location.href:typeof document<"u"&&document.currentScript&&(ie=document.currentScript.src),j&&(ie=j),ie.indexOf("blob:")!==0?ie=ie.substr(0,ie.replace(/[?#].*/,"").lastIndexOf("/")+1):ie="",J&&(ce=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),z=(e,t,r)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{a.status==200||a.status==0&&a.response?t(a.response):r()},a.onerror=r,a.send(null)});var Te=f.print||console.log.bind(console),ke=f.printErr||console.error.bind(console);Object.assign(f,x),x=null,f.thisProgram&&(D=f.thisProgram);var Se;f.wasmBinary&&(Se=f.wasmBinary),f.noExitRuntime,typeof WebAssembly!="object"&&$t("no native wasm support detected");var _t,he,Xt=!1,De,Pe,We,Ze,le,ve,it,Ie;function He(){var e=_t.buffer;f.HEAP8=De=new Int8Array(e),f.HEAP16=We=new Int16Array(e),f.HEAP32=le=new Int32Array(e),f.HEAPU8=Pe=new Uint8Array(e),f.HEAPU16=Ze=new Uint16Array(e),f.HEAPU32=ve=new Uint32Array(e),f.HEAPF32=it=new Float32Array(e),f.HEAPF64=Ie=new Float64Array(e)}var Oe,lt=[],ct=[],jt=[];function an(){var e=f.preRun.shift();lt.unshift(e)}var et=0,yt=null;function $t(e){throw f.onAbort&&f.onAbort(e),e="Aborted("+e+")",ke(e),Xt=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),U(e),e}function Tn(e){return e.startsWith("data:application/octet-stream;base64,")}var kt;if(kt="canvas_advanced.wasm",!Tn(kt)){var Qn=kt;kt=f.locateFile?f.locateFile(Qn,ie):ie+Qn}function ot(e){if(e==kt&&Se)return new Uint8Array(Se);if(ce)return ce(e);throw"both async and sync fetching of the wasm failed"}function kr(e){if(!Se&&(q||J)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>ot(e));if(z)return new Promise((t,r)=>{z(e,a=>t(new Uint8Array(a)),r)})}return Promise.resolve().then(()=>ot(e))}function Zn(e,t,r){return kr(e).then(a=>WebAssembly.instantiate(a,t)).then(a=>a).then(r,a=>{ke("failed to asynchronously prepare wasm: "+a),$t(a)})}function Dr(e,t){var r=kt;return Se||typeof WebAssembly.instantiateStreaming!="function"||Tn(r)||r.startsWith("file://")||typeof fetch!="function"?Zn(r,e,t):fetch(r,{credentials:"same-origin"}).then(a=>WebAssembly.instantiateStreaming(a,e).then(t,function(l){return ke("wasm streaming compile failed: "+l),ke("falling back to ArrayBuffer instantiation"),Zn(r,e,t)}))}var Gt,u,n={460492:(e,t,r,a,l)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=e,window.h.I.capture=t,window.h.I.La=r,window.h.ga={},window.h.ga.stopped=a,window.h.ga.yb=l;let h=window.h;h.D=[],h.yc=function(m){for(var b=0;b<h.D.length;++b)if(h.D[b]==null)return h.D[b]=m,b;return h.D.push(m),h.D.length-1},h.Cb=function(m){for(h.D[m]=null;0<h.D.length&&h.D[h.D.length-1]==null;)h.D.pop()},h.Sc=function(m){for(var b=0;b<h.D.length;++b)if(h.D[b]==m)return h.Cb(b)},h.ra=function(m){return h.D[m]},h.Ta=["touchend","click"],h.unlock=function(){for(var m=0;m<h.D.length;++m){var b=h.D[m];b!=null&&b.J!=null&&b.state===h.ga.yb&&b.J.resume().then(()=>{ao(b.qb)},E=>{console.error("Failed to resume audiocontext",E)})}h.Ta.map(function(E){document.removeEventListener(E,h.unlock,!0)})},h.Ta.map(function(m){document.addEventListener(m,h.unlock,!0)})}return window.h.Aa+=1,1},462670:()=>{typeof window.h<"u"&&(window.h.Ta.map(function(e){document.removeEventListener(e,window.h.unlock,!0)}),--window.h.Aa,window.h.Aa===0&&delete window.h)},462974:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,463078:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch{return 0}},463249:(e,t,r,a,l,h)=>{if(typeof window.h>"u")return-1;var m={},b={};return e==window.h.I.ya&&r!=0&&(b.sampleRate=r),m.J=new(window.AudioContext||window.webkitAudioContext)(b),m.J.suspend(),m.state=window.h.ga.stopped,r=0,e!=window.h.I.ya&&(r=t),m.Z=m.J.createScriptProcessor(a,r,t),m.Z.onaudioprocess=function(E){if((m.sa==null||m.sa.length==0)&&(m.sa=new Float32Array(it.buffer,l,a*t)),e==window.h.I.capture||e==window.h.I.La){for(var y=0;y<t;y+=1)for(var k=E.inputBuffer.getChannelData(y),W=m.sa,H=0;H<a;H+=1)W[H*t+y]=k[H];so(h,a,l)}if(e==window.h.I.ya||e==window.h.I.La)for(uo(h,a,l),y=0;y<E.outputBuffer.numberOfChannels;++y)for(k=E.outputBuffer.getChannelData(y),W=m.sa,H=0;H<a;H+=1)k[H]=W[H*t+y];else for(y=0;y<E.outputBuffer.numberOfChannels;++y)E.outputBuffer.getChannelData(y).fill(0)},e!=window.h.I.capture&&e!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(E){m.Da=m.J.createMediaStreamSource(E),m.Da.connect(m.Z),m.Z.connect(m.J.destination)}).catch(function(E){console.log("Failed to get user media: "+E)}),e==window.h.I.ya&&m.Z.connect(m.J.destination),m.qb=h,window.h.yc(m)},466126:e=>window.h.ra(e).J.sampleRate,466199:e=>{e=window.h.ra(e),e.Z!==void 0&&(e.Z.onaudioprocess=function(){},e.Z.disconnect(),e.Z=void 0),e.Da!==void 0&&(e.Da.disconnect(),e.Da=void 0),e.J.close(),e.J=void 0,e.qb=void 0},466599:e=>{window.h.Cb(e)},466649:e=>{e=window.h.ra(e),e.J.resume(),e.state=window.h.ga.yb},466788:e=>{e=window.h.ra(e),e.J.suspend(),e.state=window.h.ga.stopped}},i=e=>{for(;0<e.length;)e.shift()(f)},d=(e,t)=>{for(var r=0,a=e.length-1;0<=a;a--){var l=e[a];l==="."?e.splice(a,1):l===".."?(e.splice(a,1),r++):r&&(e.splice(a,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},_=e=>{var t=e.charAt(0)==="/",r=e.substr(-1)==="/";return(e=d(e.split("/").filter(a=>!!a),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},M=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},O=e=>{if(e==="/")return"/";e=_(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},Z=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);$t("initRandomDevice")},ae=e=>(ae=Z())(e);function G(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){if(t=0<=r?arguments[r]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=d(e.split("/").filter(a=>!!a),!t).join("/"),(t?"/":"")+e||"."}var fe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ce=(e,t,r)=>{var a=t+r;for(r=t;e[r]&&!(r>=a);)++r;if(16<r-t&&e.buffer&&fe)return fe.decode(e.subarray(t,r));for(a="";t<r;){var l=e[t++];if(l&128){var h=e[t++]&63;if((l&224)==192)a+=String.fromCharCode((l&31)<<6|h);else{var m=e[t++]&63;l=(l&240)==224?(l&15)<<12|h<<6|m:(l&7)<<18|h<<12|m<<6|e[t++]&63,65536>l?a+=String.fromCharCode(l):(l-=65536,a+=String.fromCharCode(55296|l>>10,56320|l&1023))}}else a+=String.fromCharCode(l)}return a},Ue=[],Le=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);127>=a?t++:2047>=a?t+=2:55296<=a&&57343>=a?(t+=4,++r):t+=3}return t},wt=(e,t,r,a)=>{if(!(0<a))return 0;var l=r;a=r+a-1;for(var h=0;h<e.length;++h){var m=e.charCodeAt(h);if(55296<=m&&57343>=m){var b=e.charCodeAt(++h);m=65536+((m&1023)<<10)|b&1023}if(127>=m){if(r>=a)break;t[r++]=m}else{if(2047>=m){if(r+1>=a)break;t[r++]=192|m>>6}else{if(65535>=m){if(r+2>=a)break;t[r++]=224|m>>12}else{if(r+3>=a)break;t[r++]=240|m>>18,t[r++]=128|m>>12&63}t[r++]=128|m>>6&63}t[r++]=128|m&63}}return t[r]=0,r-l};function ft(e,t){var r=Array(Le(e)+1);return e=wt(e,r,0,r.length),t&&(r.length=e),r}var tt=[];function nt(e,t){tt[e]={input:[],F:[],V:t},Vr(e,dt)}var dt={open:function(e){var t=tt[e.node.za];if(!t)throw new Y(43);e.s=t,e.seekable=!1},close:function(e){e.s.V.qa(e.s)},qa:function(e){e.s.V.qa(e.s)},read:function(e,t,r,a){if(!e.s||!e.s.V.jb)throw new Y(60);for(var l=0,h=0;h<a;h++){try{var m=e.s.V.jb(e.s)}catch{throw new Y(29)}if(m===void 0&&l===0)throw new Y(6);if(m==null)break;l++,t[r+h]=m}return l&&(e.node.timestamp=Date.now()),l},write:function(e,t,r,a){if(!e.s||!e.s.V.Oa)throw new Y(60);try{for(var l=0;l<a;l++)e.s.V.Oa(e.s,t[r+l])}catch{throw new Y(29)}return a&&(e.node.timestamp=Date.now()),l}},qt={jb:function(){e:{if(!Ue.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){e=null;break e}Ue=ft(e,!0)}e=Ue.shift()}return e},Oa:function(e,t){t===null||t===10?(Te(Ce(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(Te(Ce(e.F,0)),e.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},Kt={Oa:function(e,t){t===null||t===10?(ke(Ce(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(ke(Ce(e.F,0)),e.F=[])}};function It(e,t){var r=e.j?e.j.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),r!=0&&(t=Math.max(t,256)),r=e.j,e.j=new Uint8Array(t),0<e.v&&e.j.set(r.subarray(0,e.v),0))}var re={O:null,U(){return re.createNode(null,"/",16895,0)},createNode(e,t,r,a){if((r&61440)===24576||(r&61440)===4096)throw new Y(63);return re.O||(re.O={dir:{node:{Y:re.l.Y,P:re.l.P,ka:re.l.ka,va:re.l.va,vb:re.l.vb,Bb:re.l.Bb,wb:re.l.wb,tb:re.l.tb,Ea:re.l.Ea},stream:{ba:re.m.ba}},file:{node:{Y:re.l.Y,P:re.l.P},stream:{ba:re.m.ba,read:re.m.read,write:re.m.write,pa:re.m.pa,mb:re.m.mb,ob:re.m.ob}},link:{node:{Y:re.l.Y,P:re.l.P,ma:re.l.ma},stream:{}},ab:{node:{Y:re.l.Y,P:re.l.P},stream:wa}}),r=Fi(e,t,r,a),(r.mode&61440)===16384?(r.l=re.O.dir.node,r.m=re.O.dir.stream,r.j={}):(r.mode&61440)===32768?(r.l=re.O.file.node,r.m=re.O.file.stream,r.v=0,r.j=null):(r.mode&61440)===40960?(r.l=re.O.link.node,r.m=re.O.link.stream):(r.mode&61440)===8192&&(r.l=re.O.ab.node,r.m=re.O.ab.stream),r.timestamp=Date.now(),e&&(e.j[t]=r,e.timestamp=r.timestamp),r},Kc(e){return e.j?e.j.subarray?e.j.subarray(0,e.v):new Uint8Array(e.j):new Uint8Array(0)},l:{Y(e){var t={};return t.Jc=(e.mode&61440)===8192?e.id:1,t.Mc=e.id,t.mode=e.mode,t.Oc=1,t.uid=0,t.Lc=0,t.za=e.za,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.v:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.Bc=new Date(e.timestamp),t.Nc=new Date(e.timestamp),t.Ic=new Date(e.timestamp),t.Jb=4096,t.Cc=Math.ceil(t.size/t.Jb),t},P(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.v!=t))if(t==0)e.j=null,e.v=0;else{var r=e.j;e.j=new Uint8Array(t),r&&e.j.set(r.subarray(0,Math.min(t,e.v))),e.v=t}},ka(){throw Wr[44]},va(e,t,r,a){return re.createNode(e,t,r,a)},vb(e,t,r){if((e.mode&61440)===16384){try{var a=tr(t,r)}catch{}if(a)for(var l in a.j)throw new Y(55)}delete e.parent.j[e.name],e.parent.timestamp=Date.now(),e.name=r,t.j[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},Bb(e,t){delete e.j[t],e.timestamp=Date.now()},wb(e,t){var r=tr(e,t),a;for(a in r.j)throw new Y(55);delete e.j[t],e.timestamp=Date.now()},tb(e){var t=[".",".."],r;for(r in e.j)e.j.hasOwnProperty(r)&&t.push(r);return t},Ea(e,t,r){return e=re.createNode(e,t,41471,0),e.link=r,e},ma(e){if((e.mode&61440)!==40960)throw new Y(28);return e.link}},m:{read(e,t,r,a,l){var h=e.node.j;if(l>=e.node.v)return 0;if(e=Math.min(e.node.v-l,a),8<e&&h.subarray)t.set(h.subarray(l,l+e),r);else for(a=0;a<e;a++)t[r+a]=h[l+a];return e},write(e,t,r,a,l,h){if(t.buffer===De.buffer&&(h=!1),!a)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.j||e.j.subarray)){if(h)return e.j=t.subarray(r,r+a),e.v=a;if(e.v===0&&l===0)return e.j=t.slice(r,r+a),e.v=a;if(l+a<=e.v)return e.j.set(t.subarray(r,r+a),l),a}if(It(e,l+a),e.j.subarray&&t.subarray)e.j.set(t.subarray(r,r+a),l);else for(h=0;h<a;h++)e.j[l+h]=t[r+h];return e.v=Math.max(e.v,l+a),a},ba(e,t,r){if(r===1?t+=e.position:r===2&&(e.node.mode&61440)===32768&&(t+=e.node.v),0>t)throw new Y(28);return t},pa(e,t,r){It(e.node,t+r),e.node.v=Math.max(e.node.v,t+r)},mb(e,t,r,a,l){if((e.node.mode&61440)!==32768)throw new Y(43);if(e=e.node.j,l&2||e.buffer!==De.buffer){if((0<r||r+t<e.length)&&(e.subarray?e=e.subarray(r,r+t):e=Array.prototype.slice.call(e,r,r+t)),r=!0,$t(),t=void 0,!t)throw new Y(48);De.set(e,t)}else r=!1,t=e.byteOffset;return{o:t,M:r}},ob(e,t,r,a){return re.m.write(e,t,0,a,r,!1),0}}};function ye(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r}var Rt=null,Mi={},er=[],_a=1,Ln=null,Ii=!0,Y=null,Wr={},sn=(e,t={})=>{if(e=G(e),!e)return{path:"",node:null};if(t=Object.assign({hb:!0,Qa:0},t),8<t.Qa)throw new Y(32);e=e.split("/").filter(m=>!!m);for(var r=Rt,a="/",l=0;l<e.length;l++){var h=l===e.length-1;if(h&&t.parent)break;if(r=tr(r,e[l]),a=_(a+"/"+e[l]),r.wa&&(!h||h&&t.hb)&&(r=r.wa.root),!h||t.gb){for(h=0;(r.mode&61440)===40960;)if(r=ba(a),a=G(M(a),r),r=sn(a,{Qa:t.Qa+1}).node,40<h++)throw new Y(32)}}return{path:a,node:r}},Ri=e=>{for(var t;;){if(e===e.parent)return e=e.U.nb,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}},Pi=(e,t)=>{for(var r=0,a=0;a<t.length;a++)r=(r<<5)-r+t.charCodeAt(a)|0;return(e+r>>>0)%Ln.length},tr=(e,t)=>{var r;if(r=(r=nr(e,"x"))?r:e.l.ka?0:2)throw new Y(r,e);for(r=Ln[Pi(e.id,t)];r;r=r.lc){var a=r.name;if(r.parent.id===e.id&&a===t)return r}return e.l.ka(e,t)},Fi=(e,t,r,a)=>(e=new no(e,t,r,a),t=Pi(e.parent.id,e.name),e.lc=Ln[t],Ln[t]=e),Ti=e=>{var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},nr=(e,t)=>{if(Ii)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0},Li=(e,t)=>{try{return tr(e,t),20}catch{}return nr(e,"wx")},ya=()=>{for(var e=0;4096>=e;e++)if(!er[e])return e;throw new Y(33)},Jt=e=>{if(e=er[e],!e)throw new Y(8);return e},Oi=(e,t=-1)=>(xn||(xn=function(){this.h={}},xn.prototype={},Object.defineProperties(xn.prototype,{object:{get(){return this.node},set(r){this.node=r}},flags:{get(){return this.h.flags},set(r){this.h.flags=r}},position:{get(){return this.h.position},set(r){this.h.position=r}}})),e=Object.assign(new xn,e),t==-1&&(t=ya()),e.X=t,er[t]=e),wa={open:e=>{e.m=Mi[e.node.za].m,e.m.open&&e.m.open(e)},ba:()=>{throw new Y(70)}},Vr=(e,t)=>{Mi[e]={m:t}},xi=(e,t)=>{var r=t==="/",a=!t;if(r&&Rt)throw new Y(10);if(!r&&!a){var l=sn(t,{hb:!1});if(t=l.path,l=l.node,l.wa)throw new Y(10);if((l.mode&61440)!==16384)throw new Y(54)}t={type:e,Qc:{},nb:t,kc:[]},e=e.U(t),e.U=t,t.root=e,r?Rt=e:l&&(l.wa=t,l.U&&l.U.kc.push(t))},bt=(e,t,r)=>{var a=sn(e,{parent:!0}).node;if(e=O(e),!e||e==="."||e==="..")throw new Y(28);var l=Li(a,e);if(l)throw new Y(l);if(!a.l.va)throw new Y(63);return a.l.va(a,e,t,r)},rr=(e,t,r)=>{typeof r>"u"&&(r=t,t=438),bt(e,t|8192,r)},Ur=(e,t)=>{if(!G(e))throw new Y(44);var r=sn(t,{parent:!0}).node;if(!r)throw new Y(44);t=O(t);var a=Li(r,t);if(a)throw new Y(a);if(!r.l.Ea)throw new Y(63);r.l.Ea(r,t,e)},ba=e=>{if(e=sn(e).node,!e)throw new Y(44);if(!e.l.ma)throw new Y(28);return G(Ri(e.parent),e.l.ma(e))},ir=(e,t,r)=>{if(e==="")throw new Y(44);if(typeof t=="string"){var a={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof a>"u")throw Error(`Unknown file open mode: ${t}`);t=a}if(r=t&64?(typeof r>"u"?438:r)&4095|32768:0,typeof e=="object")var l=e;else{e=_(e);try{l=sn(e,{gb:!(t&131072)}).node}catch{}}if(a=!1,t&64)if(l){if(t&128)throw new Y(20)}else l=bt(e,r,0),a=!0;if(!l)throw new Y(44);if((l.mode&61440)===8192&&(t&=-513),t&65536&&(l.mode&61440)!==16384)throw new Y(54);if(!a&&(r=l?(l.mode&61440)===40960?32:(l.mode&61440)===16384&&(Ti(t)!=="r"||t&512)?31:nr(l,Ti(t)):44))throw new Y(r);if(t&512&&!a){if(r=l,r=typeof r=="string"?sn(r,{gb:!0}).node:r,!r.l.P)throw new Y(63);if((r.mode&61440)===16384)throw new Y(31);if((r.mode&61440)!==32768)throw new Y(28);if(a=nr(r,"w"))throw new Y(a);r.l.P(r,{size:0,timestamp:Date.now()})}return t&=-131713,l=Oi({node:l,path:Ri(l),flags:t,seekable:!0,position:0,m:l.m,zc:[],error:!1}),l.m.open&&l.m.open(l),!f.logReadFiles||t&1||(or||(or={}),e in or||(or[e]=1)),l},Si=(e,t,r)=>{if(e.X===null)throw new Y(8);if(!e.seekable||!e.m.ba)throw new Y(70);if(r!=0&&r!=1&&r!=2)throw new Y(28);e.position=e.m.ba(e,t,r),e.zc=[]},ji=()=>{Y||(Y=function(e,t){this.name="ErrnoError",this.node=t,this.pc=function(r){this.aa=r},this.pc(e),this.message="FS error"},Y.prototype=Error(),Y.prototype.constructor=Y,[44].forEach(e=>{Wr[e]=new Y(e),Wr[e].stack="<generic error, no stack>"}))},ki,On=(e,t,r)=>{e=_("/dev/"+e);var a=ye(!!t,!!r);Nr||(Nr=64);var l=Nr++<<8|0;Vr(l,{open:h=>{h.seekable=!1},close:()=>{r&&r.buffer&&r.buffer.length&&r(10)},read:(h,m,b,E)=>{for(var y=0,k=0;k<E;k++){try{var W=t()}catch{throw new Y(29)}if(W===void 0&&y===0)throw new Y(6);if(W==null)break;y++,m[b+k]=W}return y&&(h.node.timestamp=Date.now()),y},write:(h,m,b,E)=>{for(var y=0;y<E;y++)try{r(m[b+y])}catch{throw new Y(29)}return E&&(h.node.timestamp=Date.now()),y}}),rr(e,a,l)},Nr,un={},xn,or,Sn=void 0;function Dt(){return Sn+=4,le[Sn-4>>2]}function Di(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e}function ar(e,t){return e=Di(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function Wi(){this.M=[void 0],this.ib=[]}var ht=new Wi,_n=void 0;function se(e){throw new _n(e)}var At=e=>(e||se("Cannot use deleted val. handle = "+e),ht.get(e).value),Ct=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ht.pa({ub:1,value:e})}};function Vi(e){var t=Error,r=ar(e,function(a){this.name=e,this.message=a,a=Error(a).stack,a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r}var Ui=void 0,Ni=void 0;function xe(e){for(var t="";Pe[e];)t+=Ni[Pe[e++]];return t}var jn=[];function Br(){for(;jn.length;){var e=jn.pop();e.g.fa=!1,e.delete()}}var kn=void 0,Wt={};function Hr(e,t){for(t===void 0&&se("ptr should not be undefined");e.A;)t=e.na(t),e=e.A;return t}var ln={};function Bi(e){e=lo(e);var t=xe(e);return Nt(e),t}function Dn(e,t){var r=ln[e];return r===void 0&&se(t+" has unknown type "+Bi(e)),r}function sr(){}var Yr=!1;function Hi(e){--e.count.value,e.count.value===0&&(e.G?e.L.W(e.G):e.u.i.W(e.o))}function Yi(e,t,r){return t===r?e:r.A===void 0?null:(e=Yi(e,t,r.A),e===null?null:r.Pb(e))}var zi={};function Aa(e,t){return t=Hr(e,t),Wt[t]}var Xi=void 0;function ur(e){throw new Xi(e)}function lr(e,t){return t.u&&t.o||ur("makeClassHandle requires ptr and ptrType"),!!t.L!=!!t.G&&ur("Both smartPtrType and smartPtr must be specified"),t.count={value:1},yn(Object.create(e,{g:{value:t}}))}function yn(e){return typeof FinalizationRegistry>"u"?(yn=t=>t,e):(Yr=new FinalizationRegistry(t=>{Hi(t.g)}),yn=t=>{var r=t.g;return r.G&&Yr.register(t,{g:r},t),t},sr=t=>{Yr.unregister(t)},yn(e))}var cr={};function Wn(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Vn(e){return this.fromWireType(le[e>>2])}var wn={},fr={};function at(e,t,r){function a(b){b=r(b),b.length!==e.length&&ur("Mismatched type converter count");for(var E=0;E<e.length;++E)Pt(e[E],b[E])}e.forEach(function(b){fr[b]=t});var l=Array(t.length),h=[],m=0;t.forEach((b,E)=>{ln.hasOwnProperty(b)?l[E]=ln[b]:(h.push(b),wn.hasOwnProperty(b)||(wn[b]=[]),wn[b].push(()=>{l[E]=ln[b],++m,m===h.length&&a(l)}))}),h.length===0&&a(l)}function dr(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function Ca(e,t,r={}){var a=t.name;if(e||se(`type "${a}" must have a positive integer typeid pointer`),ln.hasOwnProperty(e)){if(r.$b)return;se(`Cannot register type '${a}' twice`)}ln[e]=t,delete fr[e],wn.hasOwnProperty(e)&&(t=wn[e],delete wn[e],t.forEach(l=>l()))}function Pt(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");Ca(e,t,r)}function zr(e){se(e.g.u.i.name+" instance already deleted")}function Qt(){}function Xr(e,t,r){if(e[t].B===void 0){var a=e[t];e[t]=function(){return e[t].B.hasOwnProperty(arguments.length)||se(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].B})!`),e[t].B[arguments.length].apply(this,arguments)},e[t].B=[],e[t].B[a.ea]=a}}function $r(e,t,r){f.hasOwnProperty(e)?((r===void 0||f[e].B!==void 0&&f[e].B[r]!==void 0)&&se(`Cannot register public name '${e}' twice`),Xr(f,e,e),f.hasOwnProperty(r)&&se(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),f[e].B[r]=t):(f[e]=t,r!==void 0&&(f[e].Pc=r))}function Ea(e,t,r,a,l,h,m,b){this.name=e,this.constructor=t,this.N=r,this.W=a,this.A=l,this.Ub=h,this.na=m,this.Pb=b,this.rb=[]}function hr(e,t,r){for(;t!==r;)t.na||se(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.na(e),t=t.A;return e}function Ma(e,t){return t===null?(this.Na&&se(`null is not a valid ${this.name}`),0):(t.g||se(`Cannot pass "${qr(t)}" as a ${this.name}`),t.g.o||se(`Cannot pass deleted object as a pointer of type ${this.name}`),hr(t.g.o,t.g.u.i,this.i))}function Ia(e,t){if(t===null){if(this.Na&&se(`null is not a valid ${this.name}`),this.ua){var r=this.Pa();return e!==null&&e.push(this.W,r),r}return 0}if(t.g||se(`Cannot pass "${qr(t)}" as a ${this.name}`),t.g.o||se(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&t.g.u.ta&&se(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`),r=hr(t.g.o,t.g.u.i,this.i),this.ua)switch(t.g.G===void 0&&se("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:t.g.L===this?r=t.g.G:se(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`);break;case 1:r=t.g.G;break;case 2:if(t.g.L===this)r=t.g.G;else{var a=t.clone();r=this.oc(r,Ct(function(){a.delete()})),e!==null&&e.push(this.W,r)}break;default:se("Unsupporting sharing policy")}return r}function Ra(e,t){return t===null?(this.Na&&se(`null is not a valid ${this.name}`),0):(t.g||se(`Cannot pass "${qr(t)}" as a ${this.name}`),t.g.o||se(`Cannot pass deleted object as a pointer of type ${this.name}`),t.g.u.ta&&se(`Cannot convert argument of type ${t.g.u.name} to parameter type ${this.name}`),hr(t.g.o,t.g.u.i,this.i))}function Vt(e,t,r,a){this.name=e,this.i=t,this.Na=r,this.ta=a,this.ua=!1,this.W=this.oc=this.Pa=this.sb=this.tc=this.nc=void 0,t.A!==void 0?this.toWireType=Ia:(this.toWireType=a?Ma:Ra,this.K=null)}function $i(e,t,r){f.hasOwnProperty(e)||ur("Replacing nonexistant public symbol"),f[e].B!==void 0&&r!==void 0?f[e].B[r]=t:(f[e]=t,f[e].ea=r)}var vr=[],Gi=e=>{var t=vr[e];return t||(e>=vr.length&&(vr.length=e+1),vr[e]=t=Oe.get(e)),t},Pa=(e,t)=>{var r=[];return function(){if(r.length=0,Object.assign(r,arguments),e.includes("j")){var a=f["dynCall_"+e];a=r&&r.length?a.apply(null,[t].concat(r)):a.call(null,t)}else a=Gi(t).apply(null,r);return a}};function $e(e,t){e=xe(e);var r=e.includes("j")?Pa(e,t):Gi(t);return typeof r!="function"&&se(`unknown function pointer with signature ${e}: ${t}`),r}var qi=void 0;function Ut(e,t){function r(h){l[h]||ln[h]||(fr[h]?fr[h].forEach(r):(a.push(h),l[h]=!0))}var a=[],l={};throw t.forEach(r),new qi(`${e}: `+a.map(Bi).join([", "]))}function pr(e,t,r,a,l){var h=t.length;2>h&&se("argTypes array size mismatch! Must at least get return value and 'this' types!");var m=t[1]!==null&&r!==null,b=!1;for(r=1;r<t.length;++r)if(t[r]!==null&&t[r].K===void 0){b=!0;break}var E=t[0].name!=="void",y=h-2,k=Array(y),W=[],H=[];return function(){if(arguments.length!==y&&se(`function ${e} called with ${arguments.length} arguments, expected ${y} args!`),H.length=0,W.length=m?2:1,W[0]=l,m){var g=t[1].toWireType(H,this);W[1]=g}for(var S=0;S<y;++S)k[S]=t[S+2].toWireType(H,arguments[S]),W.push(k[S]);if(S=a.apply(null,W),b)Wn(H);else for(var K=m?1:2;K<t.length;K++){var V=K===1?g:k[K-2];t[K].K!==null&&t[K].K(V)}return g=E?t[0].fromWireType(S):void 0,g}}function mr(e,t){for(var r=[],a=0;a<e;a++)r.push(ve[t+4*a>>2]);return r}function Ki(e,t,r){return e instanceof Object||se(`${r} with invalid "this": ${e}`),e instanceof t.i.constructor||se(`${r} incompatible with "this" of type ${e.constructor.name}`),e.g.o||se(`cannot call emscripten binding method ${r} on deleted object`),hr(e.g.o,e.g.u.i,t.i)}function Gr(e){e>=ht.h&&--ht.get(e).ub===0&&ht.Zb(e)}function Fa(e,t,r){switch(t){case 0:return function(a){return this.fromWireType((r?De:Pe)[a])};case 1:return function(a){return this.fromWireType((r?We:Ze)[a>>1])};case 2:return function(a){return this.fromWireType((r?le:ve)[a>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function qr(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function Ta(e,t){switch(t){case 2:return function(r){return this.fromWireType(it[r>>2])};case 3:return function(r){return this.fromWireType(Ie[r>>3])};default:throw new TypeError("Unknown float type: "+e)}}function La(e,t,r){switch(t){case 0:return r?function(a){return De[a]}:function(a){return Pe[a]};case 1:return r?function(a){return We[a>>1]}:function(a){return Ze[a>>1]};case 2:return r?function(a){return le[a>>2]}:function(a){return ve[a>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var Ji=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Oa=(e,t)=>{for(var r=e>>1,a=r+t/2;!(r>=a)&&Ze[r];)++r;if(r<<=1,32<r-e&&Ji)return Ji.decode(Pe.subarray(e,r));for(r="",a=0;!(a>=t/2);++a){var l=We[e+2*a>>1];if(l==0)break;r+=String.fromCharCode(l)}return r},xa=(e,t,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var a=t;r=r<2*e.length?r/2:e.length;for(var l=0;l<r;++l)We[t>>1]=e.charCodeAt(l),t+=2;return We[t>>1]=0,t-a},Sa=e=>2*e.length,ja=(e,t)=>{for(var r=0,a="";!(r>=t/4);){var l=le[e+4*r>>2];if(l==0)break;++r,65536<=l?(l-=65536,a+=String.fromCharCode(55296|l>>10,56320|l&1023)):a+=String.fromCharCode(l)}return a},ka=(e,t,r)=>{if(r===void 0&&(r=2147483647),4>r)return 0;var a=t;r=a+r-4;for(var l=0;l<e.length;++l){var h=e.charCodeAt(l);if(55296<=h&&57343>=h){var m=e.charCodeAt(++l);h=65536+((h&1023)<<10)|m&1023}if(le[t>>2]=h,t+=4,t+4>r)break}return le[t>>2]=0,t-a},Da=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);55296<=a&&57343>=a&&++r,t+=4}return t},Wa={};function gr(e){var t=Wa[e];return t===void 0?xe(e):t}var _r=[];function Va(e){var t=_r.length;return _r.push(e),t}function Ua(e,t){for(var r=Array(e),a=0;a<e;++a)r[a]=Dn(ve[t+4*a>>2],"parameter "+a);return r}var Qi=[],Kr=[],Jr={},Zi=()=>{if(!Qr){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:D||"./this.program"},t;for(t in Jr)Jr[t]===void 0?delete e[t]:e[t]=Jr[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);Qr=r}return Qr},Qr,yr=e=>e%4===0&&(e%100!==0||e%400===0),eo=[31,29,31,30,31,30,31,31,30,31,30,31],to=[31,28,31,30,31,30,31,31,30,31,30,31],Na=(e,t,r,a)=>{function l(g,S,K){for(g=typeof g=="number"?g.toString():g||"";g.length<S;)g=K[0]+g;return g}function h(g,S){return l(g,S,"0")}function m(g,S){function K(Ee){return 0>Ee?-1:0<Ee?1:0}var V;return(V=K(g.getFullYear()-S.getFullYear()))===0&&(V=K(g.getMonth()-S.getMonth()))===0&&(V=K(g.getDate()-S.getDate())),V}function b(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function E(g){var S=g.ca;for(g=new Date(new Date(g.da+1900,0,1).getTime());0<S;){var K=g.getMonth(),V=(yr(g.getFullYear())?eo:to)[K];if(S>V-g.getDate())S-=V-g.getDate()+1,g.setDate(1),11>K?g.setMonth(K+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+S);break}}return K=new Date(g.getFullYear()+1,0,4),S=b(new Date(g.getFullYear(),0,4)),K=b(K),0>=m(S,g)?0>=m(K,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}var y=le[a+40>>2];a={wc:le[a>>2],vc:le[a+4>>2],Fa:le[a+8>>2],Sa:le[a+12>>2],Ga:le[a+16>>2],da:le[a+20>>2],R:le[a+24>>2],ca:le[a+28>>2],Rc:le[a+32>>2],uc:le[a+36>>2],xc:y&&y?Ce(Pe,y):""},r=r?Ce(Pe,r):"",y={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var k in y)r=r.replace(new RegExp(k,"g"),y[k]);var W="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),H="January February March April May June July August September October November December".split(" ");y={"%a":g=>W[g.R].substring(0,3),"%A":g=>W[g.R],"%b":g=>H[g.Ga].substring(0,3),"%B":g=>H[g.Ga],"%C":g=>h((g.da+1900)/100|0,2),"%d":g=>h(g.Sa,2),"%e":g=>l(g.Sa,2," "),"%g":g=>E(g).toString().substring(2),"%G":g=>E(g),"%H":g=>h(g.Fa,2),"%I":g=>(g=g.Fa,g==0?g=12:12<g&&(g-=12),h(g,2)),"%j":g=>{for(var S=0,K=0;K<=g.Ga-1;S+=(yr(g.da+1900)?eo:to)[K++]);return h(g.Sa+S,3)},"%m":g=>h(g.Ga+1,2),"%M":g=>h(g.vc,2),"%n":()=>`
`,"%p":g=>0<=g.Fa&&12>g.Fa?"AM":"PM","%S":g=>h(g.wc,2),"%t":()=>"	","%u":g=>g.R||7,"%U":g=>h(Math.floor((g.ca+7-g.R)/7),2),"%V":g=>{var S=Math.floor((g.ca+7-(g.R+6)%7)/7);if(2>=(g.R+371-g.ca-2)%7&&S++,S)S==53&&(K=(g.R+371-g.ca)%7,K==4||K==3&&yr(g.da)||(S=1));else{S=52;var K=(g.R+7-g.ca-1)%7;(K==4||K==5&&yr(g.da%400-1))&&S++}return h(S,2)},"%w":g=>g.R,"%W":g=>h(Math.floor((g.ca+7-(g.R+6)%7)/7),2),"%y":g=>(g.da+1900).toString().substring(2),"%Y":g=>g.da+1900,"%z":g=>{g=g.uc;var S=0<=g;return g=Math.abs(g)/60,(S?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.xc,"%%":()=>"%"},r=r.replace(/%%/g,"\0\0");for(k in y)r.includes(k)&&(r=r.replace(new RegExp(k,"g"),y[k](a)));return r=r.replace(/\0\0/g,"%"),k=ft(r,!1),k.length>t?0:(De.set(k,e),k.length-1)};function no(e,t,r,a){e||(e=this),this.parent=e,this.U=e.U,this.wa=null,this.id=_a++,this.name=t,this.mode=r,this.l={},this.m={},this.za=a}Object.defineProperties(no.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),ji(),Ln=Array(4096),xi(re,"/"),bt("/tmp",16895,0),bt("/home",16895,0),bt("/home/web_user",16895,0),(()=>{bt("/dev",16895,0),Vr(259,{read:()=>0,write:(a,l,h,m)=>m}),rr("/dev/null",259),nt(1280,qt),nt(1536,Kt),rr("/dev/tty",1280),rr("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,r=()=>(t===0&&(t=ae(e).byteLength),e[--t]);On("random",r),On("urandom",r),bt("/dev/shm",16895,0),bt("/dev/shm/tmp",16895,0)})(),(()=>{bt("/proc",16895,0);var e=bt("/proc/self",16895,0);bt("/proc/self/fd",16895,0),xi({U:()=>{var t=Fi(e,"fd",16895,73);return t.l={ka:(r,a)=>{var l=Jt(+a);return r={parent:null,U:{nb:"fake"},l:{ma:()=>l.path}},r.parent=r}},t}},"/proc/self/fd")})(),Object.assign(Wi.prototype,{get(e){return this.M[e]},has(e){return this.M[e]!==void 0},pa(e){var t=this.ib.pop()||this.M.length;return this.M[t]=e,t},Zb(e){this.M[e]=void 0,this.ib.push(e)}}),_n=f.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},ht.M.push({value:void 0},{value:null},{value:!0},{value:!1}),ht.h=ht.M.length,f.count_emval_handles=function(){for(var e=0,t=ht.h;t<ht.M.length;++t)ht.M[t]!==void 0&&++e;return e},Ui=f.PureVirtualError=Vi("PureVirtualError");for(var ro=Array(256),wr=0;256>wr;++wr)ro[wr]=String.fromCharCode(wr);Ni=ro,f.getInheritedInstanceCount=function(){return Object.keys(Wt).length},f.getLiveInheritedInstances=function(){var e=[],t;for(t in Wt)Wt.hasOwnProperty(t)&&e.push(Wt[t]);return e},f.flushPendingDeletes=Br,f.setDelayFunction=function(e){kn=e,jn.length&&kn&&kn(Br)},Xi=f.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Qt.prototype.isAliasOf=function(e){if(!(this instanceof Qt&&e instanceof Qt))return!1;var t=this.g.u.i,r=this.g.o,a=e.g.u.i;for(e=e.g.o;t.A;)r=t.na(r),t=t.A;for(;a.A;)e=a.na(e),a=a.A;return t===a&&r===e},Qt.prototype.clone=function(){if(this.g.o||zr(this),this.g.ia)return this.g.count.value+=1,this;var e=yn,t=Object,r=t.create,a=Object.getPrototypeOf(this),l=this.g;return e=e(r.call(t,a,{g:{value:{count:l.count,fa:l.fa,ia:l.ia,o:l.o,u:l.u,G:l.G,L:l.L}}})),e.g.count.value+=1,e.g.fa=!1,e},Qt.prototype.delete=function(){this.g.o||zr(this),this.g.fa&&!this.g.ia&&se("Object already scheduled for deletion"),sr(this),Hi(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},Qt.prototype.isDeleted=function(){return!this.g.o},Qt.prototype.deleteLater=function(){return this.g.o||zr(this),this.g.fa&&!this.g.ia&&se("Object already scheduled for deletion"),jn.push(this),jn.length===1&&kn&&kn(Br),this.g.fa=!0,this},Vt.prototype.Vb=function(e){return this.sb&&(e=this.sb(e)),e},Vt.prototype.bb=function(e){this.W&&this.W(e)},Vt.prototype.argPackAdvance=8,Vt.prototype.readValueFromPointer=Vn,Vt.prototype.deleteObject=function(e){e!==null&&e.delete()},Vt.prototype.fromWireType=function(e){function t(){return this.ua?lr(this.i.N,{u:this.nc,o:r,L:this,G:e}):lr(this.i.N,{u:this,o:e})}var r=this.Vb(e);if(!r)return this.bb(e),null;var a=Aa(this.i,r);if(a!==void 0)return a.g.count.value===0?(a.g.o=r,a.g.G=e,a.clone()):(a=a.clone(),this.bb(e),a);if(a=this.i.Ub(r),a=zi[a],!a)return t.call(this);a=this.ta?a.Kb:a.pointerType;var l=Yi(r,this.i,a.i);return l===null?t.call(this):this.ua?lr(a.i.N,{u:a,o:l,L:this,G:e}):lr(a.i.N,{u:a,o:l})},qi=f.UnboundTypeError=Vi("UnboundTypeError");var io={__syscall_fcntl64:function(e,t,r){Sn=r;try{var a=Jt(e);switch(t){case 0:var l=Dt();return 0>l?-28:Oi(a,l).X;case 1:case 2:return 0;case 3:return a.flags;case 4:return l=Dt(),a.flags|=l,0;case 5:return l=Dt(),We[l+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return le[oo()>>2]=28,-1;default:return-28}}catch(h){if(typeof un>"u"||h.name!=="ErrnoError")throw h;return-h.aa}},__syscall_ioctl:function(e,t,r){Sn=r;try{var a=Jt(e);switch(t){case 21509:return a.s?0:-59;case 21505:if(!a.s)return-59;if(a.s.V.bc){t=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var l=Dt();le[l>>2]=25856,le[l+4>>2]=5,le[l+8>>2]=191,le[l+12>>2]=35387;for(var h=0;32>h;h++)De[l+h+17>>0]=t[h]||0}return 0;case 21510:case 21511:case 21512:return a.s?0:-59;case 21506:case 21507:case 21508:if(!a.s)return-59;if(a.s.V.cc)for(l=Dt(),t=[],h=0;32>h;h++)t.push(De[l+h+17>>0]);return 0;case 21519:return a.s?(l=Dt(),le[l>>2]=0):-59;case 21520:return a.s?-28:-59;case 21531:if(l=Dt(),!a.m.ac)throw new Y(59);return a.m.ac(a,t,l);case 21523:return a.s?(a.s.V.dc&&(h=[24,80],l=Dt(),We[l>>1]=h[0],We[l+2>>1]=h[1]),0):-59;case 21524:return a.s?0:-59;case 21515:return a.s?0:-59;default:return-28}}catch(m){if(typeof un>"u"||m.name!=="ErrnoError")throw m;return-m.aa}},__syscall_openat:function(e,t,r,a){Sn=a;try{t=t?Ce(Pe,t):"";var l=t;if(l.charAt(0)==="/")t=l;else{var h=e===-100?"/":Jt(e).path;if(l.length==0)throw new Y(44);t=_(h+"/"+l)}var m=a?Dt():0;return ir(t,r,m).X}catch(b){if(typeof un>"u"||b.name!=="ErrnoError")throw b;return-b.aa}},_embind_create_inheriting_constructor:function(e,t,r){e=xe(e),t=Dn(t,"wrapper"),r=At(r);var a=[].slice,l=t.i,h=l.N,m=l.A.N,b=l.A.constructor;e=ar(e,function(){l.A.rb.forEach((function(y){if(this[y]===m[y])throw new Ui(`Pure virtual function ${y} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:h}),this.__construct.apply(this,a.call(arguments))}),h.__construct=function(){this===h&&se("Pass correct 'this' to __construct");var y=b.implement.apply(void 0,[this].concat(a.call(arguments)));sr(y);var k=y.g;y.notifyOnDestruction(),k.ia=!0,Object.defineProperties(this,{g:{value:k}}),yn(this),y=k.o,y=Hr(l,y),Wt.hasOwnProperty(y)?se(`Tried to register registered instance: ${y}`):Wt[y]=this},h.__destruct=function(){this===h&&se("Pass correct 'this' to __destruct"),sr(this);var y=this.g.o;y=Hr(l,y),Wt.hasOwnProperty(y)?delete Wt[y]:se(`Tried to unregister unregistered instance: ${y}`)},e.prototype=Object.create(h);for(var E in r)e.prototype[E]=r[E];return Ct(e)},_embind_finalize_value_object:function(e){var t=cr[e];delete cr[e];var r=t.Pa,a=t.W,l=t.fb,h=l.map(m=>m.Yb).concat(l.map(m=>m.rc));at([e],h,m=>{var b={};return l.forEach((E,y)=>{var k=m[y],W=E.Wb,H=E.Xb,g=m[y+l.length],S=E.qc,K=E.sc;b[E.Sb]={read:V=>k.fromWireType(W(H,V)),write:(V,Ee)=>{var B=[];S(K,V,g.toWireType(B,Ee)),Wn(B)}}}),[{name:t.name,fromWireType:function(E){var y={},k;for(k in b)y[k]=b[k].read(E);return a(E),y},toWireType:function(E,y){for(var k in b)if(!(k in y))throw new TypeError(`Missing field: "${k}"`);var W=r();for(k in b)b[k].write(W,y[k]);return E!==null&&E.push(a,W),W},argPackAdvance:8,readValueFromPointer:Vn,K:a}]})},_embind_register_bigint:function(){},_embind_register_bool:function(e,t,r,a,l){var h=dr(r);t=xe(t),Pt(e,{name:t,fromWireType:function(m){return!!m},toWireType:function(m,b){return b?a:l},argPackAdvance:8,readValueFromPointer:function(m){if(r===1)var b=De;else if(r===2)b=We;else if(r===4)b=le;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(b[m>>h])},K:null})},_embind_register_class:function(e,t,r,a,l,h,m,b,E,y,k,W,H){k=xe(k),h=$e(l,h),b&&(b=$e(m,b)),y&&(y=$e(E,y)),H=$e(W,H);var g=Di(k);$r(g,function(){Ut(`Cannot construct ${k} due to unbound types`,[a])}),at([e,t,r],a?[a]:[],function(S){if(S=S[0],a)var K=S.i,V=K.N;else V=Qt.prototype;S=ar(g,function(){if(Object.getPrototypeOf(this)!==Ee)throw new _n("Use 'new' to construct "+k);if(B.$===void 0)throw new _n(k+" has no accessible constructor");var Fe=B.$[arguments.length];if(Fe===void 0)throw new _n(`Tried to invoke ctor of ${k} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(B.$).toString()}) parameters instead!`);return Fe.apply(this,arguments)});var Ee=Object.create(V,{constructor:{value:S}});S.prototype=Ee;var B=new Ea(k,S,Ee,H,K,h,b,y);B.A&&(B.A.oa===void 0&&(B.A.oa=[]),B.A.oa.push(B)),K=new Vt(k,B,!0,!1),V=new Vt(k+"*",B,!1,!1);var Ae=new Vt(k+" const*",B,!1,!0);return zi[e]={pointerType:V,Kb:Ae},$i(g,S),[K,V,Ae]})},_embind_register_class_class_function:function(e,t,r,a,l,h,m){var b=mr(r,a);t=xe(t),h=$e(l,h),at([],[e],function(E){function y(){Ut(`Cannot call ${k} due to unbound types`,b)}E=E[0];var k=`${E.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var W=E.i.constructor;return W[t]===void 0?(y.ea=r-1,W[t]=y):(Xr(W,t,k),W[t].B[r-1]=y),at([],b,function(H){if(H=pr(k,[H[0],null].concat(H.slice(1)),null,h,m),W[t].B===void 0?(H.ea=r-1,W[t]=H):W[t].B[r-1]=H,E.i.oa)for(const g of E.i.oa)g.constructor.hasOwnProperty(t)||(g.constructor[t]=H);return[]}),[]})},_embind_register_class_class_property:function(e,t,r,a,l,h,m,b){t=xe(t),h=$e(l,h),at([],[e],function(E){E=E[0];var y=`${E.name}.${t}`,k={get(){Ut(`Cannot access ${y} due to unbound types`,[r])},enumerable:!0,configurable:!0};return k.set=b?()=>{Ut(`Cannot access ${y} due to unbound types`,[r])}:()=>{se(`${y} is a read-only property`)},Object.defineProperty(E.i.constructor,t,k),at([],[r],function(W){W=W[0];var H={get(){return W.fromWireType(h(a))},enumerable:!0};return b&&(b=$e(m,b),H.set=g=>{var S=[];b(a,W.toWireType(S,g)),Wn(S)}),Object.defineProperty(E.i.constructor,t,H),[]}),[]})},_embind_register_class_constructor:function(e,t,r,a,l,h){var m=mr(t,r);l=$e(a,l),at([],[e],function(b){b=b[0];var E=`constructor ${b.name}`;if(b.i.$===void 0&&(b.i.$=[]),b.i.$[t-1]!==void 0)throw new _n(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${b.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return b.i.$[t-1]=()=>{Ut(`Cannot construct ${b.name} due to unbound types`,m)},at([],m,function(y){return y.splice(1,0,null),b.i.$[t-1]=pr(E,y,null,l,h),[]}),[]})},_embind_register_class_function:function(e,t,r,a,l,h,m,b){var E=mr(r,a);t=xe(t),h=$e(l,h),at([],[e],function(y){function k(){Ut(`Cannot call ${W} due to unbound types`,E)}y=y[0];var W=`${y.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),b&&y.i.rb.push(t);var H=y.i.N,g=H[t];return g===void 0||g.B===void 0&&g.className!==y.name&&g.ea===r-2?(k.ea=r-2,k.className=y.name,H[t]=k):(Xr(H,t,W),H[t].B[r-2]=k),at([],E,function(S){return S=pr(W,S,y,h,m),H[t].B===void 0?(S.ea=r-2,H[t]=S):H[t].B[r-2]=S,[]}),[]})},_embind_register_class_property:function(e,t,r,a,l,h,m,b,E,y){t=xe(t),l=$e(a,l),at([],[e],function(k){k=k[0];var W=`${k.name}.${t}`,H={get(){Ut(`Cannot access ${W} due to unbound types`,[r,m])},enumerable:!0,configurable:!0};return H.set=E?()=>{Ut(`Cannot access ${W} due to unbound types`,[r,m])}:()=>{se(W+" is a read-only property")},Object.defineProperty(k.i.N,t,H),at([],E?[r,m]:[r],function(g){var S=g[0],K={get(){var Ee=Ki(this,k,W+" getter");return S.fromWireType(l(h,Ee))},enumerable:!0};if(E){E=$e(b,E);var V=g[1];K.set=function(Ee){var B=Ki(this,k,W+" setter"),Ae=[];E(y,B,V.toWireType(Ae,Ee)),Wn(Ae)}}return Object.defineProperty(k.i.N,t,K),[]}),[]})},_embind_register_emval:function(e,t){t=xe(t),Pt(e,{name:t,fromWireType:function(r){var a=At(r);return Gr(r),a},toWireType:function(r,a){return Ct(a)},argPackAdvance:8,readValueFromPointer:Vn,K:null})},_embind_register_enum:function(e,t,r,a){function l(){}r=dr(r),t=xe(t),l.values={},Pt(e,{name:t,constructor:l,fromWireType:function(h){return this.constructor.values[h]},toWireType:function(h,m){return m.value},argPackAdvance:8,readValueFromPointer:Fa(t,r,a),K:null}),$r(t,l)},_embind_register_enum_value:function(e,t,r){var a=Dn(e,"enum");t=xe(t),e=a.constructor,a=Object.create(a.constructor.prototype,{value:{value:r},constructor:{value:ar(`${a.name}_${t}`,function(){})}}),e.values[r]=a,e[t]=a},_embind_register_float:function(e,t,r){r=dr(r),t=xe(t),Pt(e,{name:t,fromWireType:function(a){return a},toWireType:function(a,l){return l},argPackAdvance:8,readValueFromPointer:Ta(t,r),K:null})},_embind_register_function:function(e,t,r,a,l,h){var m=mr(t,r);e=xe(e),l=$e(a,l),$r(e,function(){Ut(`Cannot call ${e} due to unbound types`,m)},t-1),at([],m,function(b){return $i(e,pr(e,[b[0],null].concat(b.slice(1)),null,l,h),t-1),[]})},_embind_register_integer:function(e,t,r,a,l){t=xe(t),l===-1&&(l=4294967295),l=dr(r);var h=b=>b;if(a===0){var m=32-8*r;h=b=>b<<m>>>m}r=t.includes("unsigned")?function(b,E){return E>>>0}:function(b,E){return E},Pt(e,{name:t,fromWireType:h,toWireType:r,argPackAdvance:8,readValueFromPointer:La(t,l,a!==0),K:null})},_embind_register_memory_view:function(e,t,r){function a(h){h>>=2;var m=ve;return new l(m.buffer,m[h+1],m[h])}var l=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];r=xe(r),Pt(e,{name:r,fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{$b:!0})},_embind_register_std_string:function(e,t){t=xe(t);var r=t==="std::string";Pt(e,{name:t,fromWireType:function(a){var l=ve[a>>2],h=a+4;if(r)for(var m=h,b=0;b<=l;++b){var E=h+b;if(b==l||Pe[E]==0){if(m=m?Ce(Pe,m,E-m):"",y===void 0)var y=m;else y+="\0",y+=m;m=E+1}}else{for(y=Array(l),b=0;b<l;++b)y[b]=String.fromCharCode(Pe[h+b]);y=y.join("")}return Nt(a),y},toWireType:function(a,l){l instanceof ArrayBuffer&&(l=new Uint8Array(l));var h=typeof l=="string";h||l instanceof Uint8Array||l instanceof Uint8ClampedArray||l instanceof Int8Array||se("Cannot pass non-string to std::string");var m=r&&h?Le(l):l.length,b=Zr(4+m+1),E=b+4;if(ve[b>>2]=m,r&&h)wt(l,Pe,E,m+1);else if(h)for(h=0;h<m;++h){var y=l.charCodeAt(h);255<y&&(Nt(E),se("String has UTF-16 code units that do not fit in 8 bits")),Pe[E+h]=y}else for(h=0;h<m;++h)Pe[E+h]=l[h];return a!==null&&a.push(Nt,b),b},argPackAdvance:8,readValueFromPointer:Vn,K:function(a){Nt(a)}})},_embind_register_std_wstring:function(e,t,r){if(r=xe(r),t===2)var a=Oa,l=xa,h=Sa,m=()=>Ze,b=1;else t===4&&(a=ja,l=ka,h=Da,m=()=>ve,b=2);Pt(e,{name:r,fromWireType:function(E){for(var y=ve[E>>2],k=m(),W,H=E+4,g=0;g<=y;++g){var S=E+4+g*t;(g==y||k[S>>b]==0)&&(H=a(H,S-H),W===void 0?W=H:(W+="\0",W+=H),H=S+t)}return Nt(E),W},toWireType:function(E,y){typeof y!="string"&&se(`Cannot pass non-string to C++ string type ${r}`);var k=h(y),W=Zr(4+k+t);return ve[W>>2]=k>>b,l(y,W+4,k+t),E!==null&&E.push(Nt,W),W},argPackAdvance:8,readValueFromPointer:Vn,K:function(E){Nt(E)}})},_embind_register_value_object:function(e,t,r,a,l,h){cr[e]={name:xe(t),Pa:$e(r,a),W:$e(l,h),fb:[]}},_embind_register_value_object_field:function(e,t,r,a,l,h,m,b,E,y){cr[e].fb.push({Sb:xe(t),Yb:r,Wb:$e(a,l),Xb:h,rc:m,qc:$e(b,E),sc:y})},_embind_register_void:function(e,t){t=xe(t),Pt(e,{fc:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(e,t,r){e=At(e),t=Dn(t,"emval::as");var a=[],l=Ct(a);return ve[r>>2]=l,t.toWireType(a,e)},_emval_call_method:function(e,t,r,a,l){e=_r[e],t=At(t),r=gr(r);var h=[];return ve[a>>2]=Ct(h),e(t,r,h,l)},_emval_call_void_method:function(e,t,r,a){e=_r[e],t=At(t),r=gr(r),e(t,r,null,a)},_emval_decref:Gr,_emval_get_method_caller:function(e,t){var r=Ua(e,t),a=r[0];t=a.name+"_$"+r.slice(1).map(function(m){return m.name}).join("_")+"$";var l=Qi[t];if(l!==void 0)return l;var h=Array(e-1);return l=Va((m,b,E,y)=>{for(var k=0,W=0;W<e-1;++W)h[W]=r[W+1].readValueFromPointer(y+k),k+=r[W+1].argPackAdvance;for(m=m[b].apply(m,h),W=0;W<e-1;++W)r[W+1].Nb&&r[W+1].Nb(h[W]);if(!a.fc)return a.toWireType(E,m)}),Qi[t]=l},_emval_get_module_property:function(e){return e=gr(e),Ct(f[e])},_emval_get_property:function(e,t){return e=At(e),t=At(t),Ct(e[t])},_emval_incref:function(e){4<e&&(ht.get(e).ub+=1)},_emval_new_array:function(){return Ct([])},_emval_new_cstring:function(e){return Ct(gr(e))},_emval_new_object:function(){return Ct({})},_emval_run_destructors:function(e){var t=At(e);Wn(t),Gr(e)},_emval_set_property:function(e,t,r){e=At(e),t=At(t),r=At(r),e[t]=r},_emval_take_value:function(e,t){return e=Dn(e,"_emval_take_value"),e=e.readValueFromPointer(t),Ct(e)},abort:()=>{$t("")},emscripten_asm_const_int:(e,t,r)=>{Kr.length=0;var a;for(r>>=2;a=Pe[t++];)r+=a!=105&r,Kr.push(a==105?le[r]:Ie[r++>>1]),++r;return n[e].apply(null,Kr)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(e,t,r)=>Pe.copyWithin(e,t,t+r),emscripten_resize_heap:e=>{var t=Pe.length;if(e>>>=0,2147483648<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var l=Math;a=Math.max(e,a);e:{l=l.min.call(l,2147483648,a+(65536-a%65536)%65536)-_t.buffer.byteLength+65535>>>16;try{_t.grow(l),He();var h=1;break e}catch{}h=void 0}if(h)return!0}return!1},environ_get:(e,t)=>{var r=0;return Zi().forEach(function(a,l){var h=t+r;for(l=ve[e+4*l>>2]=h,h=0;h<a.length;++h)De[l++>>0]=a.charCodeAt(h);De[l>>0]=0,r+=a.length+1}),0},environ_sizes_get:(e,t)=>{var r=Zi();ve[e>>2]=r.length;var a=0;return r.forEach(function(l){a+=l.length+1}),ve[t>>2]=a,0},fd_close:function(e){try{var t=Jt(e);if(t.X===null)throw new Y(8);t.Ma&&(t.Ma=null);try{t.m.close&&t.m.close(t)}catch(r){throw r}finally{er[t.X]=null}return t.X=null,0}catch(r){if(typeof un>"u"||r.name!=="ErrnoError")throw r;return r.aa}},fd_read:function(e,t,r,a){try{e:{var l=Jt(e);e=t;for(var h,m=t=0;m<r;m++){var b=ve[e>>2],E=ve[e+4>>2];e+=8;var y=l,k=b,W=E,H=h,g=De;if(0>W||0>H)throw new Y(28);if(y.X===null)throw new Y(8);if((y.flags&2097155)===1)throw new Y(8);if((y.node.mode&61440)===16384)throw new Y(31);if(!y.m.read)throw new Y(28);var S=typeof H<"u";if(!S)H=y.position;else if(!y.seekable)throw new Y(70);var K=y.m.read(y,g,k,W,H);S||(y.position+=K);var V=K;if(0>V){var Ee=-1;break e}if(t+=V,V<E)break;typeof h<"u"&&(h+=V)}Ee=t}return ve[a>>2]=Ee,0}catch(B){if(typeof un>"u"||B.name!=="ErrnoError")throw B;return B.aa}},fd_seek:function(e,t,r,a,l){t=r+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*r:NaN;try{if(isNaN(t))return 61;var h=Jt(e);return Si(h,t,a),u=[h.position>>>0,(Gt=h.position,1<=+Math.abs(Gt)?0<Gt?+Math.floor(Gt/4294967296)>>>0:~~+Math.ceil((Gt-+(~~Gt>>>0))/4294967296)>>>0:0)],le[l>>2]=u[0],le[l+4>>2]=u[1],h.Ma&&t===0&&a===0&&(h.Ma=null),0}catch(m){if(typeof un>"u"||m.name!=="ErrnoError")throw m;return m.aa}},fd_write:function(e,t,r,a){try{e:{var l=Jt(e);e=t;for(var h,m=t=0;m<r;m++){var b=ve[e>>2],E=ve[e+4>>2];e+=8;var y=l,k=b,W=E,H=h,g=De;if(0>W||0>H)throw new Y(28);if(y.X===null)throw new Y(8);if((y.flags&2097155)===0)throw new Y(8);if((y.node.mode&61440)===16384)throw new Y(31);if(!y.m.write)throw new Y(28);y.seekable&&y.flags&1024&&Si(y,0,2);var S=typeof H<"u";if(!S)H=y.position;else if(!y.seekable)throw new Y(70);var K=y.m.write(y,g,k,W,H,void 0);S||(y.position+=K);var V=K;if(0>V){var Ee=-1;break e}t+=V,typeof h<"u"&&(h+=V)}Ee=t}return ve[a>>2]=Ee,0}catch(B){if(typeof un>"u"||B.name!=="ErrnoError")throw B;return B.aa}},strftime_l:(e,t,r,a)=>Na(e,t,r,a)};(function(){function e(r){if(he=r=r.exports,_t=he.memory,He(),Oe=he.__indirect_function_table,ct.unshift(he.__wasm_call_ctors),et--,f.monitorRunDependencies&&f.monitorRunDependencies(et),et==0&&yt){var a=yt;yt=null,a()}return r}var t={env:io,wasi_snapshot_preview1:io};if(et++,f.monitorRunDependencies&&f.monitorRunDependencies(et),f.instantiateWasm)try{return f.instantiateWasm(t,e)}catch(r){ke("Module.instantiateWasm callback failed with error: "+r),U(r)}return Dr(t,function(r){e(r.instance)}).catch(U),{}})();var Nt=e=>(Nt=he.free)(e),Zr=e=>(Zr=he.malloc)(e),oo=()=>(oo=he.__errno_location)(),ao=f._ma_device__on_notification_unlocked=e=>(ao=f._ma_device__on_notification_unlocked=he.ma_device__on_notification_unlocked)(e);f._ma_malloc_emscripten=(e,t)=>(f._ma_malloc_emscripten=he.ma_malloc_emscripten)(e,t),f._ma_free_emscripten=(e,t)=>(f._ma_free_emscripten=he.ma_free_emscripten)(e,t);var so=f._ma_device_process_pcm_frames_capture__webaudio=(e,t,r)=>(so=f._ma_device_process_pcm_frames_capture__webaudio=he.ma_device_process_pcm_frames_capture__webaudio)(e,t,r),uo=f._ma_device_process_pcm_frames_playback__webaudio=(e,t,r)=>(uo=f._ma_device_process_pcm_frames_playback__webaudio=he.ma_device_process_pcm_frames_playback__webaudio)(e,t,r),lo=e=>(lo=he.__getTypeName)(e);f.__embind_initialize_bindings=()=>(f.__embind_initialize_bindings=he._embind_initialize_bindings)(),f.dynCall_iiji=(e,t,r,a,l)=>(f.dynCall_iiji=he.dynCall_iiji)(e,t,r,a,l),f.dynCall_jiji=(e,t,r,a,l)=>(f.dynCall_jiji=he.dynCall_jiji)(e,t,r,a,l),f.dynCall_iiiji=(e,t,r,a,l,h)=>(f.dynCall_iiiji=he.dynCall_iiiji)(e,t,r,a,l,h),f.dynCall_iij=(e,t,r,a)=>(f.dynCall_iij=he.dynCall_iij)(e,t,r,a),f.dynCall_jii=(e,t,r)=>(f.dynCall_jii=he.dynCall_jii)(e,t,r),f.dynCall_viijii=(e,t,r,a,l,h,m)=>(f.dynCall_viijii=he.dynCall_viijii)(e,t,r,a,l,h,m),f.dynCall_iiiiij=(e,t,r,a,l,h,m)=>(f.dynCall_iiiiij=he.dynCall_iiiiij)(e,t,r,a,l,h,m),f.dynCall_iiiiijj=(e,t,r,a,l,h,m,b,E)=>(f.dynCall_iiiiijj=he.dynCall_iiiiijj)(e,t,r,a,l,h,m,b,E),f.dynCall_iiiiiijj=(e,t,r,a,l,h,m,b,E,y)=>(f.dynCall_iiiiiijj=he.dynCall_iiiiiijj)(e,t,r,a,l,h,m,b,E,y);var br;yt=function e(){br||co(),br||(yt=e)};function co(){function e(){if(!br&&(br=!0,f.calledRun=!0,!Xt)){if(f.noFSInit||ki||(ki=!0,ji(),f.stdin=f.stdin,f.stdout=f.stdout,f.stderr=f.stderr,f.stdin?On("stdin",f.stdin):Ur("/dev/tty","/dev/stdin"),f.stdout?On("stdout",null,f.stdout):Ur("/dev/tty","/dev/stdout"),f.stderr?On("stderr",null,f.stderr):Ur("/dev/tty1","/dev/stderr"),ir("/dev/stdin",0),ir("/dev/stdout",1),ir("/dev/stderr",1)),Ii=!1,i(ct),F(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;){var t=f.postRun.shift();jt.unshift(t)}i(jt)}}if(!(0<et)){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)an();i(lt),0<et||(f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),e()},1)):e())}}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();return co(),I.ready})})();const T=R}),(A=>{A.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.31.2","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((A,P,C)=>{C.r(P),C.d(P,{Animation:()=>R.Animation});var R=C(4)}),((A,P,C)=>{C.r(P),C.d(P,{Animation:()=>R});var R=(function(){function T(j,I,f,F){this.animation=j,this.artboard=I,this.playing=F,this.loopCount=0,this.scrubTo=null,this.instance=new f.LinearAnimationInstance(j,I)}return Object.defineProperty(T.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"time",{get:function(){return this.instance.time},set:function(j){this.instance.time=j},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),T.prototype.advance=function(j){this.scrubTo===null?this.instance.advance(j):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},T.prototype.apply=function(j){this.instance.apply(j)},T.prototype.cleanup=function(){this.instance.delete()},T})()}),((A,P,C)=>{C.r(P),C.d(P,{AudioAssetWrapper:()=>j.AudioAssetWrapper,AudioWrapper:()=>j.AudioWrapper,BLANK_URL:()=>T.BLANK_URL,CustomFileAssetLoaderWrapper:()=>j.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>j.FileAssetWrapper,Finalizable:()=>j.Finalizable,FontAssetWrapper:()=>j.FontAssetWrapper,FontWrapper:()=>j.FontWrapper,ImageAssetWrapper:()=>j.ImageAssetWrapper,ImageWrapper:()=>j.ImageWrapper,finalizationRegistry:()=>j.finalizationRegistry,registerTouchInteractions:()=>R.registerTouchInteractions,sanitizeUrl:()=>T.sanitizeUrl});var R=C(6),T=C(7),j=C(8)}),((A,P,C)=>{C.r(P),C.d(P,{registerTouchInteractions:()=>j});var R=void 0,T=function(I,f){var F,U;return["touchstart","touchmove"].indexOf(I.type)>-1&&(!((F=I.touches)===null||F===void 0)&&F.length)?(f||I.preventDefault(),{clientX:I.touches[0].clientX,clientY:I.touches[0].clientY}):I.type==="touchend"&&(!((U=I.changedTouches)===null||U===void 0)&&U.length)?{clientX:I.changedTouches[0].clientX,clientY:I.changedTouches[0].clientY}:{clientX:I.clientX,clientY:I.clientY}},j=function(I){var f=I.canvas,F=I.artboard,U=I.stateMachines,ee=U===void 0?[]:U,te=I.renderer,$=I.rive,Q=I.fit,ne=I.alignment,X=I.isTouchScrollEnabled,x=X===void 0?!1:X,D=I.layoutScaleFactor,q=D===void 0?1:D;if(!f||!ee.length||!te||!$||!F||typeof window>"u")return null;var J=null,ie=!1,z=function(Te){if(ie&&Te instanceof MouseEvent){Te.type=="mouseup"&&(ie=!1);return}ie=x&&Te.type==="touchend"&&J==="touchstart",J=Te.type;var ke=Te.currentTarget.getBoundingClientRect(),Se=T(Te,x),_t=Se.clientX,he=Se.clientY;if(!(!_t&&!he)){var Xt=_t-ke.left,De=he-ke.top,Pe=$.computeAlignment(Q,ne,{minX:0,minY:0,maxX:ke.width,maxY:ke.height},F.bounds,q),We=new $.Mat2D;Pe.invert(We);var Ze=new $.Vec2D(Xt,De),le=$.mapXY(We,Ze),ve=le.x(),it=le.y();switch(le.delete(),We.delete(),Ze.delete(),Pe.delete(),Te.type){case"mouseout":for(var Ie=0,He=ee;Ie<He.length;Ie++){var Oe=He[Ie];Oe.pointerMove(ve,it)}break;case"touchmove":case"mouseover":case"mousemove":{for(var lt=0,ct=ee;lt<ct.length;lt++){var Oe=ct[lt];Oe.pointerMove(ve,it)}break}case"touchstart":case"mousedown":{for(var jt=0,an=ee;jt<an.length;jt++){var Oe=an[jt];Oe.pointerDown(ve,it)}break}case"touchend":case"mouseup":{for(var et=0,yt=ee;et<yt.length;et++){var Oe=yt[et];Oe.pointerUp(ve,it)}break}}}},ce=z.bind(R);return f.addEventListener("mouseover",ce),f.addEventListener("mouseout",ce),f.addEventListener("mousemove",ce),f.addEventListener("mousedown",ce),f.addEventListener("mouseup",ce),f.addEventListener("touchmove",ce,{passive:x}),f.addEventListener("touchstart",ce,{passive:x}),f.addEventListener("touchend",ce),function(){f.removeEventListener("mouseover",ce),f.removeEventListener("mouseout",ce),f.removeEventListener("mousemove",ce),f.removeEventListener("mousedown",ce),f.removeEventListener("mouseup",ce),f.removeEventListener("touchmove",ce),f.removeEventListener("touchstart",ce),f.removeEventListener("touchend",ce)}}}),((A,P,C)=>{C.r(P),C.d(P,{BLANK_URL:()=>U,sanitizeUrl:()=>$});var R=/^([^\w]*)(javascript|data|vbscript)/im,T=/&#(\w+)(^\w|;)?/g,j=/&(newline|tab);/gi,I=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,f=/^.+(:|&colon;)/gim,F=[".","/"],U="about:blank";function ee(Q){return F.indexOf(Q[0])>-1}function te(Q){var ne=Q.replace(I,"");return ne.replace(T,function(X,x){return String.fromCharCode(x)})}function $(Q){if(!Q)return U;var ne=te(Q).replace(j,"").replace(I,"").trim();if(!ne)return U;if(ee(ne))return ne;var X=ne.match(f);if(!X)return ne;var x=X[0];return R.test(x)?U:ne}}),((A,P,C)=>{C.r(P),C.d(P,{AudioAssetWrapper:()=>te,AudioWrapper:()=>I,CustomFileAssetLoaderWrapper:()=>F,FileAssetWrapper:()=>U,Finalizable:()=>T,FontAssetWrapper:()=>$,FontWrapper:()=>f,ImageAssetWrapper:()=>ee,ImageWrapper:()=>j,finalizationRegistry:()=>X});var R=(function(){var x=function(D,q){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,ie){J.__proto__=ie}||function(J,ie){for(var z in ie)Object.prototype.hasOwnProperty.call(ie,z)&&(J[z]=ie[z])},x(D,q)};return function(D,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");x(D,q);function J(){this.constructor=D}D.prototype=q===null?Object.create(q):(J.prototype=q.prototype,new J)}})(),T=(function(){function x(){this.selfUnref=!1}return x})(),j=(function(x){R(D,x);function D(q){var J=x.call(this)||this;return J._nativeImage=q,J}return Object.defineProperty(D.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),D.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},D})(T),I=(function(x){R(D,x);function D(q){var J=x.call(this)||this;return J._nativeAudio=q,J}return Object.defineProperty(D.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),D.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},D})(T),f=(function(x){R(D,x);function D(q){var J=x.call(this)||this;return J._nativeFont=q,J}return Object.defineProperty(D.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),D.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},D})(T),F=(function(){function x(D,q){this._assetLoaderCallback=q,this.assetLoader=new D.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return x.prototype.loadContents=function(D,q){var J;return D.isImage?J=new ee(D):D.isAudio?J=new te(D):D.isFont&&(J=new $(D)),this._assetLoaderCallback(J,q)},x})(),U=(function(){function x(D){this._nativeFileAsset=D}return x.prototype.decode=function(D){this._nativeFileAsset.decode(D)},Object.defineProperty(x.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),x})(),ee=(function(x){R(D,x);function D(){return x!==null&&x.apply(this,arguments)||this}return D.prototype.setRenderImage=function(q){this._nativeFileAsset.setRenderImage(q.nativeImage)},D})(U),te=(function(x){R(D,x);function D(){return x!==null&&x.apply(this,arguments)||this}return D.prototype.setAudioSource=function(q){this._nativeFileAsset.setAudioSource(q.nativeAudio)},D})(U),$=(function(x){R(D,x);function D(){return x!==null&&x.apply(this,arguments)||this}return D.prototype.setFont=function(q){this._nativeFileAsset.setFont(q.nativeFont)},D})(U),Q=(function(){function x(D){}return x.prototype.register=function(D){D.selfUnref=!0},x.prototype.unregister=function(D){},x})(),ne=typeof FinalizationRegistry<"u"?FinalizationRegistry:Q,X=new ne(function(x){x.unref()})})],v={};function p(A){var P=v[A];if(P!==void 0)return P.exports;var C=v[A]={exports:{}};return c[A](C,C.exports,p),C.exports}p.d=(A,P)=>{for(var C in P)p.o(P,C)&&!p.o(A,C)&&Object.defineProperty(A,C,{enumerable:!0,get:P[C]})},p.o=(A,P)=>Object.prototype.hasOwnProperty.call(A,P),p.r=A=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})};var w={};return(()=>{p.r(w),p.d(w,{Alignment:()=>$,DataEnum:()=>it,EventType:()=>z,Fit:()=>te,Layout:()=>Q,LoopType:()=>ce,Rive:()=>le,RiveEventType:()=>D,RiveFile:()=>Ze,RuntimeLoader:()=>ne,StateMachineInput:()=>x,StateMachineInputType:()=>X,Testing:()=>kr,ViewModel:()=>ve,ViewModelInstance:()=>He,ViewModelInstanceArtboard:()=>kt,ViewModelInstanceAssetImage:()=>Tn,ViewModelInstanceBoolean:()=>jt,ViewModelInstanceColor:()=>$t,ViewModelInstanceEnum:()=>et,ViewModelInstanceList:()=>yt,ViewModelInstanceNumber:()=>ct,ViewModelInstanceString:()=>lt,ViewModelInstanceTrigger:()=>an,ViewModelInstanceValue:()=>Oe,decodeAudio:()=>Zn,decodeFont:()=>Gt,decodeImage:()=>Dr});var A=p(1),P=p(2),C=p(3),R=p(5),T=(function(){var u=function(n,i){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var M in _)Object.prototype.hasOwnProperty.call(_,M)&&(d[M]=_[M])},u(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");u(n,i);function d(){this.constructor=n}n.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}})(),j=function(){return j=Object.assign||function(u){for(var n,i=1,d=arguments.length;i<d;i++){n=arguments[i];for(var _ in n)Object.prototype.hasOwnProperty.call(n,_)&&(u[_]=n[_])}return u},j.apply(this,arguments)},I=function(u,n,i,d){function _(M){return M instanceof i?M:new i(function(O){O(M)})}return new(i||(i=Promise))(function(M,O){function Z(fe){try{G(d.next(fe))}catch(Ce){O(Ce)}}function ae(fe){try{G(d.throw(fe))}catch(Ce){O(Ce)}}function G(fe){fe.done?M(fe.value):_(fe.value).then(Z,ae)}G((d=d.apply(u,n||[])).next())})},f=function(u,n){var i={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},d,_,M,O=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return O.next=Z(0),O.throw=Z(1),O.return=Z(2),typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function Z(G){return function(fe){return ae([G,fe])}}function ae(G){if(d)throw new TypeError("Generator is already executing.");for(;O&&(O=0,G[0]&&(i=0)),i;)try{if(d=1,_&&(M=G[0]&2?_.return:G[0]?_.throw||((M=_.return)&&M.call(_),0):_.next)&&!(M=M.call(_,G[1])).done)return M;switch(_=0,M&&(G=[G[0]&2,M.value]),G[0]){case 0:case 1:M=G;break;case 4:return i.label++,{value:G[1],done:!1};case 5:i.label++,_=G[1],G=[0];continue;case 7:G=i.ops.pop(),i.trys.pop();continue;default:if(M=i.trys,!(M=M.length>0&&M[M.length-1])&&(G[0]===6||G[0]===2)){i=0;continue}if(G[0]===3&&(!M||G[1]>M[0]&&G[1]<M[3])){i.label=G[1];break}if(G[0]===6&&i.label<M[1]){i.label=M[1],M=G;break}if(M&&i.label<M[2]){i.label=M[2],i.ops.push(G);break}M[2]&&i.ops.pop(),i.trys.pop();continue}G=n.call(u,i)}catch(fe){G=[6,fe],_=0}finally{d=M=0}if(G[0]&5)throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}},F=function(u,n,i){if(i||arguments.length===2)for(var d=0,_=n.length,M;d<_;d++)(M||!(d in n))&&(M||(M=Array.prototype.slice.call(n,0,d)),M[d]=n[d]);return u.concat(M||Array.prototype.slice.call(n))},U=(function(u){T(n,u);function n(){var i=u!==null&&u.apply(this,arguments)||this;return i.isHandledError=!0,i}return n})(Error),ee=function(u){return u&&u.isHandledError?u.message:"Problem loading file; may be corrupt!"},te;(function(u){u.Cover="cover",u.Contain="contain",u.Fill="fill",u.FitWidth="fitWidth",u.FitHeight="fitHeight",u.None="none",u.ScaleDown="scaleDown",u.Layout="layout"})(te||(te={}));var $;(function(u){u.Center="center",u.TopLeft="topLeft",u.TopCenter="topCenter",u.TopRight="topRight",u.CenterLeft="centerLeft",u.CenterRight="centerRight",u.BottomLeft="bottomLeft",u.BottomCenter="bottomCenter",u.BottomRight="bottomRight"})($||($={}));var Q=(function(){function u(n){var i,d,_,M,O,Z,ae;this.fit=(i=n?.fit)!==null&&i!==void 0?i:te.Contain,this.alignment=(d=n?.alignment)!==null&&d!==void 0?d:$.Center,this.layoutScaleFactor=(_=n?.layoutScaleFactor)!==null&&_!==void 0?_:1,this.minX=(M=n?.minX)!==null&&M!==void 0?M:0,this.minY=(O=n?.minY)!==null&&O!==void 0?O:0,this.maxX=(Z=n?.maxX)!==null&&Z!==void 0?Z:0,this.maxY=(ae=n?.maxY)!==null&&ae!==void 0?ae:0}return u.new=function(n){var i=n.fit,d=n.alignment,_=n.minX,M=n.minY,O=n.maxX,Z=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new u({fit:i,alignment:d,minX:_,minY:M,maxX:O,maxY:Z})},u.prototype.copyWith=function(n){var i=n.fit,d=n.alignment,_=n.layoutScaleFactor,M=n.minX,O=n.minY,Z=n.maxX,ae=n.maxY;return new u({fit:i??this.fit,alignment:d??this.alignment,layoutScaleFactor:_??this.layoutScaleFactor,minX:M??this.minX,minY:O??this.minY,maxX:Z??this.maxX,maxY:ae??this.maxY})},u.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var i;return this.fit===te.Cover?i=n.Fit.cover:this.fit===te.Contain?i=n.Fit.contain:this.fit===te.Fill?i=n.Fit.fill:this.fit===te.FitWidth?i=n.Fit.fitWidth:this.fit===te.FitHeight?i=n.Fit.fitHeight:this.fit===te.ScaleDown?i=n.Fit.scaleDown:this.fit===te.Layout?i=n.Fit.layout:i=n.Fit.none,this.cachedRuntimeFit=i,i},u.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var i;return this.alignment===$.TopLeft?i=n.Alignment.topLeft:this.alignment===$.TopCenter?i=n.Alignment.topCenter:this.alignment===$.TopRight?i=n.Alignment.topRight:this.alignment===$.CenterLeft?i=n.Alignment.centerLeft:this.alignment===$.CenterRight?i=n.Alignment.centerRight:this.alignment===$.BottomLeft?i=n.Alignment.bottomLeft:this.alignment===$.BottomCenter?i=n.Alignment.bottomCenter:this.alignment===$.BottomRight?i=n.Alignment.bottomRight:i=n.Alignment.center,this.cachedRuntimeAlignment=i,i},u})(),ne=(function(){function u(){}return u.loadRuntime=function(){A.default({locateFile:function(){return u.wasmURL}}).then(function(n){var i;for(u.runtime=n;u.callBackQueue.length>0;)(i=u.callBackQueue.shift())===null||i===void 0||i(u.runtime)}).catch(function(n){var i={message:n?.message||"Unknown error",type:n?.name||"Error",wasmError:n instanceof WebAssembly.CompileError||n instanceof WebAssembly.RuntimeError,originalError:n};console.debug("Rive WASM load error details:",i);var d="https://cdn.jsdelivr.net/npm/".concat(P.name,"@").concat(P.version,"/rive_fallback.wasm");if(u.wasmURL.toLowerCase()!==d)console.warn("Failed to load WASM from ".concat(u.wasmURL," (").concat(i.message,"), trying jsdelivr as a backup")),u.setWasmUrl(d),u.loadRuntime();else{var _=["Could not load Rive WASM file from ".concat(u.wasmURL," or ").concat(d,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(i.type),"- Message: ".concat(i.message),"- WebAssembly-specific error: ".concat(i.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(_)}})},u.getInstance=function(n){u.isLoading||(u.isLoading=!0,u.loadRuntime()),u.runtime?n(u.runtime):u.callBackQueue.push(n)},u.awaitInstance=function(){return new Promise(function(n){return u.getInstance(function(i){return n(i)})})},u.setWasmUrl=function(n){u.wasmURL=n},u.getWasmUrl=function(){return u.wasmURL},u.isLoading=!1,u.callBackQueue=[],u.wasmURL="https://unpkg.com/".concat(P.name,"@").concat(P.version,"/rive.wasm"),u})(),X;(function(u){u[u.Number=56]="Number",u[u.Trigger=58]="Trigger",u[u.Boolean=59]="Boolean"})(X||(X={}));var x=(function(){function u(n,i){this.type=n,this.runtimeInput=i}return Object.defineProperty(u.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),u.prototype.fire=function(){this.type===X.Trigger&&this.runtimeInput.fire()},u.prototype.delete=function(){this.runtimeInput=null},u})(),D;(function(u){u[u.General=128]="General",u[u.OpenUrl=131]="OpenUrl"})(D||(D={}));var q=(function(){function u(n){this.nativeArtboard=n}return u})(),J=(function(){function u(n,i,d,_){this.stateMachine=n,this.playing=d,this.artboard=_,this.inputs=[],this.instance=new i.StateMachineInstance(n,_),this.initInputs(i)}return Object.defineProperty(u.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"statesChanged",{get:function(){for(var n=[],i=0;i<this.instance.stateChangedCount();i++)n.push(this.instance.stateChangedNameByIndex(i));return n},enumerable:!1,configurable:!0}),u.prototype.advance=function(n){this.instance.advance(n)},u.prototype.advanceAndApply=function(n){this.instance.advanceAndApply(n)},u.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},u.prototype.reportedEventAt=function(n){return this.instance.reportedEventAt(n)},u.prototype.initInputs=function(n){for(var i=0;i<this.instance.inputCount();i++){var d=this.instance.input(i);this.inputs.push(this.mapRuntimeInput(d,n))}},u.prototype.mapRuntimeInput=function(n,i){if(n.type===i.SMIInput.bool)return new x(X.Boolean,n.asBool());if(n.type===i.SMIInput.number)return new x(X.Number,n.asNumber());if(n.type===i.SMIInput.trigger)return new x(X.Trigger,n.asTrigger())},u.prototype.cleanup=function(){this.inputs.forEach(function(n){n.delete()}),this.inputs.length=0,this.instance.delete()},u.prototype.bindViewModelInstance=function(n){n.runtimeInstance!=null&&this.instance.bindViewModelInstance(n.runtimeInstance)},u})(),ie=(function(){function u(n,i,d,_,M){_===void 0&&(_=[]),M===void 0&&(M=[]),this.runtime=n,this.artboard=i,this.eventManager=d,this.animations=_,this.stateMachines=M}return u.prototype.add=function(n,i,d){if(d===void 0&&(d=!0),n=ot(n),n.length===0)this.animations.forEach(function(Le){return Le.playing=i}),this.stateMachines.forEach(function(Le){return Le.playing=i});else for(var _=this.animations.map(function(Le){return Le.name}),M=this.stateMachines.map(function(Le){return Le.name}),O=0;O<n.length;O++){var Z=_.indexOf(n[O]),ae=M.indexOf(n[O]);if(Z>=0||ae>=0)Z>=0?this.animations[Z].playing=i:this.stateMachines[ae].playing=i;else{var G=this.artboard.animationByName(n[O]);if(G){var fe=new C.Animation(G,this.artboard,this.runtime,i);fe.advance(0),fe.apply(1),this.animations.push(fe)}else{var Ce=this.artboard.stateMachineByName(n[O]);if(Ce){var Ue=new J(Ce,this.runtime,i,this.artboard);this.stateMachines.push(Ue)}}}}return d&&(i?this.eventManager.fire({type:z.Play,data:this.playing}):this.eventManager.fire({type:z.Pause,data:this.paused})),i?this.playing:this.paused},u.prototype.initLinearAnimations=function(n,i){for(var d=this.animations.map(function(ae){return ae.name}),_=0;_<n.length;_++){var M=d.indexOf(n[_]);if(M>=0)this.animations[M].playing=i;else{var O=this.artboard.animationByName(n[_]);if(O){var Z=new C.Animation(O,this.artboard,this.runtime,i);Z.advance(0),Z.apply(1),this.animations.push(Z)}else console.error("Animation with name ".concat(n[_]," not found."))}}},u.prototype.initStateMachines=function(n,i){for(var d=this.stateMachines.map(function(ae){return ae.name}),_=0;_<n.length;_++){var M=d.indexOf(n[_]);if(M>=0)this.stateMachines[M].playing=i;else{var O=this.artboard.stateMachineByName(n[_]);if(O){var Z=new J(O,this.runtime,i,this.artboard);this.stateMachines.push(Z),i||Z.advanceAndApply(0)}else console.warn("State Machine with name ".concat(n[_]," not found.")),this.initLinearAnimations([n[_]],i)}}},u.prototype.play=function(n){return this.add(n,!0)},u.prototype.pause=function(n){return this.add(n,!1)},u.prototype.scrub=function(n,i){var d=this.animations.filter(function(_){return n.includes(_.name)});return d.forEach(function(_){return _.scrubTo=i}),d.map(function(_){return _.name})},Object.defineProperty(u.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),u.prototype.stop=function(n){var i=this;n=ot(n);var d=[];if(n.length===0)d=this.animations.map(function(O){return O.name}).concat(this.stateMachines.map(function(O){return O.name})),this.animations.forEach(function(O){return O.cleanup()}),this.stateMachines.forEach(function(O){return O.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var _=this.animations.filter(function(O){return n.includes(O.name)});_.forEach(function(O){O.cleanup(),i.animations.splice(i.animations.indexOf(O),1)});var M=this.stateMachines.filter(function(O){return n.includes(O.name)});M.forEach(function(O){O.cleanup(),i.stateMachines.splice(i.stateMachines.indexOf(O),1)}),d=_.map(function(O){return O.name}).concat(M.map(function(O){return O.name}))}return this.eventManager.fire({type:z.Stop,data:d}),d},Object.defineProperty(u.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,i){return n||i.playing},!1)||this.stateMachines.reduce(function(n,i){return n||i.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),u.prototype.atLeastOne=function(n,i){i===void 0&&(i=!0);var d;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([d=this.artboard.animationByIndex(0).name],n,i):this.artboard.stateMachineCount()>0&&this.add([d=this.artboard.stateMachineByIndex(0).name],n,i)),d},u.prototype.handleLooping=function(){for(var n=0,i=this.animations.filter(function(_){return _.playing});n<i.length;n++){var d=i[n];d.loopValue===0&&d.loopCount?(d.loopCount=0,this.stop(d.name)):d.loopValue===1&&d.loopCount?(this.eventManager.fire({type:z.Loop,data:{animation:d.name,type:ce.Loop}}),d.loopCount=0):d.loopValue===2&&d.loopCount>1&&(this.eventManager.fire({type:z.Loop,data:{animation:d.name,type:ce.PingPong}}),d.loopCount=0)}},u.prototype.handleStateChanges=function(){for(var n=[],i=0,d=this.stateMachines.filter(function(M){return M.playing});i<d.length;i++){var _=d[i];n.push.apply(n,_.statesChanged)}n.length>0&&this.eventManager.fire({type:z.StateChange,data:n})},u.prototype.handleAdvancing=function(n){this.eventManager.fire({type:z.Advance,data:n})},u})(),z;(function(u){u.Load="load",u.LoadError="loaderror",u.Play="play",u.Pause="pause",u.Stop="stop",u.Loop="loop",u.Draw="draw",u.Advance="advance",u.StateChange="statechange",u.RiveEvent="riveevent",u.AudioStatusChange="audiostatuschange"})(z||(z={}));var ce;(function(u){u.OneShot="oneshot",u.Loop="loop",u.PingPong="pingpong"})(ce||(ce={}));var Te=(function(){function u(n){n===void 0&&(n=[]),this.listeners=n}return u.prototype.getListeners=function(n){return this.listeners.filter(function(i){return i.type===n})},u.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},u.prototype.remove=function(n){for(var i=0;i<this.listeners.length;i++){var d=this.listeners[i];if(d.type===n.type&&d.callback===n.callback){this.listeners.splice(i,1);break}}},u.prototype.removeAll=function(n){var i=this;n?this.listeners.filter(function(d){return d.type===n}).forEach(function(d){return i.remove(d)}):this.listeners.splice(0,this.listeners.length)},u.prototype.fire=function(n){var i=this.getListeners(n.type);i.forEach(function(d){return d.callback(n)})},u})(),ke=(function(){function u(n){this.eventManager=n,this.queue=[]}return u.prototype.add=function(n){this.queue.push(n)},u.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n?.action&&n.action(),n?.event&&this.eventManager.fire(n.event)}},u})(),Se;(function(u){u[u.AVAILABLE=0]="AVAILABLE",u[u.UNAVAILABLE=1]="UNAVAILABLE"})(Se||(Se={}));var _t=(function(u){T(n,u);function n(){var i=u!==null&&u.apply(this,arguments)||this;return i._started=!1,i._enabled=!1,i._status=Se.UNAVAILABLE,i}return n.prototype.delay=function(i){return I(this,void 0,void 0,function(){return f(this,function(d){return[2,new Promise(function(_){return setTimeout(_,i)})]})})},n.prototype.timeout=function(){return I(this,void 0,void 0,function(){return f(this,function(i){return[2,new Promise(function(d,_){return setTimeout(_,50)})]})})},n.prototype.reportToListeners=function(){this.fire({type:z.AudioStatusChange}),this.removeAll()},n.prototype.enableAudio=function(){return I(this,void 0,void 0,function(){return f(this,function(i){return this._enabled||(this._enabled=!0,this._status=Se.AVAILABLE,this.reportToListeners()),[2]})})},n.prototype.testAudio=function(){return I(this,void 0,void 0,function(){return f(this,function(i){switch(i.label){case 0:if(!(this._status===Se.UNAVAILABLE&&this._audioContext!==null))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return i.sent(),this.enableAudio(),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}})})},n.prototype._establishAudio=function(){return I(this,void 0,void 0,function(){return f(this,function(i){switch(i.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),i.label=2;case 2:return this._status!==Se.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return i.sent(),[4,this.delay(1e3)];case 4:return i.sent(),[3,2];case 5:return[2]}})})},n.prototype.listenForUserAction=function(){var i=this,d=function(){return I(i,void 0,void 0,function(){return f(this,function(_){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",d,{once:!0})},n.prototype.establishAudio=function(){return I(this,void 0,void 0,function(){return f(this,function(i){return this._establishAudio(),[2]})})},Object.defineProperty(n.prototype,"systemVolume",{get:function(){return this._status===Se.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),n})(Te),he=new _t,Xt=(function(){function u(){}return u.prototype.observe=function(){},u.prototype.unobserve=function(){},u.prototype.disconnect=function(){},u})(),De=globalThis.ResizeObserver||Xt,Pe=(function(){function u(){var n=this;this._elementsMap=new Map,this._onObservedEntry=function(i){var d=n._elementsMap.get(i.target);d!==null?d.onResize(i.target.clientWidth==0||i.target.clientHeight==0):n._resizeObserver.unobserve(i.target)},this._onObserved=function(i){i.forEach(n._onObservedEntry)},this._resizeObserver=new De(this._onObserved)}return u.prototype.add=function(n,i){var d={onResize:i,element:n};return this._elementsMap.set(n,d),this._resizeObserver.observe(n),d},u.prototype.remove=function(n){this._resizeObserver.unobserve(n.element),this._elementsMap.delete(n.element)},u})(),We=new Pe,Ze=(function(){function u(n){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.src=n.src,this.buffer=n.buffer,n.assetLoader&&(this.assetLoader=n.assetLoader),this.enableRiveAssetCDN=typeof n.enableRiveAssetCDN=="boolean"?n.enableRiveAssetCDN:!0,this.eventManager=new Te,n.onLoad&&this.on(z.Load,n.onLoad),n.onLoadError&&this.on(z.LoadError,n.onLoadError)}return u.prototype.initData=function(){return I(this,void 0,void 0,function(){var n,i,d,_,M;return f(this,function(O){switch(O.label){case 0:return this.src?(n=this,[4,Qn(this.src)]):[3,2];case 1:n.buffer=O.sent(),O.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(d=new R.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),i=d.assetLoader),_=this,[4,this.runtime.load(new Uint8Array(this.buffer),i,this.enableRiveAssetCDN)]);case 3:return _.file=O.sent(),this.destroyed?((M=this.file)===null||M===void 0||M.delete(),this.file=null,[2]):(this.file!==null?this.eventManager.fire({type:z.Load,data:this}):this.fireLoadError(u.fileLoadErrorMessage),[2])}})})},u.prototype.init=function(){return I(this,void 0,void 0,function(){var n,i;return f(this,function(d){switch(d.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(u.missingErrorMessage),[2];d.label=1;case 1:return d.trys.push([1,4,,5]),n=this,[4,ne.awaitInstance()];case 2:return n.runtime=d.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return d.sent(),[3,5];case 4:return i=d.sent(),this.fireLoadError(i instanceof Error?i.message:u.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},u.prototype.fireLoadError=function(n){throw this.eventManager.fire({type:z.LoadError,data:n}),new Error(n)},u.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},u.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},u.prototype.cleanup=function(){var n;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(n=this.file)===null||n===void 0||n.delete(),this.file=null,this.destroyed=!0)},u.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},u.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},u.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},u.prototype.getArtboard=function(n){var i=this.file.artboardByName(n);return i!=null?new q(i):null},u.missingErrorMessage="Rive source file or data buffer required",u.fileLoadErrorMessage="The file failed to load",u})(),le=(function(){function u(n){var i=this,d;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(_){var M=i._hasZeroSize!==_;i._hasZeroSize=_,_?(!i._layout.maxX||!i._layout.maxY)&&i.resizeToCanvas():M&&i.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=n.canvas,n.canvas.constructor===HTMLCanvasElement&&(this._observed=We.add(this.canvas,this.onCanvasResize)),this.src=n.src,this.buffer=n.buffer,this.riveFile=n.riveFile,this.layout=(d=n.layout)!==null&&d!==void 0?d:new Q,this.shouldDisableRiveListeners=!!n.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!n.isTouchScrollEnabled,this.automaticallyHandleEvents=!!n.automaticallyHandleEvents,this.enableRiveAssetCDN=n.enableRiveAssetCDN===void 0?!0:n.enableRiveAssetCDN,this.eventManager=new Te,n.onLoad&&this.on(z.Load,n.onLoad),n.onLoadError&&this.on(z.LoadError,n.onLoadError),n.onPlay&&this.on(z.Play,n.onPlay),n.onPause&&this.on(z.Pause,n.onPause),n.onStop&&this.on(z.Stop,n.onStop),n.onLoop&&this.on(z.Loop,n.onLoop),n.onStateChange&&this.on(z.StateChange,n.onStateChange),n.onAdvance&&this.on(z.Advance,n.onAdvance),n.onload&&!n.onLoad&&this.on(z.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(z.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(z.Play,n.onplay),n.onpause&&!n.onPause&&this.on(z.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(z.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(z.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(z.StateChange,n.onstatechange),n.assetLoader&&(this.assetLoader=n.assetLoader),this.taskQueue=new ke(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:n.autoplay,autoBind:n.autoBind,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return Object.defineProperty(u.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),u.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new u(n)},u.prototype.onSystemAudioChanged=function(){this.volume=this._volume},u.prototype.init=function(n){var i=this,d=n.src,_=n.buffer,M=n.riveFile,O=n.animations,Z=n.stateMachines,ae=n.artboard,G=n.autoplay,fe=G===void 0?!1:G,Ce=n.useOffscreenRenderer,Ue=Ce===void 0?!1:Ce,Le=n.autoBind,wt=Le===void 0?!1:Le;if(!this.destroyed){if(this.src=d,this.buffer=_,this.riveFile=M,!this.src&&!this.buffer&&!this.riveFile)throw new U(u.missingErrorMessage);var ft=ot(O),tt=ot(Z);this.loaded=!1,this.readyForPlaying=!1,ne.awaitInstance().then(function(nt){i.destroyed||(i.runtime=nt,i.removeRiveListeners(),i.deleteRiveRenderer(),i.renderer=i.runtime.makeRenderer(i.canvas,Ue),i.canvas.width||i.canvas.height||i.resizeDrawingSurfaceToCanvas(),i.initData(ae,ft,tt,fe,wt).then(function(dt){if(dt)return i.setupRiveListeners()}).catch(function(dt){console.error(dt)}))}).catch(function(nt){console.error(nt)})}},u.prototype.setupRiveListeners=function(n){var i=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var d=(this.animator.stateMachines||[]).filter(function(M){return M.playing&&i.runtime.hasListeners(M.instance)}).map(function(M){return M.instance}),_=this.isTouchScrollEnabled;n&&"isTouchScrollEnabled"in n&&(_=n.isTouchScrollEnabled),this.eventCleanup=(0,R.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:d,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:_,layoutScaleFactor:this._layout.layoutScaleFactor})}},u.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},u.prototype.initializeAudio=function(){var n=this,i;he.status==Se.UNAVAILABLE&&!((i=this.artboard)===null||i===void 0)&&i.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:z.AudioStatusChange,callback:function(){return n.onSystemAudioChanged()}},he.add(this._audioEventListener),he.establishAudio())},u.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},u.prototype.initData=function(n,i,d,_,M){return I(this,void 0,void 0,function(){var O,Z,ae,G;return f(this,function(fe){switch(fe.label){case 0:return fe.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(O=new Ze({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=O,[4,O.init()]);case 1:if(fe.sent(),this.destroyed)return O.destroyIfUnused(),[2,!1];fe.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(n,i,d,_,M),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:z.Load,data:(G=this.src)!==null&&G!==void 0?G:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return Z=fe.sent(),ae=ee(Z),console.warn(ae),this.eventManager.fire({type:z.LoadError,data:ae}),[2,Promise.reject(ae)];case 4:return[2]}})})},u.prototype.initArtboard=function(n,i,d,_,M){if(this.file){var O=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!O){var Z="Invalid artboard name or no default artboard";console.warn(Z),this.eventManager.fire({type:z.LoadError,data:Z});return}if(this.artboard=O,O.volume=this._volume*he.systemVolume,this.artboard.animationCount()<1){var Z="Artboard has no animations";throw this.eventManager.fire({type:z.LoadError,data:Z}),Z}this.animator=new ie(this.runtime,this.artboard,this.eventManager);var ae;if(i.length>0||d.length>0?(ae=i.concat(d),this.animator.initLinearAnimations(i,_),this.animator.initStateMachines(d,_)):ae=[this.animator.atLeastOne(_,!1)],this.taskQueue.add({event:{type:_?z.Play:z.Pause,data:ae}}),M){var G=this.file.defaultArtboardViewModel(O);if(G!==null){var fe=G.defaultInstance();if(fe!==null){var Ce=new He(fe,null);this.bindViewModelInstance(Ce)}}}}},u.prototype.drawFrame=function(){var n,i;!((n=document?.timeline)===null||n===void 0)&&n.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(i=this.runtime)===null||i===void 0||i.resolveAnimationFrame()):this.startRendering()},u.prototype.draw=function(n,i){var d;this.frameRequestId=null;var _=performance.now();this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,i?.());var M=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var O=this.animator.animations.filter(function(Rt){return Rt.playing||Rt.needsScrub}).sort(function(Rt){return Rt.needsScrub?-1:1}),Z=0,ae=O;Z<ae.length;Z++){var G=ae[Z];G.advance(M),G.instance.didLoop&&(G.loopCount+=1),G.apply(1)}for(var fe=this.animator.stateMachines.filter(function(Rt){return Rt.playing}),Ce=0,Ue=fe;Ce<Ue.length;Ce++){var Le=Ue[Ce],wt=Le.reportedEventCount();if(wt)for(var ft=0;ft<wt;ft++){var tt=Le.reportedEventAt(ft);if(tt)if(tt.type===D.OpenUrl){if(this.eventManager.fire({type:z.RiveEvent,data:tt}),this.automaticallyHandleEvents){var nt=document.createElement("a"),dt=tt,qt=dt.url,Kt=dt.target,It=(0,R.sanitizeUrl)(qt);qt&&nt.setAttribute("href",It),Kt&&nt.setAttribute("target",Kt),It&&It!==R.BLANK_URL&&nt.click()}}else this.eventManager.fire({type:z.RiveEvent,data:tt})}Le.advanceAndApply(M)}this.animator.stateMachines.length==0&&this.artboard.advance(M);var re=this.renderer;re.clear(),re.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(re),re.restore(),re.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(M),this.frameCount++;var ye=performance.now();for(this.frameTimes.push(ye),this.durations.push(ye-_);this.frameTimes[0]<=ye-1e3;)this.frameTimes.shift(),this.durations.shift();(d=this._viewModelInstance)===null||d===void 0||d.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},u.prototype.alignRenderer=function(){var n=this,i=n.renderer,d=n.runtime,_=n._layout,M=n.artboard;i.align(_.runtimeFit(d),_.runtimeAlignment(d),{minX:_.minX,minY:_.minY,maxX:_.maxX,maxY:_.maxY},M.bounds,this._devicePixelRatioUsed*_.layoutScaleFactor)},Object.defineProperty(u.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,i){return n+i},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),u.prototype.cleanup=function(){var n,i;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&We.remove(this._observed),this.removeRiveListeners(),this.file&&((n=this.riveFile)===null||n===void 0||n.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(he.remove(this._audioEventListener),this._audioEventListener=null),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=null,this._dataEnums=null},u.prototype.deleteRiveRenderer=function(){var n;(n=this.renderer)===null||n===void 0||n.delete(),this.renderer=null},u.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},u.prototype.retrieveTextRun=function(n){var i;if(!n){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var d=this.artboard.textRun(n);if(!d){console.warn("Could not access a text run with name '".concat(n,"' in the '").concat((i=this.artboard)===null||i===void 0?void 0:i.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return d},u.prototype.getTextRunValue=function(n){var i=this.retrieveTextRun(n);return i?i.text:void 0},u.prototype.setTextRunValue=function(n,i){var d=this.retrieveTextRun(n);d&&(d.text=i)},u.prototype.play=function(n,i){var d=this;if(n=ot(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return d.play(n,i)}});return}this.animator.play(n),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},u.prototype.pause=function(n){var i=this;if(n=ot(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.pause(n)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(n)},u.prototype.scrub=function(n,i){var d=this;if(n=ot(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return d.scrub(n,i)}});return}this.animator.scrub(n,i||0),this.drawFrame()},u.prototype.stop=function(n){var i=this;if(n=ot(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.stop(n)}});return}this.animator&&this.animator.stop(n),this.eventCleanup&&this.eventCleanup()},u.prototype.reset=function(n){var i,d,_=n?.artboard,M=ot(n?.animations),O=ot(n?.stateMachines),Z=(i=n?.autoplay)!==null&&i!==void 0?i:!1,ae=(d=n?.autoBind)!==null&&d!==void 0?d:!1;this.cleanupInstances(),this.initArtboard(_,M,O,Z,ae),this.taskQueue.process()},u.prototype.load=function(n){this.file=null,this.stop(),this.init(n)},Object.defineProperty(u.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),u.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},u.prototype.resizeDrawingSurfaceToCanvas=function(n){if(this.canvas instanceof HTMLCanvasElement&&window){var i=this.canvas.getBoundingClientRect(),d=i.width,_=i.height,M=n||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=M,this.canvas.width=M*d,this.canvas.height=M*_,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===te.Layout){var O=this._layout.layoutScaleFactor;this.artboard.width=d/O,this.artboard.height=_/O}}},Object.defineProperty(u.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.animationCount();i++)n.push(this.artboard.animationByIndex(i).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.stateMachineCount();i++)n.push(this.artboard.stateMachineByIndex(i).name);return n},enumerable:!1,configurable:!0}),u.prototype.stateMachineInputs=function(n){if(this.loaded){var i=this.animator.stateMachines.find(function(d){return d.name===n});return i?.inputs}},u.prototype.retrieveInputAtPath=function(n,i){if(!n){console.warn("No input name provided for path '".concat(i,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var d=this.artboard.inputByPath(n,i);if(!d){console.warn("Could not access an input with name: '".concat(n,"', at path:'").concat(i,"'"));return}return d},u.prototype.setBooleanStateAtPath=function(n,i,d){var _=this.retrieveInputAtPath(n,d);_&&(_.type===X.Boolean?_.asBool().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(d,"' is not a boolean")))},u.prototype.setNumberStateAtPath=function(n,i,d){var _=this.retrieveInputAtPath(n,d);_&&(_.type===X.Number?_.asNumber().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(d,"' is not a number")))},u.prototype.fireStateAtPath=function(n,i){var d=this.retrieveInputAtPath(n,i);d&&(d.type===X.Trigger?d.asTrigger().fire():console.warn("Input with name: '".concat(n,"', at path:'").concat(i,"' is not a trigger")))},u.prototype.retrieveTextAtPath=function(n,i){if(!n){console.warn("No text name provided for path '".concat(i,"'"));return}if(!i){console.warn("No path provided for text '".concat(n,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var d=this.artboard.textByPath(n,i);if(!d){console.warn("Could not access text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return d},u.prototype.getTextRunValueAtPath=function(n,i){var d=this.retrieveTextAtPath(n,i);if(!d){console.warn("Could not get text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return d.text},u.prototype.setTextRunValueAtPath=function(n,i,d){var _=this.retrieveTextAtPath(n,d);if(!_){console.warn("Could not set text with name: '".concat(n,"', at path:'").concat(d,"'"));return}_.text=i},Object.defineProperty(u.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),u.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},u.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},u.prototype.unsubscribe=function(n,i){console.warn("This function is deprecated: please use `off()` instead."),this.off(n,i)},u.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},u.prototype.unsubscribeAll=function(n){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(n)},u.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},u.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},u.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},u.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(u.prototype,"contents",{get:function(){if(this.loaded){for(var n={artboards:[]},i=0;i<this.file.artboardCount();i++){for(var d=this.file.artboardByIndex(i),_={name:d.name,animations:[],stateMachines:[]},M=0;M<d.animationCount();M++){var O=d.animationByIndex(M);_.animations.push(O.name)}for(var Z=0;Z<d.stateMachineCount();Z++){for(var ae=d.stateMachineByIndex(Z),G=ae.name,fe=new this.runtime.StateMachineInstance(ae,d),Ce=[],Ue=0;Ue<fe.inputCount();Ue++){var Le=fe.input(Ue);Ce.push({name:Le.name,type:Le.type})}_.stateMachines.push({name:G,inputs:Ce})}n.artboards.push(_)}return n}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(n){this._volume=n,this.artboard&&(this.artboard.volume=n*he.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"artboardWidth",{get:function(){var n;return this.artboard?this.artboard.width:(n=this._artboardWidth)!==null&&n!==void 0?n:0},set:function(n){this._artboardWidth=n,this.artboard&&(this.artboard.width=n)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"artboardHeight",{get:function(){var n;return this.artboard?this.artboard.height:(n=this._artboardHeight)!==null&&n!==void 0?n:0},set:function(n){this._artboardHeight=n,this.artboard&&(this.artboard.height=n)},enumerable:!1,configurable:!0}),u.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(u.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(n){this._devicePixelRatioUsed=n},enumerable:!1,configurable:!0}),u.prototype.bindViewModelInstance=function(n){var i;this.artboard&&!this.destroyed&&n&&n.runtimeInstance&&(n.internalIncrementReferenceCount(),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=n,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(d){return d.bindViewModelInstance(n)}):this.artboard.bindViewModelInstance(n.runtimeInstance))},Object.defineProperty(u.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),u.prototype.viewModelByIndex=function(n){var i=this.file.viewModelByIndex(n);return i!==null?new ve(i):null},u.prototype.viewModelByName=function(n){var i=this.file.viewModelByName(n);return i!==null?new ve(i):null},u.prototype.enums=function(){if(this._dataEnums===null){var n=this.file.enums();this._dataEnums=n.map(function(i){return new it(i)})}return this._dataEnums},u.prototype.defaultViewModel=function(){if(this.artboard){var n=this.file.defaultArtboardViewModel(this.artboard);if(n)return new ve(n)}return null},u.prototype.getArtboard=function(n){var i,d;return(d=(i=this.riveFile)===null||i===void 0?void 0:i.getArtboard(n))!==null&&d!==void 0?d:null},u.missingErrorMessage="Rive source file or data buffer required",u.cleanupErrorMessage="Attempt to use file after calling cleanup.",u})(),ve=(function(){function u(n){this._viewModel=n}return Object.defineProperty(u.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),u.prototype.instanceByIndex=function(n){var i=this._viewModel.instanceByIndex(n);return i!==null?new He(i,null):null},u.prototype.instanceByName=function(n){var i=this._viewModel.instanceByName(n);return i!==null?new He(i,null):null},u.prototype.defaultInstance=function(){var n=this._viewModel.defaultInstance();return n!==null?new He(n,null):null},u.prototype.instance=function(){var n=this._viewModel.instance();return n!==null?new He(n,null):null},Object.defineProperty(u.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),u})(),it=(function(){function u(n){this._dataEnum=n}return Object.defineProperty(u.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),u})(),Ie;(function(u){u.Number="number",u.String="string",u.Boolean="boolean",u.Color="color",u.Trigger="trigger",u.Enum="enum",u.List="list",u.Image="image",u.Artboard="artboard"})(Ie||(Ie={}));var He=(function(){function u(n,i){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this._runtimeInstance=n,i!==null&&this._parents.push(i)}return Object.defineProperty(u.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),u.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(n){n.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(n){n.clearChanges()})),this._children.forEach(function(n){return n.handleCallbacks()})},u.prototype.addParent=function(n){this._parents.includes(n)||(this._parents.push(n),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&n.addToViewModelCallbacks(this))},u.prototype.removeParent=function(n){var i=this._parents.indexOf(n);if(i!==-1){var d=this._parents[i];d.removeFromViewModelCallbacks(this),this._parents.splice(i,1)}},u.prototype.addToPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)||(this._propertiesWithCallbacks.push(n),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(d){d.addToViewModelCallbacks(i)}))},u.prototype.removeFromPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(d){return d!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(d){d.removeFromViewModelCallbacks(i)}))},u.prototype.addToViewModelCallbacks=function(n){var i=this;this._children.includes(n)||(this._children.push(n),this._parents.forEach(function(d){d.addToViewModelCallbacks(i)}))},u.prototype.removeFromViewModelCallbacks=function(n){var i=this;this._children.includes(n)&&(this._children=this._children.filter(function(d){return d!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(d){d.removeFromViewModelCallbacks(i)}))},u.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(n){n.clearCallbacks()})},u.prototype.propertyFromPath=function(n,i){var d=n.split("/");return this.propertyFromPathSegments(d,0,i)},u.prototype.viewModelFromPathSegments=function(n,i){var d=this.internalViewModelInstance(n[i]);return d!==null?i==n.length-1?d:d.viewModelFromPathSegments(n,i++):null},u.prototype.propertyFromPathSegments=function(n,i,d){var _,M,O,Z,ae,G,fe,Ce,Ue,Le,wt,ft,tt,nt,dt,qt,Kt,It;if(i<n.length-1){var re=this.internalViewModelInstance(n[i]);return re!==null?re.propertyFromPathSegments(n,i+1,d):null}var ye=null;switch(d){case Ie.Number:if(ye=(M=(_=this._runtimeInstance)===null||_===void 0?void 0:_.number(n[i]))!==null&&M!==void 0?M:null,ye!==null)return new ct(ye,this);break;case Ie.String:if(ye=(Z=(O=this._runtimeInstance)===null||O===void 0?void 0:O.string(n[i]))!==null&&Z!==void 0?Z:null,ye!==null)return new lt(ye,this);break;case Ie.Boolean:if(ye=(G=(ae=this._runtimeInstance)===null||ae===void 0?void 0:ae.boolean(n[i]))!==null&&G!==void 0?G:null,ye!==null)return new jt(ye,this);break;case Ie.Color:if(ye=(Ce=(fe=this._runtimeInstance)===null||fe===void 0?void 0:fe.color(n[i]))!==null&&Ce!==void 0?Ce:null,ye!==null)return new $t(ye,this);break;case Ie.Trigger:if(ye=(Le=(Ue=this._runtimeInstance)===null||Ue===void 0?void 0:Ue.trigger(n[i]))!==null&&Le!==void 0?Le:null,ye!==null)return new an(ye,this);break;case Ie.Enum:if(ye=(ft=(wt=this._runtimeInstance)===null||wt===void 0?void 0:wt.enum(n[i]))!==null&&ft!==void 0?ft:null,ye!==null)return new et(ye,this);break;case Ie.List:if(ye=(nt=(tt=this._runtimeInstance)===null||tt===void 0?void 0:tt.list(n[i]))!==null&&nt!==void 0?nt:null,ye!==null)return new yt(ye,this);break;case Ie.Image:if(ye=(qt=(dt=this._runtimeInstance)===null||dt===void 0?void 0:dt.image(n[i]))!==null&&qt!==void 0?qt:null,ye!==null)return new Tn(ye,this);break;case Ie.Artboard:if(ye=(It=(Kt=this._runtimeInstance)===null||Kt===void 0?void 0:Kt.artboard(n[i]))!==null&&It!==void 0?It:null,ye!==null)return new kt(ye,this);break}return null},u.prototype.internalViewModelInstance=function(n){var i;if(this._viewModelInstances.has(n))return this._viewModelInstances.get(n);var d=(i=this._runtimeInstance)===null||i===void 0?void 0:i.viewModel(n);if(d!==null){var _=new u(d,this);return _.internalIncrementReferenceCount(),this._viewModelInstances.set(n,_),_}return null},u.prototype.number=function(n){var i=this.propertyFromPath(n,Ie.Number);return i},u.prototype.string=function(n){var i=this.propertyFromPath(n,Ie.String);return i},u.prototype.boolean=function(n){var i=this.propertyFromPath(n,Ie.Boolean);return i},u.prototype.color=function(n){var i=this.propertyFromPath(n,Ie.Color);return i},u.prototype.trigger=function(n){var i=this.propertyFromPath(n,Ie.Trigger);return i},u.prototype.enum=function(n){var i=this.propertyFromPath(n,Ie.Enum);return i},u.prototype.list=function(n){var i=this.propertyFromPath(n,Ie.List);return i},u.prototype.image=function(n){var i=this.propertyFromPath(n,Ie.Image);return i},u.prototype.artboard=function(n){var i=this.propertyFromPath(n,Ie.Artboard);return i},u.prototype.viewModel=function(n){var i=n.split("/"),d=i.length>1?this.viewModelFromPathSegments(i.slice(0,i.length-1),0):this;return d!=null?d.internalViewModelInstance(i[i.length-1]):null},u.prototype.internalReplaceViewModel=function(n,i){var d;if(i.runtimeInstance!==null){var _=((d=this._runtimeInstance)===null||d===void 0?void 0:d.replaceViewModel(n,i.runtimeInstance))||!1;if(_){i.internalIncrementReferenceCount();var M=this.internalViewModelInstance(n);M!==null&&(M.removeParent(this),this._children.includes(M)&&(this._children=this._children.filter(function(O){return O!==M})),M.cleanup()),this._viewModelInstances.set(n,i),i.addParent(this)}return _}return!1},u.prototype.replaceViewModel=function(n,i){var d,_=n.split("/"),M=_.length>1?this.viewModelFromPathSegments(_.slice(0,_.length-1),0):this;return(d=M?.internalReplaceViewModel(_[_.length-1],i))!==null&&d!==void 0?d:!1},u.prototype.incrementReferenceCount=function(){var n;this._referenceCount++,(n=this._runtimeInstance)===null||n===void 0||n.incrementReferenceCount()},u.prototype.decrementReferenceCount=function(){var n;this._referenceCount--,(n=this._runtimeInstance)===null||n===void 0||n.decrementReferenceCount()},Object.defineProperty(u.prototype,"properties",{get:function(){var n;return((n=this._runtimeInstance)===null||n===void 0?void 0:n.getProperties().map(function(i){return j({},i)}))||[]},enumerable:!1,configurable:!0}),u.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},u.prototype.cleanup=function(){var n=this;if(this._referenceCount--,this._referenceCount<=0){this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(_){_.cleanup()}),this._viewModelInstances.clear();var i=F([],this._children,!0);this._children.length=0;var d=F([],this._parents,!0);this._parents.length=0,i.forEach(function(_){_.removeParent(n)}),d.forEach(function(_){_.removeFromViewModelCallbacks(n)})}},u})(),Oe=(function(){function u(n,i){this.callbacks=[],this._viewModelInstanceValue=n,this._parentViewModel=i}return u.prototype.on=function(n){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(n)||(this.callbacks.push(n),this._parentViewModel.addToPropertyCallbacks(this))},u.prototype.off=function(n){n?this.callbacks=this.callbacks.filter(function(i){return i!==n}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},u.prototype.internalHandleCallback=function(n){},u.prototype.handleCallbacks=function(){var n=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(i){n.internalHandleCallback(i)})},u.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},u.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(u.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),u})(),lt=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(Oe),ct=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(Oe),jt=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(Oe),an=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return n.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},n.prototype.internalHandleCallback=function(i){i()},n})(Oe),et=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(i){this._viewModelInstanceValue.valueIndex=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(Oe),yt=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),n.prototype.addInstance=function(i){i.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(i.runtimeInstance),i.addParent(this._parentViewModel))},n.prototype.addInstanceAt=function(i,d){return i.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(i.runtimeInstance,d)?(i.addParent(this._parentViewModel),!0):!1},n.prototype.removeInstance=function(i){i.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(i.runtimeInstance),i.removeParent(this._parentViewModel))},n.prototype.removeInstanceAt=function(i){this._viewModelInstanceValue.removeInstanceAt(i)},n.prototype.instanceAt=function(i){var d=this._viewModelInstanceValue.instanceAt(i);if(d!=null){var _=new He(d,this._parentViewModel);return _}return null},n.prototype.swap=function(i,d){this._viewModelInstanceValue.swap(i,d)},n.prototype.internalHandleCallback=function(i){i()},n})(Oe),$t=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.rgb=function(i,d,_){this._viewModelInstanceValue.rgb(i,d,_)},n.prototype.rgba=function(i,d,_,M){this._viewModelInstanceValue.argb(M,i,d,_)},n.prototype.argb=function(i,d,_,M){this._viewModelInstanceValue.argb(i,d,_,M)},n.prototype.alpha=function(i){this._viewModelInstanceValue.alpha(i)},n.prototype.opacity=function(i){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,i))*255))},n.prototype.internalHandleCallback=function(i){i(this.value)},n})(Oe),Tn=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{set:function(i){var d;this._viewModelInstanceValue.value((d=i?.nativeImage)!==null&&d!==void 0?d:null)},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i()},n})(Oe),kt=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{set:function(i){var d;this._viewModelInstanceValue.value((d=i?.nativeArtboard)!==null&&d!==void 0?d:null)},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i()},n})(Oe),Qn=function(u){return I(void 0,void 0,void 0,function(){var n,i,d;return f(this,function(_){switch(_.label){case 0:return n=new Request(u),[4,fetch(n)];case 1:return i=_.sent(),[4,i.arrayBuffer()];case 2:return d=_.sent(),[2,d]}})})},ot=function(u){return typeof u=="string"?[u]:u instanceof Array?u:[]},kr={EventManager:Te,TaskQueueManager:ke},Zn=function(u){return I(void 0,void 0,void 0,function(){var n,i,d;return f(this,function(_){switch(_.label){case 0:return n=new Promise(function(M){return ne.getInstance(function(O){O.decodeAudio(u,M)})}),[4,n];case 1:return i=_.sent(),d=new R.AudioWrapper(i),R.finalizationRegistry.register(d,i),[2,d]}})})},Dr=function(u){return I(void 0,void 0,void 0,function(){var n,i,d;return f(this,function(_){switch(_.label){case 0:return n=new Promise(function(M){return ne.getInstance(function(O){O.decodeImage(u,M)})}),[4,n];case 1:return i=_.sent(),d=new R.ImageWrapper(i),R.finalizationRegistry.register(d,i),[2,d]}})})},Gt=function(u){return I(void 0,void 0,void 0,function(){var n,i,d;return f(this,function(_){switch(_.label){case 0:return n=new Promise(function(M){return ne.getInstance(function(O){O.decodeFont(u,M)})}),[4,n];case 1:return i=_.sent(),d=new R.FontWrapper(i),R.finalizationRegistry.register(d,i),[2,d]}})})}})(),w})())})(Cr)),Cr.exports}var fu=cu(),du=Qe('<div class="main-container"><canvas width="400" height="500"></canvas></div>');function xo(o,s){Or(s,!0);let c=Ge(void 0);console.log(s.fileName),Lr(()=>{if(!oe(c))return;const w=new fu.Rive({src:`/assets/${s.fileName}`,canvas:oe(c),autoplay:!0,stateMachines:"SM1"});return()=>{w.cleanup()}});var v=du(),p=je(v);au(p,w=>_e(c,w),()=>oe(c)),Xe(o,v),xr()}var hu=Qe('<img alt="Background"/>'),vu=Qe('<div class="background-media svelte-lpa45s"><!></div>'),pu=Qe('<img alt="Character"/>'),mu=Qe('<div class="character-media svelte-lpa45s"><!></div>'),gu=(o,s,c)=>s(oe(c).nextDialogueId),_u=Qe('<button class="option-button svelte-lpa45s"> </button>'),yu=Qe('<div class="options-container svelte-lpa45s"></div>'),wu=Qe('<div class="error-overlay svelte-lpa45s"><p class="error-text svelte-lpa45s"> </p></div>'),bu=Qe('<div class="dialogue-container svelte-lpa45s"><!> <!> <div class="dialogue-content svelte-lpa45s"><div class="dialogue-text svelte-lpa45s"> </div> <!></div> <!> <!></div>');function Au(o,s){Or(s,!0);let c=Ge(null),v=Ge(null),p=Ge(null);Lr(async()=>{});async function w(){try{if(_e(p,null),s.dialogue.backgroundImage)try{s.dialogue.backgroundImage.endsWith(".riv")||(_e(c,`/assets/${s.dialogue.backgroundImage}`),await A(oe(c)))}catch{console.warn("Background not found:",s.dialogue.backgroundImage),_e(c,null)}if(s.dialogue.characterImage)try{s.dialogue.characterImage.endsWith(".riv")||(_e(v,`/assets/${s.dialogue.characterImage}`),await A(oe(v)))}catch{console.warn("Character not found:",s.dialogue.characterImage),_e(v,null)}}catch(X){_e(p,"Ошибка загрузки медиа: "+X.message),console.error("Media loading error:",X),s.dialogue.backgroundImage?.endsWith(".riv")&&_e(c,null),s.dialogue.characterImage?.endsWith(".riv")&&_e(v,null)}finally{}}function A(X){return new Promise((x,D)=>{const q=new Image;q.onload=()=>x(X),q.onerror=()=>D(new Error(`Image not found: ${X}`)),q.src=X})}w();function P(X){const x=new CustomEvent("dialogueChange",{detail:{nextDialogueId:X}});window.dispatchEvent(x)}var C=bu(),R=je(C);{var T=X=>{var x=vu(),D=je(x);{var q=ie=>{xo(ie,{get fileName(){return s.dialogue.backgroundImage}})},J=ie=>{var z=hu();let ce;Zt(Te=>{Fo(z,"src",oe(c)?oe(c):""),ce=li(z,1,"background-image svelte-lpa45s",null,ce,Te)},[()=>({hidden:!oe(c)})]),Mo("error",z,()=>{_e(p,"Ошибка загрузки фона: "+s.dialogue.backgroundImage),_e(c,null)}),Xe(ie,z)};Ot(D,ie=>{s.dialogue.backgroundImage.endsWith(".riv")?ie(q):ie(J,!1)})}Xe(X,x)};Ot(R,X=>{s.dialogue.backgroundImage&&X(T)})}var j=Ke(R,2);{var I=X=>{var x=mu(),D=je(x);{var q=ie=>{xo(ie,{get fileName(){return s.dialogue.characterImage}})},J=ie=>{var z=pu();let ce;Zt(Te=>{Fo(z,"src",oe(v)?oe(v):""),ce=li(z,1,"character-image svelte-lpa45s",null,ce,Te)},[()=>({hidden:!oe(v)})]),Mo("error",z,()=>{_e(p,"Ошибка загрузки персонажа: "+s.dialogue.characterImage),_e(v,null)}),Xe(ie,z)};Ot(D,ie=>{s.dialogue.characterImage.endsWith(".riv")?ie(q):ie(J,!1)})}Xe(X,x)};Ot(j,X=>{s.dialogue.characterImage&&X(I)})}var f=Ke(j,2),F=je(f),U=je(F),ee=Ke(F,2);{var te=X=>{var x=yu();pa(x,21,()=>s.dialogue.options,D=>D.text,(D,q)=>{var J=_u();J.__click=[gu,P,q];var ie=je(J);Zt(()=>en(ie,oe(q).text)),Xe(D,J)}),Xe(X,x)};Ot(ee,X=>{s.dialogue.options&&s.dialogue.options.length>0&&X(te)})}var $=Ke(f,2);{var Q=X=>{var x=wu(),D=je(x),q=je(D);Zt(()=>en(q,oe(p))),Xe(X,x)};Ot($,X=>{oe(p)&&X(Q)})}var ne=Ke($,2);Ot(ne,X=>{}),Zt(()=>en(U,`"${s.dialogue.text??""}"`)),Xe(o,C),xr()}va(["click"]);function Cu(o,s,c){oe(s)<oe(c).length-1&&Go(s)}function Eu(o,s){oe(s)>0&&Go(s,-1)}function So(o,s){_e(s,0)}async function Mu(o,s,c,v,p){_e(s,!0),_e(c,"");try{await v(),_e(p,0)}catch(w){_e(c,"Ошибка перезагрузки: "+w.message)}finally{_e(s,!1)}}var Iu=Qe('<div class="loading"><p>🔄 Загрузка истории Дракулы...</p></div>'),Ru=Qe('<div class="error"> <div style="margin-top: 15px;"><button class="nav-button">🔄 Попробовать снова</button></div></div>'),Pu=Qe("<div></div>"),Fu=Qe('<div class="header"><div class="user-avatar"> </div> <div class="user-info"><h3 class="user-name"> </h3> <p class="user-email"> </p></div> <button class="nav-button">🔄 Начать сначала</button></div> <div class="dialogues-container"><!> <div class="dots-navigation"></div> <div class="navigation"><button class="nav-button">← Назад</button> <button class="nav-button">Вперед →</button></div> <div class="progress-info"> </div></div>',1),Tu=Qe('<div class="welcome-section"><h1 class="welcome-title">🧛‍♂️ Дракула: Интерактивная история</h1> <p class="welcome-text">Погрузитесь в атмосферную готическую историю с интерактивными диалогами.<br/> Принимайте решения, которые влияют на развитие сюжета.</p> <button class="start-button">🎭 Начать историю</button></div>'),Lu=Qe('<div class="app"><!></div>');function Ou(o,s){Or(s,!0);let c=vn({name:"Игрок"}),v=Ge(!0),p=Ge(""),w=Ge(vn([])),A=Ge(0);Lr(async()=>{try{await P()}catch(F){_e(p,"Ошибка загрузки истории: "+F.message),console.error("Load error:",F)}finally{_e(v,!1)}});async function P(){try{console.log("Загрузка диалогов из /assets/dracula_story.json");const F=await fetch("/assets/dracula_story.json");if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const U=await F.json();if(!U.dialogues||!Array.isArray(U.dialogues))throw new Error("Неверный формат файла истории: отсутствует dialogues array");_e(w,U.dialogues,!0),console.log("Диалоги загружены:",oe(w).length)}catch(F){throw _e(p,"Ошибка загрузки истории: "+F.message),console.error("Load dialogues error:",F),F}}function C(F){const U=F.detail.nextDialogueId,ee=oe(w).findIndex(te=>te.id===U);if(ee!==-1)_e(A,ee,!0);else{const te=oe(w)[oe(A)];if(te.nextDialogueId){const $=oe(w).findIndex(Q=>Q.id===te.nextDialogueId);$!==-1&&_e(A,$,!0)}}}function R(F){_e(A,F,!0)}Lr(()=>(window.addEventListener("dialogueChange",C),()=>window.removeEventListener("dialogueChange",C)));var T=Lu(),j=je(T);{var I=F=>{var U=Iu();Xe(F,U)},f=F=>{var U=Ro(),ee=ni(U);{var te=Q=>{var ne=Ru(),X=je(ne),x=Ke(X),D=je(x);D.__click=[Mu,v,p,P,A],Zt(()=>en(X,`⚠️ ${oe(p)??""} `)),Xe(Q,ne)},$=Q=>{var ne=Ro(),X=ni(ne);{var x=q=>{var J=Fu(),ie=ni(J),z=je(ie),ce=je(z),Te=Ke(z,2),ke=je(Te),Se=je(ke),_t=Ke(ke,2),he=je(_t),Xt=Ke(Te,2);Xt.__click=[So,A];var De=Ke(ie,2),Pe=je(De);Au(Pe,{get dialogue(){return oe(w)[oe(A)]}});var We=Ke(Pe,2);pa(We,21,()=>oe(w),Qs,(He,Oe,lt)=>{var ct=Pu();ct.__click=()=>R(lt),Zt(()=>li(ct,1,`dot ${lt===oe(A)?"active":""}`)),Xe(He,ct)});var Ze=Ke(We,2),le=je(Ze);le.__click=[Eu,A];var ve=Ke(le,2);ve.__click=[Cu,A,w];var it=Ke(Ze,2),Ie=je(it);Zt(He=>{en(ce,He),en(Se,c.name),en(he,`Прогресс: ${oe(A)+1} / ${oe(w).length??""}`),le.disabled=oe(A)===0,ve.disabled=oe(A)===oe(w).length-1,en(Ie,`Сцена ${oe(A)+1} из ${oe(w).length??""}`)},[()=>c.name[0].toUpperCase()]),Xe(q,J)},D=q=>{var J=Tu(),ie=Ke(je(J),4);ie.__click=[So,A],Xe(q,J)};Ot(X,q=>{oe(w).length>0?q(x):q(D,!1)},!0)}Xe(Q,ne)};Ot(ee,Q=>{oe(p)?Q(te):Q($,!1)},!0)}Xe(F,U)};Ot(j,F=>{oe(v)?F(I):F(f,!1)})}Xe(o,T),xr()}va(["click"]);function xu(o){Ou(o,{})}qs(xu,{target:document.getElementById("app")});
