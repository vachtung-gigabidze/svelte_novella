(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))v(p);new MutationObserver(p=>{for(const y of p)if(y.type==="childList")for(const C of y.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&v(C)}).observe(document,{childList:!0,subtree:!0});function c(p){const y={};return p.integrity&&(y.integrity=p.integrity),p.referrerPolicy&&(y.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?y.credentials="include":p.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function v(p){if(p.ep)return;p.ep=!0;const y=c(p);fetch(p.href,y)}})();const Do=!1;var fi=Array.isArray,Xa=Array.prototype.indexOf,di=Array.from,ai=Object.defineProperty,zn=Object.getOwnPropertyDescriptor,$a=Object.getOwnPropertyDescriptors,Ga=Object.prototype,qa=Array.prototype,Wo=Object.getPrototypeOf,wo=Object.isExtensible;function Ka(o){for(var s=0;s<o.length;s++)o[s]()}function Ja(){var o,s,c=new Promise((v,p)=>{o=v,s=p});return{promise:c,resolve:o,reject:s}}const ot=2,hi=4,vi=8,Rn=16,Ht=32,mn=64,Vo=128,ft=256,Mr=512,Ge=1024,dt=2048,nn=4096,Ct=8192,Pn=16384,pi=32768,mi=65536,bo=1<<17,Qa=1<<18,Jn=1<<19,Za=1<<20,si=1<<21,gi=1<<22,vn=1<<23,Cr=Symbol("$state"),_i=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function es(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function ts(o){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ns(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function rs(o){throw new Error("https://svelte.dev/e/effect_in_teardown")}function is(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function os(o){throw new Error("https://svelte.dev/e/effect_orphan")}function as(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ss(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function us(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ls(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const cs=1,fs=2,ds=16,hs=2,Be=Symbol(),vs="http://www.w3.org/1999/xhtml";let ps=!1;function Uo(o){return o===this.v}function No(o,s){return o!=o?s==s:o!==s||o!==null&&typeof o=="object"||typeof o=="function"}function ms(o,s){return o!==s}function Bo(o){return!No(o,this.v)}let Qn=!1,gs=!1;function _s(){Qn=!0}let We=null;function Ir(o){We=o}function Sr(o,s=!1,c){We={p:We,c:null,e:null,s:o,x:null,l:Qn&&!s?{s:null,u:null,$:[]}:null}}function jr(o){var s=We,c=s.e;if(c!==null){s.e=null;for(var v of c)na(v)}return We=s.p,{}}function Fn(){return!Qn||We!==null&&We.l===null}const ys=new WeakMap;function ws(o){var s=we;if(s===null)return ye.f|=vn,o;if((s.f&pi)===0){if((s.f&Vo)===0)throw!s.parent&&o instanceof Error&&Ho(o),o;s.b.error(o)}else yi(o,s)}function yi(o,s){for(;s!==null;){if((s.f&Vo)!==0)try{s.b.error(o);return}catch(c){o=c}s=s.parent}throw o instanceof Error&&Ho(o),o}function Ho(o){const s=ys.get(o);s&&(ai(o,"message",{value:s.message}),ai(o,"stack",{value:s.stack}))}let Rr=[];function bs(){var o=Rr;Rr=[],Ka(o)}function Yo(o){Rr.length===0&&queueMicrotask(bs),Rr.push(o)}function As(){for(var o=we.b;o!==null&&!o.has_pending_snippet();)o=o.parent;return o===null&&es(),o}function zo(o){var s=ot|dt,c=ye!==null&&(ye.f&ot)!==0?ye:null;return we===null||c!==null&&(c.f&ft)!==0?s|=ft:we.f|=Jn,{ctx:We,deps:null,effects:null,equals:Uo,f:s,fn:o,reactions:null,rv:0,v:Be,wv:0,parent:c??we,ac:null}}function Cs(o,s){let c=we;c===null&&ns();var v=c.b,p=void 0,y=Gn(Be),C=null,I=!ye;return Ws(()=>{try{var A=o();C&&Promise.resolve(A).catch(()=>{})}catch(f){A=Promise.reject(f)}var R=()=>A;p=C?.then(R,R)??Promise.resolve(A),C=p;var T=He,x=v.pending;I&&(v.update_pending_count(1),x||T.increment());const P=(f,F=void 0)=>{C=null,x||T.activate(),F?F!==_i&&(y.f|=vn,Fr(y,F)):((y.f&vn)!==0&&(y.f^=vn),Fr(y,f)),I&&(v.update_pending_count(-1),x||T.decrement()),qo()};if(p.then(P,f=>P(null,f||"unknown")),T)return()=>{queueMicrotask(()=>T.neuter())}}),new Promise(A=>{function R(T){function x(){T===p?A(y):R(p)}T.then(x,x)}R(p)})}function Xo(o){const s=zo(o);return s.equals=Bo,s}function $o(o){var s=o.effects;if(s!==null){o.effects=null;for(var c=0;c<s.length;c+=1)Bt(s[c])}}function Es(o){for(var s=o.parent;s!==null;){if((s.f&ot)===0)return s;s=s.parent}return null}function wi(o){var s,c=we;tn(Es(o));try{$o(o),s=fa(o)}finally{tn(c)}return s}function Go(o){var s=wi(o);if(o.equals(s)||(o.v=s,o.wv=la()),!Ln){var c=(Zt||(o.f&ft)!==0)&&o.deps!==null?nn:Ge;et(o,c)}}function Ms(o,s,c){const v=Fn()?zo:Xo;if(s.length===0){c(o.map(v));return}var p=He,y=we,C=Is(),I=As();Promise.all(s.map(A=>Cs(A))).then(A=>{p?.activate(),C();try{c([...o.map(v),...A])}catch(R){(y.f&Pn)===0&&yi(R,y)}p?.deactivate(),qo()}).catch(A=>{I.error(A)})}function Is(){var o=we,s=ye,c=We,v=He;return function(){tn(o),Ot(s),Ir(c),v?.activate()}}function qo(){tn(null),Ot(null),Ir(null)}const ri=new Set;let He=null,Ao=new Set,Pr=[];function Ko(){const o=Pr.shift();Pr.length>0&&queueMicrotask(Ko),o()}let $n=[],bi=null,ui=!1;class En{current=new Map;#u=new Map;#i=new Set;#e=0;#l=null;#c=!1;#n=[];#o=[];#r=[];#t=[];#a=[];#f=[];#d=[];skipped_effects=new Set;process(s){$n=[];for(const p of s)this.#v(p);if(this.#n.length===0&&this.#e===0){this.#h();var c=this.#r,v=this.#t;this.#r=[],this.#t=[],this.#a=[],He=null,Co(c),Co(v),He===null?He=this:ri.delete(this),this.#l?.resolve()}else this.#s(this.#r),this.#s(this.#t),this.#s(this.#a);for(const p of this.#n)Cn(p);for(const p of this.#o)Cn(p);this.#n=[],this.#o=[]}#v(s){s.f^=Ge;for(var c=s.first;c!==null;){var v=c.f,p=(v&(Ht|mn))!==0,y=p&&(v&Ge)!==0,C=y||(v&Ct)!==0||this.skipped_effects.has(c);if(!C&&c.fn!==null){if(p)c.f^=Ge;else if((v&hi)!==0)this.#t.push(c);else if((v&Ge)===0)if((v&gi)!==0){var I=c.b?.pending?this.#o:this.#n;I.push(c)}else Wr(c)&&((c.f&Rn)!==0&&this.#a.push(c),Cn(c));var A=c.first;if(A!==null){c=A;continue}}var R=c.parent;for(c=c.next;c===null&&R!==null;)c=R.next,R=R.parent}}#s(s){for(const c of s)((c.f&dt)!==0?this.#f:this.#d).push(c),et(c,Ge);s.length=0}capture(s,c){this.#u.has(s)||this.#u.set(s,c),this.current.set(s,s.v)}activate(){He=this}deactivate(){He=null;for(const s of Ao)if(Ao.delete(s),s(),He!==null)break}neuter(){this.#c=!0}flush(){$n.length>0?Rs():this.#h(),He===this&&(this.#e===0&&ri.delete(this),this.deactivate())}#h(){if(!this.#c)for(const s of this.#i)s();this.#i.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const s of this.#f)et(s,dt),Mn(s);for(const s of this.#d)et(s,nn),Mn(s);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(s){this.#i.add(s)}settled(){return(this.#l??=Ja()).promise}static ensure(){if(He===null){const s=He=new En;ri.add(He),En.enqueue(()=>{He===s&&s.flush()})}return He}static enqueue(s){Pr.length===0&&queueMicrotask(Ko),Pr.unshift(s)}}function Rs(){var o=An;ui=!0;try{var s=0;for(Mo(!0);$n.length>0;){var c=En.ensure();if(s++>1e3){var v,p;Ps()}c.process($n),en.clear()}}finally{ui=!1,Mo(o),bi=null}}function Ps(){try{as()}catch(o){yi(o,bi)}}let dn=null;function Co(o){var s=o.length;if(s!==0){for(var c=0;c<s;){var v=o[c++];if((v.f&(Pn|Ct))===0&&Wr(v)&&(dn=[],Cn(v),v.deps===null&&v.first===null&&v.nodes_start===null&&(v.teardown===null&&v.ac===null?oa(v):v.fn=null),dn?.length>0)){en.clear();for(const p of dn)Cn(p);dn=[]}}dn=null}}function Mn(o){for(var s=bi=o;s.parent!==null;){s=s.parent;var c=s.f;if(ui&&s===we&&(c&Rn)!==0)return;if((c&(mn|Ht))!==0){if((c&Ge)===0)return;s.f^=Ge}}$n.push(s)}const en=new Map;function Gn(o,s){var c={f:0,v:o,reactions:null,equals:Uo,rv:0,wv:0};return c}function Xe(o,s){const c=Gn(o);return Bs(c),c}function Fs(o,s=!1,c=!0){const v=Gn(o);return s||(v.equals=Bo),Qn&&c&&We!==null&&We.l!==null&&(We.l.s??=[]).push(v),v}function ge(o,s,c=!1){ye!==null&&(!Lt||(ye.f&bo)!==0)&&Fn()&&(ye.f&(ot|Rn|gi|bo))!==0&&!Nt?.includes(o)&&ls();let v=c?hn(s):s;return Fr(o,v)}function Fr(o,s){if(!o.equals(s)){var c=o.v;Ln?en.set(o,s):en.set(o,c),o.v=s;var v=En.ensure();v.capture(o,c),(o.f&ot)!==0&&((o.f&dt)!==0&&wi(o),et(o,(o.f&ft)===0?Ge:nn)),o.wv=la(),Qo(o,dt),Fn()&&we!==null&&(we.f&Ge)!==0&&(we.f&(Ht|mn))===0&&(ct===null?Hs([o]):ct.push(o))}return s}function Jo(o,s=1){var c=oe(o),v=s===1?c++:c--;return ge(o,c),v}function ii(o){ge(o,o.v+1)}function Qo(o,s){var c=o.reactions;if(c!==null)for(var v=Fn(),p=c.length,y=0;y<p;y++){var C=c[y],I=C.f;if(!(!v&&C===we)){var A=(I&dt)===0;A&&et(C,s),(I&ot)!==0?Qo(C,nn):A&&((I&Rn)!==0&&dn!==null&&dn.push(C),Mn(C))}}}function hn(o){if(typeof o!="object"||o===null||Cr in o)return o;const s=Wo(o);if(s!==Ga&&s!==qa)return o;var c=new Map,v=fi(o),p=Xe(0),y=pn,C=I=>{if(pn===y)return I();var A=ye,R=pn;Ot(null),Ro(y);var T=I();return Ot(A),Ro(R),T};return v&&c.set("length",Xe(o.length)),new Proxy(o,{defineProperty(I,A,R){(!("value"in R)||R.configurable===!1||R.enumerable===!1||R.writable===!1)&&ss();var T=c.get(A);return T===void 0?T=C(()=>{var x=Xe(R.value);return c.set(A,x),x}):ge(T,R.value,!0),!0},deleteProperty(I,A){var R=c.get(A);if(R===void 0){if(A in I){const T=C(()=>Xe(Be));c.set(A,T),ii(p)}}else ge(R,Be),ii(p);return!0},get(I,A,R){if(A===Cr)return o;var T=c.get(A),x=A in I;if(T===void 0&&(!x||zn(I,A)?.writable)&&(T=C(()=>{var f=hn(x?I[A]:Be),F=Xe(f);return F}),c.set(A,T)),T!==void 0){var P=oe(T);return P===Be?void 0:P}return Reflect.get(I,A,R)},getOwnPropertyDescriptor(I,A){var R=Reflect.getOwnPropertyDescriptor(I,A);if(R&&"value"in R){var T=c.get(A);T&&(R.value=oe(T))}else if(R===void 0){var x=c.get(A),P=x?.v;if(x!==void 0&&P!==Be)return{enumerable:!0,configurable:!0,value:P,writable:!0}}return R},has(I,A){if(A===Cr)return!0;var R=c.get(A),T=R!==void 0&&R.v!==Be||Reflect.has(I,A);if(R!==void 0||we!==null&&(!T||zn(I,A)?.writable)){R===void 0&&(R=C(()=>{var P=T?hn(I[A]):Be,f=Xe(P);return f}),c.set(A,R));var x=oe(R);if(x===Be)return!1}return T},set(I,A,R,T){var x=c.get(A),P=A in I;if(v&&A==="length")for(var f=R;f<x.v;f+=1){var F=c.get(f+"");F!==void 0?ge(F,Be):f in I&&(F=C(()=>Xe(Be)),c.set(f+"",F))}if(x===void 0)(!P||zn(I,A)?.writable)&&(x=C(()=>Xe(void 0)),ge(x,hn(R)),c.set(A,x));else{P=x.v!==Be;var U=C(()=>hn(R));ge(x,U)}var ee=Reflect.getOwnPropertyDescriptor(I,A);if(ee?.set&&ee.set.call(T,R),!P){if(v&&typeof A=="string"){var te=c.get("length"),$=Number(A);Number.isInteger($)&&$>=te.v&&ge(te,$+1)}ii(p)}return!0},ownKeys(I){oe(p);var A=Reflect.ownKeys(I).filter(x=>{var P=c.get(x);return P===void 0||P.v!==Be});for(var[R,T]of c)T.v!==Be&&!(R in I)&&A.push(R);return A},setPrototypeOf(){us()}})}var Eo,Zo,ea,ta;function Ts(){if(Eo===void 0){Eo=window,Zo=/Firefox/.test(navigator.userAgent);var o=Element.prototype,s=Node.prototype,c=Text.prototype;ea=zn(s,"firstChild").get,ta=zn(s,"nextSibling").get,wo(o)&&(o.__click=void 0,o.__className=void 0,o.__attributes=null,o.__style=void 0,o.__e=void 0),wo(c)&&(c.__t=void 0)}}function Tn(o=""){return document.createTextNode(o)}function Ai(o){return ea.call(o)}function kr(o){return ta.call(o)}function $e(o,s){return Ai(o)}function Tr(o,s){{var c=Ai(o);return c instanceof Comment&&c.data===""?kr(c):c}}function At(o,s=1,c=!1){let v=o;for(;s--;)v=kr(v);return v}function Ls(o){o.textContent=""}function Ci(){return!1}function Ei(o){var s=ye,c=we;Ot(null),tn(null);try{return o()}finally{Ot(s),tn(c)}}function Os(o){we===null&&ye===null&&os(),ye!==null&&(ye.f&ft)!==0&&we===null&&is(),Ln&&rs()}function xs(o,s){var c=s.last;c===null?s.last=s.first=o:(c.next=o,o.prev=c,s.last=o)}function Yt(o,s,c,v=!0){var p=we;p!==null&&(p.f&Ct)!==0&&(o|=Ct);var y={ctx:We,deps:null,nodes_start:null,nodes_end:null,f:o|dt,first:null,fn:s,last:null,next:null,parent:p,b:p&&p.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(c)try{Cn(y),y.f|=pi}catch(A){throw Bt(y),A}else s!==null&&Mn(y);if(v){var C=y;if(c&&C.deps===null&&C.teardown===null&&C.nodes_start===null&&C.first===C.last&&(C.f&Jn)===0&&(C=C.first),C!==null&&(C.parent=p,p!==null&&xs(C,p),ye!==null&&(ye.f&ot)!==0&&(o&mn)===0)){var I=ye;(I.effects??=[]).push(C)}}return y}function Ss(o){const s=Yt(vi,null,!1);return et(s,Ge),s.teardown=o,s}function js(o){Os();var s=we.f,c=!ye&&(s&Ht)!==0&&(s&pi)===0;if(c){var v=We;(v.e??=[]).push(o)}else return na(o)}function na(o){return Yt(hi|Za,o,!1)}function ks(o){En.ensure();const s=Yt(mn|Jn,o,!0);return(c={})=>new Promise(v=>{c.outro?Dr(s,()=>{Bt(s),v(void 0)}):(Bt(s),v(void 0))})}function Ds(o){return Yt(hi,o,!1)}function Ws(o){return Yt(gi|Jn,o,!0)}function Vs(o,s=0){return Yt(vi|s,o,!0)}function Qt(o,s=[],c=[]){Ms(s,c,v=>{Yt(vi,()=>o(...v.map(oe)),!0)})}function Mi(o,s=0){var c=Yt(Rn|s,o,!0);return c}function In(o,s=!0){return Yt(Ht|Jn,o,!0,s)}function ra(o){var s=o.teardown;if(s!==null){const c=Ln,v=ye;Io(!0),Ot(null);try{s.call(null)}finally{Io(c),Ot(v)}}}function ia(o,s=!1){var c=o.first;for(o.first=o.last=null;c!==null;){const p=c.ac;p!==null&&Ei(()=>{p.abort(_i)});var v=c.next;(c.f&mn)!==0?c.parent=null:Bt(c,s),c=v}}function Us(o){for(var s=o.first;s!==null;){var c=s.next;(s.f&Ht)===0&&Bt(s),s=c}}function Bt(o,s=!0){var c=!1;(s||(o.f&Qa)!==0)&&o.nodes_start!==null&&o.nodes_end!==null&&(Ns(o.nodes_start,o.nodes_end),c=!0),ia(o,s&&!c),Lr(o,0),et(o,Pn);var v=o.transitions;if(v!==null)for(const y of v)y.stop();ra(o);var p=o.parent;p!==null&&p.first!==null&&oa(o),o.next=o.prev=o.teardown=o.ctx=o.deps=o.fn=o.nodes_start=o.nodes_end=o.ac=null}function Ns(o,s){for(;o!==null;){var c=o===s?null:kr(o);o.remove(),o=c}}function oa(o){var s=o.parent,c=o.prev,v=o.next;c!==null&&(c.next=v),v!==null&&(v.prev=c),s!==null&&(s.first===o&&(s.first=v),s.last===o&&(s.last=c))}function Dr(o,s){var c=[];Ii(o,c,!0),aa(c,()=>{Bt(o),s&&s()})}function aa(o,s){var c=o.length;if(c>0){var v=()=>--c||s();for(var p of o)p.out(v)}else s()}function Ii(o,s,c){if((o.f&Ct)===0){if(o.f^=Ct,o.transitions!==null)for(const C of o.transitions)(C.is_global||c)&&s.push(C);for(var v=o.first;v!==null;){var p=v.next,y=(v.f&mi)!==0||(v.f&Ht)!==0;Ii(v,s,y?c:!1),v=p}}}function Ri(o){sa(o,!0)}function sa(o,s){if((o.f&Ct)!==0){o.f^=Ct,(o.f&Ge)===0&&(et(o,dt),Mn(o));for(var c=o.first;c!==null;){var v=c.next,p=(c.f&mi)!==0||(c.f&Ht)!==0;sa(c,p?s:!1),c=v}if(o.transitions!==null)for(const y of o.transitions)(y.is_global||s)&&y.in()}}let An=!1;function Mo(o){An=o}let Ln=!1;function Io(o){Ln=o}let ye=null,Lt=!1;function Ot(o){ye=o}let we=null;function tn(o){we=o}let Nt=null;function Bs(o){ye!==null&&(Nt===null?Nt=[o]:Nt.push(o))}let qe=null,it=0,ct=null;function Hs(o){ct=o}let ua=1,qn=0,pn=qn;function Ro(o){pn=o}let Zt=!1;function la(){return++ua}function Wr(o){var s=o.f;if((s&dt)!==0)return!0;if((s&nn)!==0){var c=o.deps,v=(s&ft)!==0;if(c!==null){var p,y,C=(s&Mr)!==0,I=v&&we!==null&&!Zt,A=c.length;if((C||I)&&(we===null||(we.f&Pn)===0)){var R=o,T=R.parent;for(p=0;p<A;p++)y=c[p],(C||!y?.reactions?.includes(R))&&(y.reactions??=[]).push(R);C&&(R.f^=Mr),I&&T!==null&&(T.f&ft)===0&&(R.f^=ft)}for(p=0;p<A;p++)if(y=c[p],Wr(y)&&Go(y),y.wv>o.wv)return!0}(!v||we!==null&&!Zt)&&et(o,Ge)}return!1}function ca(o,s,c=!0){var v=o.reactions;if(v!==null&&!Nt?.includes(o))for(var p=0;p<v.length;p++){var y=v[p];(y.f&ot)!==0?ca(y,s,!1):s===y&&(c?et(y,dt):(y.f&Ge)!==0&&et(y,nn),Mn(y))}}function fa(o){var s=qe,c=it,v=ct,p=ye,y=Zt,C=Nt,I=We,A=Lt,R=pn,T=o.f;qe=null,it=0,ct=null,Zt=(T&ft)!==0&&(Lt||!An||ye===null),ye=(T&(Ht|mn))===0?o:null,Nt=null,Ir(o.ctx),Lt=!1,pn=++qn,o.ac!==null&&(Ei(()=>{o.ac.abort(_i)}),o.ac=null);try{o.f|=si;var x=o.fn,P=x(),f=o.deps;if(qe!==null){var F;if(Lr(o,it),f!==null&&it>0)for(f.length=it+qe.length,F=0;F<qe.length;F++)f[it+F]=qe[F];else o.deps=f=qe;if(!Zt||(T&ot)!==0&&o.reactions!==null)for(F=it;F<f.length;F++)(f[F].reactions??=[]).push(o)}else f!==null&&it<f.length&&(Lr(o,it),f.length=it);if(Fn()&&ct!==null&&!Lt&&f!==null&&(o.f&(ot|nn|dt))===0)for(F=0;F<ct.length;F++)ca(ct[F],o);return p!==null&&p!==o&&(qn++,ct!==null&&(v===null?v=ct:v.push(...ct))),(o.f&vn)!==0&&(o.f^=vn),P}catch(U){return ws(U)}finally{o.f^=si,qe=s,it=c,ct=v,ye=p,Zt=y,Nt=C,Ir(I),Lt=A,pn=R}}function Ys(o,s){let c=s.reactions;if(c!==null){var v=Xa.call(c,o);if(v!==-1){var p=c.length-1;p===0?c=s.reactions=null:(c[v]=c[p],c.pop())}}c===null&&(s.f&ot)!==0&&(qe===null||!qe.includes(s))&&(et(s,nn),(s.f&(ft|Mr))===0&&(s.f^=Mr),$o(s),Lr(s,0))}function Lr(o,s){var c=o.deps;if(c!==null)for(var v=s;v<c.length;v++)Ys(o,c[v])}function Cn(o){var s=o.f;if((s&Pn)===0){et(o,Ge);var c=we,v=An;we=o,An=!0;try{(s&Rn)!==0?Us(o):ia(o),ra(o);var p=fa(o);o.teardown=typeof p=="function"?p:null,o.wv=ua;var y;Do&&gs&&(o.f&dt)!==0&&o.deps}finally{An=v,we=c}}}function oe(o){var s=o.f,c=(s&ot)!==0;if(ye!==null&&!Lt){var v=we!==null&&(we.f&Pn)!==0;if(!v&&!Nt?.includes(o)){var p=ye.deps;if((ye.f&si)!==0)o.rv<qn&&(o.rv=qn,qe===null&&p!==null&&p[it]===o?it++:qe===null?qe=[o]:(!Zt||!qe.includes(o))&&qe.push(o));else{(ye.deps??=[]).push(o);var y=o.reactions;y===null?o.reactions=[ye]:y.includes(ye)||y.push(ye)}}}else if(c&&o.deps===null&&o.effects===null){var C=o,I=C.parent;I!==null&&(I.f&ft)===0&&(C.f^=ft)}if(Ln){if(en.has(o))return en.get(o);if(c){C=o;var A=C.v;return((C.f&Ge)===0&&C.reactions!==null||da(C))&&(A=wi(C)),en.set(C,A),A}}else c&&(C=o,Wr(C)&&Go(C));if((o.f&vn)!==0)throw o.v;return o.v}function da(o){if(o.v===Be)return!0;if(o.deps===null)return!1;for(const s of o.deps)if(en.has(s)||(s.f&ot)!==0&&da(s))return!0;return!1}function ha(o){var s=Lt;try{return Lt=!0,o()}finally{Lt=s}}const zs=-7169;function et(o,s){o.f=o.f&zs|s}const Xs=["touchstart","touchmove"];function $s(o){return Xs.includes(o)}const va=new Set,li=new Set;function Gs(o,s,c,v={}){function p(y){if(v.capture||Yn.call(s,y),!y.cancelBubble)return Ei(()=>c?.call(this,y))}return o.startsWith("pointer")||o.startsWith("touch")||o==="wheel"?Yo(()=>{s.addEventListener(o,p,v)}):s.addEventListener(o,p,v),p}function Po(o,s,c,v,p){var y={capture:v,passive:p},C=Gs(o,s,c,y);(s===document.body||s===window||s===document||s instanceof HTMLMediaElement)&&Ss(()=>{s.removeEventListener(o,C,y)})}function pa(o){for(var s=0;s<o.length;s++)va.add(o[s]);for(var c of li)c(o)}let Fo=null;function Yn(o){var s=this,c=s.ownerDocument,v=o.type,p=o.composedPath?.()||[],y=p[0]||o.target;Fo=o;var C=0,I=Fo===o&&o.__root;if(I){var A=p.indexOf(I);if(A!==-1&&(s===document||s===window)){o.__root=s;return}var R=p.indexOf(s);if(R===-1)return;A<=R&&(C=A)}if(y=p[C]||o.target,y!==s){ai(o,"currentTarget",{configurable:!0,get(){return y||c}});var T=ye,x=we;Ot(null),tn(null);try{for(var P,f=[];y!==null;){var F=y.assignedSlot||y.parentNode||y.host||null;try{var U=y["__"+v];if(U!=null&&(!y.disabled||o.target===y))if(fi(U)){var[ee,...te]=U;ee.apply(y,[o,...te])}else U.call(y,o)}catch($){P?f.push($):P=$}if(o.cancelBubble||F===s||F===null)break;y=F}if(P){for(let $ of f)queueMicrotask(()=>{throw $});throw P}}finally{o.__root=s,delete o.currentTarget,Ot(T),tn(x)}}}function qs(o){var s=document.createElement("template");return s.innerHTML=o.replaceAll("<!>","<!---->"),s.content}function ma(o,s){var c=we;c.nodes_start===null&&(c.nodes_start=o,c.nodes_end=s)}function Ke(o,s){var c=(s&hs)!==0,v,p=!o.startsWith("<!>");return()=>{v===void 0&&(v=qs(p?o:"<!>"+o),v=Ai(v));var y=c||Zo?document.importNode(v,!0):v.cloneNode(!0);return ma(y,y),y}}function Or(){var o=document.createDocumentFragment(),s=document.createComment(""),c=Tn();return o.append(s,c),ma(s,c),o}function De(o,s){o!==null&&o.before(s)}function Xn(o,s){var c=s==null?"":typeof s=="object"?s+"":s;c!==(o.__t??=o.nodeValue)&&(o.__t=c,o.nodeValue=c+"")}function Ks(o,s){return Js(o,s)}const bn=new Map;function Js(o,{target:s,anchor:c,props:v={},events:p,context:y,intro:C=!0}){Ts();var I=new Set,A=x=>{for(var P=0;P<x.length;P++){var f=x[P];if(!I.has(f)){I.add(f);var F=$s(f);s.addEventListener(f,Yn,{passive:F});var U=bn.get(f);U===void 0?(document.addEventListener(f,Yn,{passive:F}),bn.set(f,1)):bn.set(f,U+1)}}};A(di(va)),li.add(A);var R=void 0,T=ks(()=>{var x=c??s.appendChild(Tn());return In(()=>{if(y){Sr({});var P=We;P.c=y}p&&(v.$$events=p),R=o(x,v)||{},y&&jr()}),()=>{for(var P of I){s.removeEventListener(P,Yn);var f=bn.get(P);--f===0?(document.removeEventListener(P,Yn),bn.delete(P)):bn.set(P,f)}li.delete(A),x!==c&&x.parentNode?.removeChild(x)}});return Qs.set(R,T),R}let Qs=new WeakMap;function Tt(o,s,c=!1){var v=o,p=null,y=null,C=Be,I=c?mi:0,A=!1;const R=(f,F=!0)=>{A=!0,P(F,f)};var T=null;function x(){T!==null&&(T.lastChild.remove(),v.before(T),T=null);var f=C?p:y,F=C?y:p;f&&Ri(f),F&&Dr(F,()=>{C?y=null:p=null})}const P=(f,F)=>{if(C!==(C=f)){var U=Ci(),ee=v;if(U&&(T=document.createDocumentFragment(),T.append(ee=Tn())),C?p??=F&&In(()=>F(ee)):y??=F&&In(()=>F(ee)),U){var te=He,$=C?p:y,Q=C?y:p;$&&te.skipped_effects.delete($),Q&&te.skipped_effects.add(Q),te.add_callback(x)}else x()}};Mi(()=>{A=!1,s(R),A||P(null,null)},I)}function To(o,s,c){var v=o,p=Be,y,C,I=null,A=Fn()?ms:No;function R(){y&&Dr(y),I!==null&&(I.lastChild.remove(),v.before(I),I=null),y=C}Mi(()=>{if(A(p,p=s())){var T=v,x=Ci();x&&(I=document.createDocumentFragment(),I.append(T=Tn())),C=In(()=>c(T)),x?He.add_callback(R):R()}})}function Zs(o,s){return s}function eu(o,s,c){for(var v=o.items,p=[],y=s.length,C=0;C<y;C++)Ii(s[C].e,p,!0);var I=y>0&&p.length===0&&c!==null;if(I){var A=c.parentNode;Ls(A),A.append(c),v.clear(),Ft(o,s[0].prev,s[y-1].next)}aa(p,()=>{for(var R=0;R<y;R++){var T=s[R];I||(v.delete(T.k),Ft(o,T.prev,T.next)),Bt(T.e,!I)}})}function ga(o,s,c,v,p,y=null){var C=o,I={flags:s,items:new Map,first:null};{var A=o;C=A.appendChild(Tn())}var R=null,T=!1,x=new Map,P=Xo(()=>{var ee=c();return fi(ee)?ee:ee==null?[]:di(ee)}),f,F;function U(){tu(F,f,I,x,C,p,s,v,c),y!==null&&(f.length===0?R?Ri(R):R=In(()=>y(C)):R!==null&&Dr(R,()=>{R=null}))}Mi(()=>{F??=we,f=oe(P);var ee=f.length;if(!(T&&ee===0)){T=ee===0;var te,$,Q,ne;if(Ci()){var X=new Set,S=He;for($=0;$<ee;$+=1){Q=f[$],ne=v(Q,$);var D=I.items.get(ne)??x.get(ne);D?_a(D,Q,$):(te=ya(null,I,null,null,Q,ne,$,p,s,c,!0),x.set(ne,te)),X.add(ne)}for(const[q,J]of I.items)X.has(q)||S.skipped_effects.add(J.e);S.add_callback(U)}else U();oe(P)}})}function tu(o,s,c,v,p,y,C,I,A){var R=s.length,T=c.items,x=c.first,P=x,f,F=null,U=[],ee=[],te,$,Q,ne;for(ne=0;ne<R;ne+=1){if(te=s[ne],$=I(te,ne),Q=T.get($),Q===void 0){var X=v.get($);if(X!==void 0){v.delete($),T.set($,X);var S=F?F.next:P;Ft(c,F,X),Ft(c,X,S),oi(X,S,p),F=X}else{var D=P?P.e.nodes_start:p;F=ya(D,c,F,F===null?c.first:F.next,te,$,ne,y,C,A)}T.set($,F),U=[],ee=[],P=F.next;continue}if(_a(Q,te,ne),(Q.e.f&Ct)!==0&&Ri(Q.e),Q!==P){if(f!==void 0&&f.has(Q)){if(U.length<ee.length){var q=ee[0],J;F=q.prev;var ie=U[0],B=U[U.length-1];for(J=0;J<U.length;J+=1)oi(U[J],q,p);for(J=0;J<ee.length;J+=1)f.delete(ee[J]);Ft(c,ie.prev,B.next),Ft(c,F,ie),Ft(c,B,q),P=q,F=B,ne-=1,U=[],ee=[]}else f.delete(Q),oi(Q,P,p),Ft(c,Q.prev,Q.next),Ft(c,Q,F===null?c.first:F.next),Ft(c,F,Q),F=Q;continue}for(U=[],ee=[];P!==null&&P.k!==$;)(P.e.f&Ct)===0&&(f??=new Set).add(P),ee.push(P),P=P.next;if(P===null)continue;Q=P}U.push(Q),F=Q,P=Q.next}if(P!==null||f!==void 0){for(var se=f===void 0?[]:di(f);P!==null;)(P.e.f&Ct)===0&&se.push(P),P=P.next;var Re=se.length;if(Re>0){var ke=R===0?p:null;eu(c,se,ke)}}o.first=c.first&&c.first.e,o.last=F&&F.e;for(var xe of v.values())Bt(xe.e);v.clear()}function _a(o,s,c,v){Fr(o.v,s),o.i=c}function ya(o,s,c,v,p,y,C,I,A,R,T){var x=(A&cs)!==0,P=(A&ds)===0,f=x?P?Fs(p,!1,!1):Gn(p):p,F=(A&fs)===0?C:Gn(C),U={i:F,v:f,k:y,a:null,e:null,prev:c,next:v};try{if(o===null){var ee=document.createDocumentFragment();ee.append(o=Tn())}return U.e=In(()=>I(o,f,F,R),ps),U.e.prev=c&&c.e,U.e.next=v&&v.e,c===null?T||(s.first=U):(c.next=U,c.e.next=U.e),v!==null&&(v.prev=U,v.e.prev=U.e),U}finally{}}function oi(o,s,c){for(var v=o.next?o.next.e.nodes_start:c,p=s?s.e.nodes_start:c,y=o.e.nodes_start;y!==null&&y!==v;){var C=kr(y);p.before(y),y=C}}function Ft(o,s,c){s===null?o.first=c:(s.next=c,s.e.next=c&&c.e),c!==null&&(c.prev=s,c.e.prev=s&&s.e)}const Lo=[...` 	
\r\f \v\uFEFF`];function nu(o,s,c){var v=o==null?"":""+o;if(s&&(v=v?v+" "+s:s),c){for(var p in c)if(c[p])v=v?v+" "+p:p;else if(v.length)for(var y=p.length,C=0;(C=v.indexOf(p,C))>=0;){var I=C+y;(C===0||Lo.includes(v[C-1]))&&(I===v.length||Lo.includes(v[I]))?v=(C===0?"":v.substring(0,C))+v.substring(I+1):C=I}}return v===""?null:v}function ci(o,s,c,v,p,y){var C=o.__className;if(C!==c||C===void 0){var I=nu(c,v,y);I==null?o.removeAttribute("class"):o.className=I,o.__className=c}else if(y&&p!==y)for(var A in y){var R=!!y[A];(p==null||R!==!!p[A])&&o.classList.toggle(A,R)}return y}const ru=Symbol("is custom element"),iu=Symbol("is html");function Oo(o,s,c,v){var p=ou(o);p[s]!==(p[s]=c)&&(c==null?o.removeAttribute(s):typeof c!="string"&&au(o).includes(s)?o[s]=c:o.setAttribute(s,c))}function ou(o){return o.__attributes??={[ru]:o.nodeName.includes("-"),[iu]:o.namespaceURI===vs}}var xo=new Map;function au(o){var s=o.getAttribute("is")||o.nodeName,c=xo.get(s);if(c)return c;xo.set(s,c=[]);for(var v,p=o,y=Element.prototype;y!==p;){v=$a(p);for(var C in v)v[C].set&&c.push(C);p=Wo(p)}return c}function So(o,s){return o===s||o?.[Cr]===s}function su(o={},s,c,v){return Ds(()=>{var p,y;return Vs(()=>{p=y,y=[],ha(()=>{o!==c(...y)&&(s(o,...y),p&&So(c(...p),o)&&s(null,...p))})}),()=>{Yo(()=>{y&&So(c(...y),o)&&s(null,...y)})}}),o}function xr(o){We===null&&ts(),Qn&&We.l!==null?uu(We).m.push(o):js(()=>{const s=ha(o);if(typeof s=="function")return s})}function uu(o){var s=o.l;return s.u??={a:[],b:[],m:[]}}const lu="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(lu);_s();var Er={exports:{}},cu=Er.exports,jo;function fu(){return jo||(jo=1,(function(o,s){(function(v,p){o.exports=p()})(cu,()=>(()=>{var c=[,((C,I,A)=>{A.r(I),A.d(I,{default:()=>T});var R=(()=>{var x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return(function(P={}){var f=P,F,U;f.ready=new Promise((e,t)=>{F=e,U=t});function ee(){function e(m){const b=a;r=t=0,a=new Map,b.forEach(E=>{try{E(m)}catch(w){console.error(w)}}),this.pb(),l&&l.Tb()}let t=0,r=0,a=new Map,l=null,h=null;this.requestAnimationFrame=function(m){t||(t=requestAnimationFrame(e.bind(this)));const b=++r;return a.set(b,m),b},this.cancelAnimationFrame=function(m){a.delete(m),t&&a.size==0&&(cancelAnimationFrame(t),t=0)},this.Rb=function(m){h&&(document.body.remove(h),h=null),m||(h=document.createElement("div"),h.style.backgroundColor="black",h.style.position="fixed",h.style.right=0,h.style.top=0,h.style.color="white",h.style.padding="4px",h.innerHTML="RIVE FPS",m=function(b){h.innerHTML="RIVE FPS "+b.toFixed(1)},document.body.appendChild(h)),l=new function(){let b=0,E=0;this.Tb=function(){var w=performance.now();E?(++b,w-=E,1e3<w&&(m(1e3*b/w),b=E=0)):(E=w,b=0)}}},this.Ob=function(){h&&(document.body.remove(h),h=null),l=null},this.pb=function(){}}function te(e){console.assert(!0);const t=new Map;let r=-1/0;this.push=function(a){return a=a+((1<<e)-1)>>e,t.has(a)&&clearTimeout(t.get(a)),t.set(a,setTimeout(function(){t.delete(a),t.length==0?r=-1/0:a==r&&(r=Math.max(...t.keys()),console.assert(r<a))},1e3)),r=Math.max(a,r),r<<e}}const $=f.onRuntimeInitialized;f.onRuntimeInitialized=function(){$&&$();let e=f.decodeAudio;f.decodeAudio=function(l,h){l=e(l),h(l)};let t=f.decodeFont;f.decodeFont=function(l,h){l=t(l),h(l)};const r=f.FileAssetLoader;f.ptrToAsset=l=>{let h=f.ptrToFileAsset(l);return h.isImage?f.ptrToImageAsset(l):h.isFont?f.ptrToFontAsset(l):h.isAudio?f.ptrToAudioAsset(l):h},f.CustomFileAssetLoader=r.extend("CustomFileAssetLoader",{__construct:function({loadContents:l}){this.__parent.__construct.call(this),this.Gb=l},loadContents:function(l,h){return l=f.ptrToAsset(l),this.Gb(l,h)}}),f.CDNFileAssetLoader=r.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(l){let h=f.ptrToAsset(l);return l=h.cdnUuid,l===""?!1:((function(m,b){var E=new XMLHttpRequest;E.responseType="arraybuffer",E.onreadystatechange=function(){E.readyState==4&&E.status==200&&b(E)},E.open("GET",m,!0),E.send(null)})(h.cdnBaseUrl+"/"+l,m=>{h.decode(new Uint8Array(m.response))}),!0)}}),f.FallbackFileAssetLoader=r.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.lb=[]},addLoader:function(l){this.lb.push(l)},loadContents:function(l,h){for(let m of this.lb)if(m.loadContents(l,h))return!0;return!1}});let a=f.computeAlignment;f.computeAlignment=function(l,h,m,b,E=1){return a.call(this,l,h,m,b,E)}};const Q="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),ne=new function(){function e(){if(!t){let Ee=function(H,Ae,Te){if(Ae=V.createShader(Ae),V.shaderSource(Ae,Te),V.compileShader(Ae),Te=V.getShaderInfoLog(Ae),0<(Te||"").length)throw Te;V.attachShader(H,Ae)};var K=Ee,g=document.createElement("canvas"),j={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let V;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(V=g.getContext("webgl",j),r=1,!V)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(V=g.getContext("webgl2",j))r=2;else if(V=g.getContext("webgl",j))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(V=new Proxy(V,{get(H,Ae){if(H.isContextLost()){if(E||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Ae),E=!0),typeof H[Ae]=="function")return function(){}}else return typeof H[Ae]=="function"?function(...Te){return H[Ae].apply(H,Te)}:H[Ae]},set(H,Ae,Te){if(H.isContextLost())E||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Ae),E=!0);else return H[Ae]=Te,!0}}),a=Math.min(V.getParameter(V.MAX_RENDERBUFFER_SIZE),V.getParameter(V.MAX_TEXTURE_SIZE)),g=V.createProgram(),Ee(g,V.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),Ee(g,V.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),V.bindAttribLocation(g,0,"vertex"),V.bindAttribLocation(g,1,"uv"),V.linkProgram(g),j=V.getProgramInfoLog(g),0<(j||"").trim().length)throw j;l=V.getUniformLocation(g,"mat"),h=V.getUniformLocation(g,"translate"),V.useProgram(g),V.bindBuffer(V.ARRAY_BUFFER,V.createBuffer()),V.enableVertexAttribArray(0),V.enableVertexAttribArray(1),V.bindBuffer(V.ELEMENT_ARRAY_BUFFER,V.createBuffer()),V.uniform1i(V.getUniformLocation(g,"image"),0),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t=V}return!0}let t=null,r=0,a=0,l=null,h=null,m=0,b=0,E=!1;e(),this.hc=function(){return e(),a},this.Mb=function(g){t.deleteTexture&&t.deleteTexture(g)},this.Lb=function(g){if(!e())return null;const j=t.createTexture();return j?(t.bindTexture(t.TEXTURE_2D,j),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,g),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),r==2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),j):null};const w=new te(8),k=new te(8),W=new te(10),Y=new te(10);this.Qb=function(g,j,K,V,Ee){if(e()){var H=w.push(g),Ae=k.push(j);if(t.canvas){(t.canvas.width!=H||t.canvas.height!=Ae)&&(t.canvas.width=H,t.canvas.height=Ae),t.viewport(0,Ae-j,g,j),t.disable(t.SCISSOR_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.SCISSOR_TEST),K.sort((pe,Pt)=>Pt.xb-pe.xb),H=W.push(V),m!=H&&(t.bufferData(t.ARRAY_BUFFER,8*H,t.DYNAMIC_DRAW),m=H),H=0;for(var Te of K)t.bufferSubData(t.ARRAY_BUFFER,H,Te.Ua),H+=4*Te.Ua.length;console.assert(H==4*V);for(var Rt of K)t.bufferSubData(t.ARRAY_BUFFER,H,Rt.Db),H+=4*Rt.Db.length;console.assert(H==8*V),H=Y.push(Ee),b!=H&&(t.bufferData(t.ELEMENT_ARRAY_BUFFER,2*H,t.DYNAMIC_DRAW),b=H),Te=0;for(var ln of K)t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,Te,ln.indices),Te+=2*ln.indices.length;console.assert(Te==2*Ee),ln=0,Rt=!0,H=Te=0;for(const pe of K){pe.image.Ka!=ln&&(t.bindTexture(t.TEXTURE_2D,pe.image.Ja||null),ln=pe.image.Ka),pe.mc?(t.scissor(pe.Za,Ae-pe.$a-pe.kb,pe.Ac,pe.kb),Rt=!0):Rt&&(t.scissor(0,Ae-j,g,j),Rt=!1),K=2/g;const Pt=-2/j;t.uniform4f(l,pe.ha[0]*K*pe.Ba,pe.ha[1]*Pt*pe.Ca,pe.ha[2]*K*pe.Ba,pe.ha[3]*Pt*pe.Ca),t.uniform2f(h,pe.ha[4]*K*pe.Ba+K*(pe.Za-pe.ic*pe.Ba)-1,pe.ha[5]*Pt*pe.Ca+Pt*(pe.$a-pe.jc*pe.Ca)+1),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,H),t.vertexAttribPointer(1,2,t.FLOAT,!1,0,H+4*V),t.drawElements(t.TRIANGLES,pe.indices.length,t.UNSIGNED_SHORT,Te),H+=4*pe.Ua.length,Te+=2*pe.indices.length}console.assert(H==4*V),console.assert(Te==2*Ee)}}},this.canvas=function(){return e()&&t.canvas}},X=f.onRuntimeInitialized;f.onRuntimeInitialized=function(){function e(L){switch(L){case w.srcOver:return"source-over";case w.screen:return"screen";case w.overlay:return"overlay";case w.darken:return"darken";case w.lighten:return"lighten";case w.colorDodge:return"color-dodge";case w.colorBurn:return"color-burn";case w.hardLight:return"hard-light";case w.softLight:return"soft-light";case w.difference:return"difference";case w.exclusion:return"exclusion";case w.multiply:return"multiply";case w.hue:return"hue";case w.saturation:return"saturation";case w.color:return"color";case w.luminosity:return"luminosity"}}function t(L){return"rgba("+((16711680&L)>>>16)+","+((65280&L)>>>8)+","+((255&L)>>>0)+","+((4278190080&L)>>>24)/255+")"}function r(){0<Ae.length&&(ne.Qb(H.drawWidth(),H.drawHeight(),Ae,Te,Rt),Ae=[],Rt=Te=0,H.reset(512,512));for(const L of Ee){for(const N of L.H)N();L.H=[]}Ee.clear()}X&&X();var a=f.RenderPaintStyle;const l=f.RenderPath,h=f.RenderPaint,m=f.Renderer,b=f.StrokeCap,E=f.StrokeJoin,w=f.BlendMode,k=a.fill,W=a.stroke,Y=f.FillRule.evenOdd;let g=1;var j=f.RenderImage.extend("CanvasRenderImage",{__construct:function({la:L,xa:N}={}){this.__parent.__construct.call(this),this.Ka=g,g=g+1&2147483647||1,this.la=L,this.xa=N},__destruct:function(){this.Ja&&(ne.Mb(this.Ja),URL.revokeObjectURL(this.Xa)),this.__parent.__destruct.call(this)},decode:function(L){var N=this;N.xa&&N.xa(N);var fe=new Image;N.Xa=URL.createObjectURL(new Blob([L],{type:"image/png"})),fe.onload=function(){N.Fb=fe,N.Ja=ne.Lb(fe),N.size(fe.width,fe.height),N.la&&N.la(N)},fe.src=N.Xa}}),K=l.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(L,N,fe,me,le,ve,Me){var Ie=this.T,bt=Ie.addPath;L=L.T;const Ue=new DOMMatrix;Ue.a=N,Ue.b=fe,Ue.c=me,Ue.d=le,Ue.e=ve,Ue.f=Me,bt.call(Ie,L,Ue)},fillRule:function(L){this.Wa=L},moveTo:function(L,N){this.T.moveTo(L,N)},lineTo:function(L,N){this.T.lineTo(L,N)},cubicTo:function(L,N,fe,me,le,ve){this.T.bezierCurveTo(L,N,fe,me,le,ve)},close:function(){this.T.closePath()}}),V=h.extend("CanvasRenderPaint",{color:function(L){this.Ya=t(L)},thickness:function(L){this.Ib=L},join:function(L){switch(L){case E.miter:this.Ia="miter";break;case E.round:this.Ia="round";break;case E.bevel:this.Ia="bevel"}},cap:function(L){switch(L){case b.butt:this.Ha="butt";break;case b.round:this.Ha="round";break;case b.square:this.Ha="square"}},style:function(L){this.Hb=L},blendMode:function(L){this.Eb=e(L)},clearGradient:function(){this.ja=null},linearGradient:function(L,N,fe,me){this.ja={zb:L,Ab:N,cb:fe,eb:me,Ra:[]}},radialGradient:function(L,N,fe,me){this.ja={zb:L,Ab:N,cb:fe,eb:me,Ra:[],ec:!0}},addStop:function(L,N){this.ja.Ra.push({color:L,stop:N})},completeGradient:function(){},draw:function(L,N,fe){let me=this.Hb;var le=this.Ya,ve=this.ja;if(L.globalCompositeOperation=this.Eb,ve!=null){le=ve.zb;var Me=ve.Ab;const bt=ve.cb;var Ie=ve.eb;const Ue=ve.Ra;ve.ec?(ve=bt-le,Ie-=Me,le=L.createRadialGradient(le,Me,0,le,Me,Math.sqrt(ve*ve+Ie*Ie))):le=L.createLinearGradient(le,Me,bt,Ie);for(let lt=0,Ne=Ue.length;lt<Ne;lt++)Me=Ue[lt],le.addColorStop(Me.stop,t(Me.color));this.Ya=le,this.ja=null}switch(me){case W:L.strokeStyle=le,L.lineWidth=this.Ib,L.lineCap=this.Ha,L.lineJoin=this.Ia,L.stroke(N);break;case k:L.fillStyle=le,L.fill(N,fe)}}});const Ee=new Set;let H=null,Ae=[],Te=0,Rt=0;var ln=f.CanvasRenderer=m.extend("Renderer",{__construct:function(L){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=L.getContext("2d"),this.Va=L,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const L=this.S.length-6;if(6>L)throw"restore() called without matching save().";this.S.splice(L),this.H.push(this.C.restore.bind(this.C))},transform:function(L,N,fe,me,le,ve){const Me=this.S,Ie=Me.length-6;Me.splice(Ie,6,Me[Ie]*L+Me[Ie+2]*N,Me[Ie+1]*L+Me[Ie+3]*N,Me[Ie]*fe+Me[Ie+2]*me,Me[Ie+1]*fe+Me[Ie+3]*me,Me[Ie]*le+Me[Ie+2]*ve+Me[Ie+4],Me[Ie+1]*le+Me[Ie+3]*ve+Me[Ie+5]),this.H.push(this.C.transform.bind(this.C,L,N,fe,me,le,ve))},rotate:function(L){const N=Math.sin(L);L=Math.cos(L),this.transform(L,N,-N,L,0,0)},_drawPath:function(L,N){this.H.push(N.draw.bind(N,this.C,L.T,L.Wa===Y?"evenodd":"nonzero"))},_drawRiveImage:function(L,N,fe,me){var le=L.Fb;if(le){var ve=this.C,Me=e(fe);this.H.push(function(){ve.globalCompositeOperation=Me,ve.globalAlpha=me,ve.drawImage(le,0,0),ve.globalAlpha=1})}},_getMatrix:function(L){const N=this.S,fe=N.length-6;for(let me=0;6>me;++me)L[me]=N[fe+me]},_drawImageMesh:function(L,N,fe,me,le,ve,Me,Ie,bt,Ue,lt){N=this.C.canvas.width;var Ne=this.C.canvas.height;const po=Ue-Ie,mo=lt-bt;Ie=Math.max(Ie,0),bt=Math.max(bt,0),Ue=Math.min(Ue,N),lt=Math.min(lt,Ne);const Bn=Ue-Ie,Hn=lt-bt;if(console.assert(Bn<=Math.min(po,N)),console.assert(Hn<=Math.min(mo,Ne)),!(0>=Bn||0>=Hn)){Ue=Bn<po||Hn<mo,N=lt=1;var cn=Math.ceil(Bn*lt),fn=Math.ceil(Hn*N);Ne=ne.hc(),cn>Ne&&(lt*=Ne/cn,cn=Ne),fn>Ne&&(N*=Ne/fn,fn=Ne),H||(H=new f.DynamicRectanizer(Ne),H.reset(512,512)),Ne=H.addRect(cn,fn),0>Ne&&(r(),Ee.add(this),Ne=H.addRect(cn,fn),console.assert(0<=Ne));var go=Ne&65535,_o=Ne>>16;Ae.push({ha:this.S.slice(this.S.length-6),image:L,Za:go,$a:_o,ic:Ie,jc:bt,Ac:cn,kb:fn,Ba:lt,Ca:N,Ua:new Float32Array(le),Db:new Float32Array(ve),indices:new Uint16Array(Me),mc:Ue,xb:L.Ka<<1|(Ue?1:0)}),Te+=le.length,Rt+=Me.length;var wn=this.C,za=e(fe);this.H.push(function(){wn.save(),wn.resetTransform(),wn.globalCompositeOperation=za,wn.globalAlpha=me;const yo=ne.canvas();yo&&wn.drawImage(yo,go,_o,cn,fn,Ie,bt,Bn,Hn),wn.restore()})}},_clipPath:function(L){this.H.push(this.C.clip.bind(this.C,L.T,L.Wa===Y?"evenodd":"nonzero"))},clear:function(){Ee.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Va.width,this.Va.height))},flush:function(){},translate:function(L,N){this.transform(1,0,0,1,L,N)}});f.makeRenderer=function(L){const N=new ln(L),fe=N.C;return new Proxy(N,{get(me,le){if(typeof me[le]=="function")return function(...ve){return me[le].apply(me,ve)};if(typeof fe[le]=="function"){if(-1<Q.indexOf(le))throw Error("RiveException: Method call to '"+le+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...ve){N.H.push(fe[le].bind(fe,...ve))}}return me[le]},set(me,le,ve){if(le in fe)return N.H.push(()=>{fe[le]=ve}),!0}})},f.decodeImage=function(L,N){new j({la:N}).decode(L)},f.renderFactory={makeRenderPaint:function(){return new V},makeRenderPath:function(){return new K},makeRenderImage:function(){let L=Pt;return new j({xa:()=>{L.total++},la:()=>{if(L.loaded++,L.loaded===L.total){const N=L.ready;N&&(N(),L.ready=null)}}})}};let pe=f.load,Pt=null;f.load=function(L,N,fe=!0){const me=new f.FallbackFileAssetLoader;return N!==void 0&&me.addLoader(N),fe&&(N=new f.CDNFileAssetLoader,me.addLoader(N)),new Promise(function(le){let ve=null;Pt={total:0,loaded:0,ready:function(){le(ve)}},ve=pe(L,me),Pt.total==0&&le(ve)})};let Ya=f.RendererWrapper.prototype.align;f.RendererWrapper.prototype.align=function(L,N,fe,me,le=1){Ya.call(this,L,N,fe,me,le)},a=new ee,f.requestAnimationFrame=a.requestAnimationFrame.bind(a),f.cancelAnimationFrame=a.cancelAnimationFrame.bind(a),f.enableFPSCounter=a.Rb.bind(a),f.disableFPSCounter=a.Ob,a.pb=r,f.resolveAnimationFrame=r,f.cleanup=function(){H&&H.delete()}};var S=Object.assign({},f),D="./this.program",q=typeof window=="object",J=typeof importScripts=="function",ie="",B,se;(q||J)&&(J?ie=self.location.href:typeof document<"u"&&document.currentScript&&(ie=document.currentScript.src),x&&(ie=x),ie.indexOf("blob:")!==0?ie=ie.substr(0,ie.replace(/[?#].*/,"").lastIndexOf("/")+1):ie="",J&&(se=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),B=(e,t,r)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{a.status==200||a.status==0&&a.response?t(a.response):r()},a.onerror=r,a.send(null)});var Re=f.print||console.log.bind(console),ke=f.printErr||console.error.bind(console);Object.assign(f,S),S=null,f.thisProgram&&(D=f.thisProgram);var xe;f.wasmBinary&&(xe=f.wasmBinary),f.noExitRuntime,typeof WebAssembly!="object"&&Xt("no native wasm support detected");var ht,de,rn=!1,Se,Fe,Ye,vt,he,be,pt,Pe;function tt(){var e=ht.buffer;f.HEAP8=Se=new Int8Array(e),f.HEAP16=Ye=new Int16Array(e),f.HEAP32=he=new Int32Array(e),f.HEAPU8=Fe=new Uint8Array(e),f.HEAPU16=vt=new Uint16Array(e),f.HEAPU32=be=new Uint32Array(e),f.HEAPF32=pt=new Float32Array(e),f.HEAPF64=Pe=new Float64Array(e)}var je,xt=[],zt=[],St=[];function on(){var e=f.preRun.shift();xt.unshift(e)}var Je=0,mt=null;function Xt(e){throw f.onAbort&&f.onAbort(e),e="Aborted("+e+")",ke(e),rn=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),U(e),e}function On(e){return e.startsWith("data:application/octet-stream;base64,")}var jt;if(jt="canvas_advanced.wasm",!On(jt)){var Zn=jt;jt=f.locateFile?f.locateFile(Zn,ie):ie+Zn}function nt(e){if(e==jt&&xe)return new Uint8Array(xe);if(se)return se(e);throw"both async and sync fetching of the wasm failed"}function Vr(e){if(!xe&&(q||J)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>nt(e));if(B)return new Promise((t,r)=>{B(e,a=>t(new Uint8Array(a)),r)})}return Promise.resolve().then(()=>nt(e))}function er(e,t,r){return Vr(e).then(a=>WebAssembly.instantiate(a,t)).then(a=>a).then(r,a=>{ke("failed to asynchronously prepare wasm: "+a),Xt(a)})}function Ur(e,t){var r=jt;return xe||typeof WebAssembly.instantiateStreaming!="function"||On(r)||r.startsWith("file://")||typeof fetch!="function"?er(r,e,t):fetch(r,{credentials:"same-origin"}).then(a=>WebAssembly.instantiateStreaming(a,e).then(t,function(l){return ke("wasm streaming compile failed: "+l),ke("falling back to ArrayBuffer instantiation"),er(r,e,t)}))}var $t,u,n={460492:(e,t,r,a,l)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=e,window.h.I.capture=t,window.h.I.La=r,window.h.ga={},window.h.ga.stopped=a,window.h.ga.yb=l;let h=window.h;h.D=[],h.yc=function(m){for(var b=0;b<h.D.length;++b)if(h.D[b]==null)return h.D[b]=m,b;return h.D.push(m),h.D.length-1},h.Cb=function(m){for(h.D[m]=null;0<h.D.length&&h.D[h.D.length-1]==null;)h.D.pop()},h.Sc=function(m){for(var b=0;b<h.D.length;++b)if(h.D[b]==m)return h.Cb(b)},h.ra=function(m){return h.D[m]},h.Ta=["touchend","click"],h.unlock=function(){for(var m=0;m<h.D.length;++m){var b=h.D[m];b!=null&&b.J!=null&&b.state===h.ga.yb&&b.J.resume().then(()=>{lo(b.qb)},E=>{console.error("Failed to resume audiocontext",E)})}h.Ta.map(function(E){document.removeEventListener(E,h.unlock,!0)})},h.Ta.map(function(m){document.addEventListener(m,h.unlock,!0)})}return window.h.Aa+=1,1},462670:()=>{typeof window.h<"u"&&(window.h.Ta.map(function(e){document.removeEventListener(e,window.h.unlock,!0)}),--window.h.Aa,window.h.Aa===0&&delete window.h)},462974:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,463078:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch{return 0}},463249:(e,t,r,a,l,h)=>{if(typeof window.h>"u")return-1;var m={},b={};return e==window.h.I.ya&&r!=0&&(b.sampleRate=r),m.J=new(window.AudioContext||window.webkitAudioContext)(b),m.J.suspend(),m.state=window.h.ga.stopped,r=0,e!=window.h.I.ya&&(r=t),m.Z=m.J.createScriptProcessor(a,r,t),m.Z.onaudioprocess=function(E){if((m.sa==null||m.sa.length==0)&&(m.sa=new Float32Array(pt.buffer,l,a*t)),e==window.h.I.capture||e==window.h.I.La){for(var w=0;w<t;w+=1)for(var k=E.inputBuffer.getChannelData(w),W=m.sa,Y=0;Y<a;Y+=1)W[Y*t+w]=k[Y];co(h,a,l)}if(e==window.h.I.ya||e==window.h.I.La)for(fo(h,a,l),w=0;w<E.outputBuffer.numberOfChannels;++w)for(k=E.outputBuffer.getChannelData(w),W=m.sa,Y=0;Y<a;Y+=1)k[Y]=W[Y*t+w];else for(w=0;w<E.outputBuffer.numberOfChannels;++w)E.outputBuffer.getChannelData(w).fill(0)},e!=window.h.I.capture&&e!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(E){m.Da=m.J.createMediaStreamSource(E),m.Da.connect(m.Z),m.Z.connect(m.J.destination)}).catch(function(E){console.log("Failed to get user media: "+E)}),e==window.h.I.ya&&m.Z.connect(m.J.destination),m.qb=h,window.h.yc(m)},466126:e=>window.h.ra(e).J.sampleRate,466199:e=>{e=window.h.ra(e),e.Z!==void 0&&(e.Z.onaudioprocess=function(){},e.Z.disconnect(),e.Z=void 0),e.Da!==void 0&&(e.Da.disconnect(),e.Da=void 0),e.J.close(),e.J=void 0,e.qb=void 0},466599:e=>{window.h.Cb(e)},466649:e=>{e=window.h.ra(e),e.J.resume(),e.state=window.h.ga.yb},466788:e=>{e=window.h.ra(e),e.J.suspend(),e.state=window.h.ga.stopped}},i=e=>{for(;0<e.length;)e.shift()(f)},d=(e,t)=>{for(var r=0,a=e.length-1;0<=a;a--){var l=e[a];l==="."?e.splice(a,1):l===".."?(e.splice(a,1),r++):r&&(e.splice(a,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},_=e=>{var t=e.charAt(0)==="/",r=e.substr(-1)==="/";return(e=d(e.split("/").filter(a=>!!a),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},M=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},O=e=>{if(e==="/")return"/";e=_(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},Z=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);Xt("initRandomDevice")},ae=e=>(ae=Z())(e);function G(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){if(t=0<=r?arguments[r]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=d(e.split("/").filter(a=>!!a),!t).join("/"),(t?"/":"")+e||"."}var ce=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ce=(e,t,r)=>{var a=t+r;for(r=t;e[r]&&!(r>=a);)++r;if(16<r-t&&e.buffer&&ce)return ce.decode(e.subarray(t,r));for(a="";t<r;){var l=e[t++];if(l&128){var h=e[t++]&63;if((l&224)==192)a+=String.fromCharCode((l&31)<<6|h);else{var m=e[t++]&63;l=(l&240)==224?(l&15)<<12|h<<6|m:(l&7)<<18|h<<12|m<<6|e[t++]&63,65536>l?a+=String.fromCharCode(l):(l-=65536,a+=String.fromCharCode(55296|l>>10,56320|l&1023))}}else a+=String.fromCharCode(l)}return a},Ve=[],Le=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);127>=a?t++:2047>=a?t+=2:55296<=a&&57343>=a?(t+=4,++r):t+=3}return t},gt=(e,t,r,a)=>{if(!(0<a))return 0;var l=r;a=r+a-1;for(var h=0;h<e.length;++h){var m=e.charCodeAt(h);if(55296<=m&&57343>=m){var b=e.charCodeAt(++h);m=65536+((m&1023)<<10)|b&1023}if(127>=m){if(r>=a)break;t[r++]=m}else{if(2047>=m){if(r+1>=a)break;t[r++]=192|m>>6}else{if(65535>=m){if(r+2>=a)break;t[r++]=224|m>>12}else{if(r+3>=a)break;t[r++]=240|m>>18,t[r++]=128|m>>12&63}t[r++]=128|m>>6&63}t[r++]=128|m&63}}return t[r]=0,r-l};function at(e,t){var r=Array(Le(e)+1);return e=gt(e,r,0,r.length),t&&(r.length=e),r}var Qe=[];function Ze(e,t){Qe[e]={input:[],F:[],V:t},Br(e,st)}var st={open:function(e){var t=Qe[e.node.za];if(!t)throw new z(43);e.s=t,e.seekable=!1},close:function(e){e.s.V.qa(e.s)},qa:function(e){e.s.V.qa(e.s)},read:function(e,t,r,a){if(!e.s||!e.s.V.jb)throw new z(60);for(var l=0,h=0;h<a;h++){try{var m=e.s.V.jb(e.s)}catch{throw new z(29)}if(m===void 0&&l===0)throw new z(6);if(m==null)break;l++,t[r+h]=m}return l&&(e.node.timestamp=Date.now()),l},write:function(e,t,r,a){if(!e.s||!e.s.V.Oa)throw new z(60);try{for(var l=0;l<a;l++)e.s.V.Oa(e.s,t[r+l])}catch{throw new z(29)}return a&&(e.node.timestamp=Date.now()),l}},Gt={jb:function(){e:{if(!Ve.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){e=null;break e}Ve=at(e,!0)}e=Ve.shift()}return e},Oa:function(e,t){t===null||t===10?(Re(Ce(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(Re(Ce(e.F,0)),e.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},qt={Oa:function(e,t){t===null||t===10?(ke(Ce(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(ke(Ce(e.F,0)),e.F=[])}};function Et(e,t){var r=e.j?e.j.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),r!=0&&(t=Math.max(t,256)),r=e.j,e.j=new Uint8Array(t),0<e.v&&e.j.set(r.subarray(0,e.v),0))}var re={O:null,U(){return re.createNode(null,"/",16895,0)},createNode(e,t,r,a){if((r&61440)===24576||(r&61440)===4096)throw new z(63);return re.O||(re.O={dir:{node:{Y:re.l.Y,P:re.l.P,ka:re.l.ka,va:re.l.va,vb:re.l.vb,Bb:re.l.Bb,wb:re.l.wb,tb:re.l.tb,Ea:re.l.Ea},stream:{ba:re.m.ba}},file:{node:{Y:re.l.Y,P:re.l.P},stream:{ba:re.m.ba,read:re.m.read,write:re.m.write,pa:re.m.pa,mb:re.m.mb,ob:re.m.ob}},link:{node:{Y:re.l.Y,P:re.l.P,ma:re.l.ma},stream:{}},ab:{node:{Y:re.l.Y,P:re.l.P},stream:Aa}}),r=Oi(e,t,r,a),(r.mode&61440)===16384?(r.l=re.O.dir.node,r.m=re.O.dir.stream,r.j={}):(r.mode&61440)===32768?(r.l=re.O.file.node,r.m=re.O.file.stream,r.v=0,r.j=null):(r.mode&61440)===40960?(r.l=re.O.link.node,r.m=re.O.link.stream):(r.mode&61440)===8192&&(r.l=re.O.ab.node,r.m=re.O.ab.stream),r.timestamp=Date.now(),e&&(e.j[t]=r,e.timestamp=r.timestamp),r},Kc(e){return e.j?e.j.subarray?e.j.subarray(0,e.v):new Uint8Array(e.j):new Uint8Array(0)},l:{Y(e){var t={};return t.Jc=(e.mode&61440)===8192?e.id:1,t.Mc=e.id,t.mode=e.mode,t.Oc=1,t.uid=0,t.Lc=0,t.za=e.za,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.v:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.Bc=new Date(e.timestamp),t.Nc=new Date(e.timestamp),t.Ic=new Date(e.timestamp),t.Jb=4096,t.Cc=Math.ceil(t.size/t.Jb),t},P(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.v!=t))if(t==0)e.j=null,e.v=0;else{var r=e.j;e.j=new Uint8Array(t),r&&e.j.set(r.subarray(0,Math.min(t,e.v))),e.v=t}},ka(){throw Nr[44]},va(e,t,r,a){return re.createNode(e,t,r,a)},vb(e,t,r){if((e.mode&61440)===16384){try{var a=nr(t,r)}catch{}if(a)for(var l in a.j)throw new z(55)}delete e.parent.j[e.name],e.parent.timestamp=Date.now(),e.name=r,t.j[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},Bb(e,t){delete e.j[t],e.timestamp=Date.now()},wb(e,t){var r=nr(e,t),a;for(a in r.j)throw new z(55);delete e.j[t],e.timestamp=Date.now()},tb(e){var t=[".",".."],r;for(r in e.j)e.j.hasOwnProperty(r)&&t.push(r);return t},Ea(e,t,r){return e=re.createNode(e,t,41471,0),e.link=r,e},ma(e){if((e.mode&61440)!==40960)throw new z(28);return e.link}},m:{read(e,t,r,a,l){var h=e.node.j;if(l>=e.node.v)return 0;if(e=Math.min(e.node.v-l,a),8<e&&h.subarray)t.set(h.subarray(l,l+e),r);else for(a=0;a<e;a++)t[r+a]=h[l+a];return e},write(e,t,r,a,l,h){if(t.buffer===Se.buffer&&(h=!1),!a)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.j||e.j.subarray)){if(h)return e.j=t.subarray(r,r+a),e.v=a;if(e.v===0&&l===0)return e.j=t.slice(r,r+a),e.v=a;if(l+a<=e.v)return e.j.set(t.subarray(r,r+a),l),a}if(Et(e,l+a),e.j.subarray&&t.subarray)e.j.set(t.subarray(r,r+a),l);else for(h=0;h<a;h++)e.j[l+h]=t[r+h];return e.v=Math.max(e.v,l+a),a},ba(e,t,r){if(r===1?t+=e.position:r===2&&(e.node.mode&61440)===32768&&(t+=e.node.v),0>t)throw new z(28);return t},pa(e,t,r){Et(e.node,t+r),e.node.v=Math.max(e.node.v,t+r)},mb(e,t,r,a,l){if((e.node.mode&61440)!==32768)throw new z(43);if(e=e.node.j,l&2||e.buffer!==Se.buffer){if((0<r||r+t<e.length)&&(e.subarray?e=e.subarray(r,r+t):e=Array.prototype.slice.call(e,r,r+t)),r=!0,Xt(),t=void 0,!t)throw new z(48);Se.set(e,t)}else r=!1,t=e.byteOffset;return{o:t,M:r}},ob(e,t,r,a){return re.m.write(e,t,0,a,r,!1),0}}};function _e(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r}var Mt=null,Pi={},tr=[],wa=1,xn=null,Fi=!0,z=null,Nr={},an=(e,t={})=>{if(e=G(e),!e)return{path:"",node:null};if(t=Object.assign({hb:!0,Qa:0},t),8<t.Qa)throw new z(32);e=e.split("/").filter(m=>!!m);for(var r=Mt,a="/",l=0;l<e.length;l++){var h=l===e.length-1;if(h&&t.parent)break;if(r=nr(r,e[l]),a=_(a+"/"+e[l]),r.wa&&(!h||h&&t.hb)&&(r=r.wa.root),!h||t.gb){for(h=0;(r.mode&61440)===40960;)if(r=Ca(a),a=G(M(a),r),r=an(a,{Qa:t.Qa+1}).node,40<h++)throw new z(32)}}return{path:a,node:r}},Ti=e=>{for(var t;;){if(e===e.parent)return e=e.U.nb,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}},Li=(e,t)=>{for(var r=0,a=0;a<t.length;a++)r=(r<<5)-r+t.charCodeAt(a)|0;return(e+r>>>0)%xn.length},nr=(e,t)=>{var r;if(r=(r=rr(e,"x"))?r:e.l.ka?0:2)throw new z(r,e);for(r=xn[Li(e.id,t)];r;r=r.lc){var a=r.name;if(r.parent.id===e.id&&a===t)return r}return e.l.ka(e,t)},Oi=(e,t,r,a)=>(e=new oo(e,t,r,a),t=Li(e.parent.id,e.name),e.lc=xn[t],xn[t]=e),xi=e=>{var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},rr=(e,t)=>{if(Fi)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0},Si=(e,t)=>{try{return nr(e,t),20}catch{}return rr(e,"wx")},ba=()=>{for(var e=0;4096>=e;e++)if(!tr[e])return e;throw new z(33)},Kt=e=>{if(e=tr[e],!e)throw new z(8);return e},ji=(e,t=-1)=>(jn||(jn=function(){this.h={}},jn.prototype={},Object.defineProperties(jn.prototype,{object:{get(){return this.node},set(r){this.node=r}},flags:{get(){return this.h.flags},set(r){this.h.flags=r}},position:{get(){return this.h.position},set(r){this.h.position=r}}})),e=Object.assign(new jn,e),t==-1&&(t=ba()),e.X=t,tr[t]=e),Aa={open:e=>{e.m=Pi[e.node.za].m,e.m.open&&e.m.open(e)},ba:()=>{throw new z(70)}},Br=(e,t)=>{Pi[e]={m:t}},ki=(e,t)=>{var r=t==="/",a=!t;if(r&&Mt)throw new z(10);if(!r&&!a){var l=an(t,{hb:!1});if(t=l.path,l=l.node,l.wa)throw new z(10);if((l.mode&61440)!==16384)throw new z(54)}t={type:e,Qc:{},nb:t,kc:[]},e=e.U(t),e.U=t,t.root=e,r?Mt=e:l&&(l.wa=t,l.U&&l.U.kc.push(t))},_t=(e,t,r)=>{var a=an(e,{parent:!0}).node;if(e=O(e),!e||e==="."||e==="..")throw new z(28);var l=Si(a,e);if(l)throw new z(l);if(!a.l.va)throw new z(63);return a.l.va(a,e,t,r)},ir=(e,t,r)=>{typeof r>"u"&&(r=t,t=438),_t(e,t|8192,r)},Hr=(e,t)=>{if(!G(e))throw new z(44);var r=an(t,{parent:!0}).node;if(!r)throw new z(44);t=O(t);var a=Si(r,t);if(a)throw new z(a);if(!r.l.Ea)throw new z(63);r.l.Ea(r,t,e)},Ca=e=>{if(e=an(e).node,!e)throw new z(44);if(!e.l.ma)throw new z(28);return G(Ti(e.parent),e.l.ma(e))},or=(e,t,r)=>{if(e==="")throw new z(44);if(typeof t=="string"){var a={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof a>"u")throw Error(`Unknown file open mode: ${t}`);t=a}if(r=t&64?(typeof r>"u"?438:r)&4095|32768:0,typeof e=="object")var l=e;else{e=_(e);try{l=an(e,{gb:!(t&131072)}).node}catch{}}if(a=!1,t&64)if(l){if(t&128)throw new z(20)}else l=_t(e,r,0),a=!0;if(!l)throw new z(44);if((l.mode&61440)===8192&&(t&=-513),t&65536&&(l.mode&61440)!==16384)throw new z(54);if(!a&&(r=l?(l.mode&61440)===40960?32:(l.mode&61440)===16384&&(xi(t)!=="r"||t&512)?31:rr(l,xi(t)):44))throw new z(r);if(t&512&&!a){if(r=l,r=typeof r=="string"?an(r,{gb:!0}).node:r,!r.l.P)throw new z(63);if((r.mode&61440)===16384)throw new z(31);if((r.mode&61440)!==32768)throw new z(28);if(a=rr(r,"w"))throw new z(a);r.l.P(r,{size:0,timestamp:Date.now()})}return t&=-131713,l=ji({node:l,path:Ti(l),flags:t,seekable:!0,position:0,m:l.m,zc:[],error:!1}),l.m.open&&l.m.open(l),!f.logReadFiles||t&1||(ar||(ar={}),e in ar||(ar[e]=1)),l},Di=(e,t,r)=>{if(e.X===null)throw new z(8);if(!e.seekable||!e.m.ba)throw new z(70);if(r!=0&&r!=1&&r!=2)throw new z(28);e.position=e.m.ba(e,t,r),e.zc=[]},Wi=()=>{z||(z=function(e,t){this.name="ErrnoError",this.node=t,this.pc=function(r){this.aa=r},this.pc(e),this.message="FS error"},z.prototype=Error(),z.prototype.constructor=z,[44].forEach(e=>{Nr[e]=new z(e),Nr[e].stack="<generic error, no stack>"}))},Vi,Sn=(e,t,r)=>{e=_("/dev/"+e);var a=_e(!!t,!!r);Yr||(Yr=64);var l=Yr++<<8|0;Br(l,{open:h=>{h.seekable=!1},close:()=>{r&&r.buffer&&r.buffer.length&&r(10)},read:(h,m,b,E)=>{for(var w=0,k=0;k<E;k++){try{var W=t()}catch{throw new z(29)}if(W===void 0&&w===0)throw new z(6);if(W==null)break;w++,m[b+k]=W}return w&&(h.node.timestamp=Date.now()),w},write:(h,m,b,E)=>{for(var w=0;w<E;w++)try{r(m[b+w])}catch{throw new z(29)}return E&&(h.node.timestamp=Date.now()),w}}),ir(e,a,l)},Yr,sn={},jn,ar,kn=void 0;function kt(){return kn+=4,he[kn-4>>2]}function Ui(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e}function sr(e,t){return e=Ui(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function Ni(){this.M=[void 0],this.ib=[]}var ut=new Ni,gn=void 0;function ue(e){throw new gn(e)}var yt=e=>(e||ue("Cannot use deleted val. handle = "+e),ut.get(e).value),wt=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ut.pa({ub:1,value:e})}};function Bi(e){var t=Error,r=sr(e,function(a){this.name=e,this.message=a,a=Error(a).stack,a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r}var Hi=void 0,Yi=void 0;function Oe(e){for(var t="";Fe[e];)t+=Yi[Fe[e++]];return t}var Dn=[];function zr(){for(;Dn.length;){var e=Dn.pop();e.g.fa=!1,e.delete()}}var Wn=void 0,Dt={};function Xr(e,t){for(t===void 0&&ue("ptr should not be undefined");e.A;)t=e.na(t),e=e.A;return t}var un={};function zi(e){e=ho(e);var t=Oe(e);return Ut(e),t}function Vn(e,t){var r=un[e];return r===void 0&&ue(t+" has unknown type "+zi(e)),r}function ur(){}var $r=!1;function Xi(e){--e.count.value,e.count.value===0&&(e.G?e.L.W(e.G):e.u.i.W(e.o))}function $i(e,t,r){return t===r?e:r.A===void 0?null:(e=$i(e,t,r.A),e===null?null:r.Pb(e))}var Gi={};function Ea(e,t){return t=Xr(e,t),Dt[t]}var qi=void 0;function lr(e){throw new qi(e)}function cr(e,t){return t.u&&t.o||lr("makeClassHandle requires ptr and ptrType"),!!t.L!=!!t.G&&lr("Both smartPtrType and smartPtr must be specified"),t.count={value:1},_n(Object.create(e,{g:{value:t}}))}function _n(e){return typeof FinalizationRegistry>"u"?(_n=t=>t,e):($r=new FinalizationRegistry(t=>{Xi(t.g)}),_n=t=>{var r=t.g;return r.G&&$r.register(t,{g:r},t),t},ur=t=>{$r.unregister(t)},_n(e))}var fr={};function Un(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Nn(e){return this.fromWireType(he[e>>2])}var yn={},dr={};function rt(e,t,r){function a(b){b=r(b),b.length!==e.length&&lr("Mismatched type converter count");for(var E=0;E<e.length;++E)It(e[E],b[E])}e.forEach(function(b){dr[b]=t});var l=Array(t.length),h=[],m=0;t.forEach((b,E)=>{un.hasOwnProperty(b)?l[E]=un[b]:(h.push(b),yn.hasOwnProperty(b)||(yn[b]=[]),yn[b].push(()=>{l[E]=un[b],++m,m===h.length&&a(l)}))}),h.length===0&&a(l)}function hr(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function Ma(e,t,r={}){var a=t.name;if(e||ue(`type "${a}" must have a positive integer typeid pointer`),un.hasOwnProperty(e)){if(r.$b)return;ue(`Cannot register type '${a}' twice`)}un[e]=t,delete dr[e],yn.hasOwnProperty(e)&&(t=yn[e],delete yn[e],t.forEach(l=>l()))}function It(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");Ma(e,t,r)}function Gr(e){ue(e.g.u.i.name+" instance already deleted")}function Jt(){}function qr(e,t,r){if(e[t].B===void 0){var a=e[t];e[t]=function(){return e[t].B.hasOwnProperty(arguments.length)||ue(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].B})!`),e[t].B[arguments.length].apply(this,arguments)},e[t].B=[],e[t].B[a.ea]=a}}function Kr(e,t,r){f.hasOwnProperty(e)?((r===void 0||f[e].B!==void 0&&f[e].B[r]!==void 0)&&ue(`Cannot register public name '${e}' twice`),qr(f,e,e),f.hasOwnProperty(r)&&ue(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),f[e].B[r]=t):(f[e]=t,r!==void 0&&(f[e].Pc=r))}function Ia(e,t,r,a,l,h,m,b){this.name=e,this.constructor=t,this.N=r,this.W=a,this.A=l,this.Ub=h,this.na=m,this.Pb=b,this.rb=[]}function vr(e,t,r){for(;t!==r;)t.na||ue(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.na(e),t=t.A;return e}function Ra(e,t){return t===null?(this.Na&&ue(`null is not a valid ${this.name}`),0):(t.g||ue(`Cannot pass "${Qr(t)}" as a ${this.name}`),t.g.o||ue(`Cannot pass deleted object as a pointer of type ${this.name}`),vr(t.g.o,t.g.u.i,this.i))}function Pa(e,t){if(t===null){if(this.Na&&ue(`null is not a valid ${this.name}`),this.ua){var r=this.Pa();return e!==null&&e.push(this.W,r),r}return 0}if(t.g||ue(`Cannot pass "${Qr(t)}" as a ${this.name}`),t.g.o||ue(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&t.g.u.ta&&ue(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`),r=vr(t.g.o,t.g.u.i,this.i),this.ua)switch(t.g.G===void 0&&ue("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:t.g.L===this?r=t.g.G:ue(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`);break;case 1:r=t.g.G;break;case 2:if(t.g.L===this)r=t.g.G;else{var a=t.clone();r=this.oc(r,wt(function(){a.delete()})),e!==null&&e.push(this.W,r)}break;default:ue("Unsupporting sharing policy")}return r}function Fa(e,t){return t===null?(this.Na&&ue(`null is not a valid ${this.name}`),0):(t.g||ue(`Cannot pass "${Qr(t)}" as a ${this.name}`),t.g.o||ue(`Cannot pass deleted object as a pointer of type ${this.name}`),t.g.u.ta&&ue(`Cannot convert argument of type ${t.g.u.name} to parameter type ${this.name}`),vr(t.g.o,t.g.u.i,this.i))}function Wt(e,t,r,a){this.name=e,this.i=t,this.Na=r,this.ta=a,this.ua=!1,this.W=this.oc=this.Pa=this.sb=this.tc=this.nc=void 0,t.A!==void 0?this.toWireType=Pa:(this.toWireType=a?Ra:Fa,this.K=null)}function Ki(e,t,r){f.hasOwnProperty(e)||lr("Replacing nonexistant public symbol"),f[e].B!==void 0&&r!==void 0?f[e].B[r]=t:(f[e]=t,f[e].ea=r)}var pr=[],Ji=e=>{var t=pr[e];return t||(e>=pr.length&&(pr.length=e+1),pr[e]=t=je.get(e)),t},Ta=(e,t)=>{var r=[];return function(){if(r.length=0,Object.assign(r,arguments),e.includes("j")){var a=f["dynCall_"+e];a=r&&r.length?a.apply(null,[t].concat(r)):a.call(null,t)}else a=Ji(t).apply(null,r);return a}};function ze(e,t){e=Oe(e);var r=e.includes("j")?Ta(e,t):Ji(t);return typeof r!="function"&&ue(`unknown function pointer with signature ${e}: ${t}`),r}var Qi=void 0;function Vt(e,t){function r(h){l[h]||un[h]||(dr[h]?dr[h].forEach(r):(a.push(h),l[h]=!0))}var a=[],l={};throw t.forEach(r),new Qi(`${e}: `+a.map(zi).join([", "]))}function mr(e,t,r,a,l){var h=t.length;2>h&&ue("argTypes array size mismatch! Must at least get return value and 'this' types!");var m=t[1]!==null&&r!==null,b=!1;for(r=1;r<t.length;++r)if(t[r]!==null&&t[r].K===void 0){b=!0;break}var E=t[0].name!=="void",w=h-2,k=Array(w),W=[],Y=[];return function(){if(arguments.length!==w&&ue(`function ${e} called with ${arguments.length} arguments, expected ${w} args!`),Y.length=0,W.length=m?2:1,W[0]=l,m){var g=t[1].toWireType(Y,this);W[1]=g}for(var j=0;j<w;++j)k[j]=t[j+2].toWireType(Y,arguments[j]),W.push(k[j]);if(j=a.apply(null,W),b)Un(Y);else for(var K=m?1:2;K<t.length;K++){var V=K===1?g:k[K-2];t[K].K!==null&&t[K].K(V)}return g=E?t[0].fromWireType(j):void 0,g}}function gr(e,t){for(var r=[],a=0;a<e;a++)r.push(be[t+4*a>>2]);return r}function Zi(e,t,r){return e instanceof Object||ue(`${r} with invalid "this": ${e}`),e instanceof t.i.constructor||ue(`${r} incompatible with "this" of type ${e.constructor.name}`),e.g.o||ue(`cannot call emscripten binding method ${r} on deleted object`),vr(e.g.o,e.g.u.i,t.i)}function Jr(e){e>=ut.h&&--ut.get(e).ub===0&&ut.Zb(e)}function La(e,t,r){switch(t){case 0:return function(a){return this.fromWireType((r?Se:Fe)[a])};case 1:return function(a){return this.fromWireType((r?Ye:vt)[a>>1])};case 2:return function(a){return this.fromWireType((r?he:be)[a>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function Qr(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function Oa(e,t){switch(t){case 2:return function(r){return this.fromWireType(pt[r>>2])};case 3:return function(r){return this.fromWireType(Pe[r>>3])};default:throw new TypeError("Unknown float type: "+e)}}function xa(e,t,r){switch(t){case 0:return r?function(a){return Se[a]}:function(a){return Fe[a]};case 1:return r?function(a){return Ye[a>>1]}:function(a){return vt[a>>1]};case 2:return r?function(a){return he[a>>2]}:function(a){return be[a>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var eo=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Sa=(e,t)=>{for(var r=e>>1,a=r+t/2;!(r>=a)&&vt[r];)++r;if(r<<=1,32<r-e&&eo)return eo.decode(Fe.subarray(e,r));for(r="",a=0;!(a>=t/2);++a){var l=Ye[e+2*a>>1];if(l==0)break;r+=String.fromCharCode(l)}return r},ja=(e,t,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var a=t;r=r<2*e.length?r/2:e.length;for(var l=0;l<r;++l)Ye[t>>1]=e.charCodeAt(l),t+=2;return Ye[t>>1]=0,t-a},ka=e=>2*e.length,Da=(e,t)=>{for(var r=0,a="";!(r>=t/4);){var l=he[e+4*r>>2];if(l==0)break;++r,65536<=l?(l-=65536,a+=String.fromCharCode(55296|l>>10,56320|l&1023)):a+=String.fromCharCode(l)}return a},Wa=(e,t,r)=>{if(r===void 0&&(r=2147483647),4>r)return 0;var a=t;r=a+r-4;for(var l=0;l<e.length;++l){var h=e.charCodeAt(l);if(55296<=h&&57343>=h){var m=e.charCodeAt(++l);h=65536+((h&1023)<<10)|m&1023}if(he[t>>2]=h,t+=4,t+4>r)break}return he[t>>2]=0,t-a},Va=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);55296<=a&&57343>=a&&++r,t+=4}return t},Ua={};function _r(e){var t=Ua[e];return t===void 0?Oe(e):t}var yr=[];function Na(e){var t=yr.length;return yr.push(e),t}function Ba(e,t){for(var r=Array(e),a=0;a<e;++a)r[a]=Vn(be[t+4*a>>2],"parameter "+a);return r}var to=[],Zr=[],ei={},no=()=>{if(!ti){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:D||"./this.program"},t;for(t in ei)ei[t]===void 0?delete e[t]:e[t]=ei[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);ti=r}return ti},ti,wr=e=>e%4===0&&(e%100!==0||e%400===0),ro=[31,29,31,30,31,30,31,31,30,31,30,31],io=[31,28,31,30,31,30,31,31,30,31,30,31],Ha=(e,t,r,a)=>{function l(g,j,K){for(g=typeof g=="number"?g.toString():g||"";g.length<j;)g=K[0]+g;return g}function h(g,j){return l(g,j,"0")}function m(g,j){function K(Ee){return 0>Ee?-1:0<Ee?1:0}var V;return(V=K(g.getFullYear()-j.getFullYear()))===0&&(V=K(g.getMonth()-j.getMonth()))===0&&(V=K(g.getDate()-j.getDate())),V}function b(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function E(g){var j=g.ca;for(g=new Date(new Date(g.da+1900,0,1).getTime());0<j;){var K=g.getMonth(),V=(wr(g.getFullYear())?ro:io)[K];if(j>V-g.getDate())j-=V-g.getDate()+1,g.setDate(1),11>K?g.setMonth(K+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+j);break}}return K=new Date(g.getFullYear()+1,0,4),j=b(new Date(g.getFullYear(),0,4)),K=b(K),0>=m(j,g)?0>=m(K,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}var w=he[a+40>>2];a={wc:he[a>>2],vc:he[a+4>>2],Fa:he[a+8>>2],Sa:he[a+12>>2],Ga:he[a+16>>2],da:he[a+20>>2],R:he[a+24>>2],ca:he[a+28>>2],Rc:he[a+32>>2],uc:he[a+36>>2],xc:w&&w?Ce(Fe,w):""},r=r?Ce(Fe,r):"",w={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var k in w)r=r.replace(new RegExp(k,"g"),w[k]);var W="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Y="January February March April May June July August September October November December".split(" ");w={"%a":g=>W[g.R].substring(0,3),"%A":g=>W[g.R],"%b":g=>Y[g.Ga].substring(0,3),"%B":g=>Y[g.Ga],"%C":g=>h((g.da+1900)/100|0,2),"%d":g=>h(g.Sa,2),"%e":g=>l(g.Sa,2," "),"%g":g=>E(g).toString().substring(2),"%G":g=>E(g),"%H":g=>h(g.Fa,2),"%I":g=>(g=g.Fa,g==0?g=12:12<g&&(g-=12),h(g,2)),"%j":g=>{for(var j=0,K=0;K<=g.Ga-1;j+=(wr(g.da+1900)?ro:io)[K++]);return h(g.Sa+j,3)},"%m":g=>h(g.Ga+1,2),"%M":g=>h(g.vc,2),"%n":()=>`
`,"%p":g=>0<=g.Fa&&12>g.Fa?"AM":"PM","%S":g=>h(g.wc,2),"%t":()=>"	","%u":g=>g.R||7,"%U":g=>h(Math.floor((g.ca+7-g.R)/7),2),"%V":g=>{var j=Math.floor((g.ca+7-(g.R+6)%7)/7);if(2>=(g.R+371-g.ca-2)%7&&j++,j)j==53&&(K=(g.R+371-g.ca)%7,K==4||K==3&&wr(g.da)||(j=1));else{j=52;var K=(g.R+7-g.ca-1)%7;(K==4||K==5&&wr(g.da%400-1))&&j++}return h(j,2)},"%w":g=>g.R,"%W":g=>h(Math.floor((g.ca+7-(g.R+6)%7)/7),2),"%y":g=>(g.da+1900).toString().substring(2),"%Y":g=>g.da+1900,"%z":g=>{g=g.uc;var j=0<=g;return g=Math.abs(g)/60,(j?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.xc,"%%":()=>"%"},r=r.replace(/%%/g,"\0\0");for(k in w)r.includes(k)&&(r=r.replace(new RegExp(k,"g"),w[k](a)));return r=r.replace(/\0\0/g,"%"),k=at(r,!1),k.length>t?0:(Se.set(k,e),k.length-1)};function oo(e,t,r,a){e||(e=this),this.parent=e,this.U=e.U,this.wa=null,this.id=wa++,this.name=t,this.mode=r,this.l={},this.m={},this.za=a}Object.defineProperties(oo.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Wi(),xn=Array(4096),ki(re,"/"),_t("/tmp",16895,0),_t("/home",16895,0),_t("/home/web_user",16895,0),(()=>{_t("/dev",16895,0),Br(259,{read:()=>0,write:(a,l,h,m)=>m}),ir("/dev/null",259),Ze(1280,Gt),Ze(1536,qt),ir("/dev/tty",1280),ir("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,r=()=>(t===0&&(t=ae(e).byteLength),e[--t]);Sn("random",r),Sn("urandom",r),_t("/dev/shm",16895,0),_t("/dev/shm/tmp",16895,0)})(),(()=>{_t("/proc",16895,0);var e=_t("/proc/self",16895,0);_t("/proc/self/fd",16895,0),ki({U:()=>{var t=Oi(e,"fd",16895,73);return t.l={ka:(r,a)=>{var l=Kt(+a);return r={parent:null,U:{nb:"fake"},l:{ma:()=>l.path}},r.parent=r}},t}},"/proc/self/fd")})(),Object.assign(Ni.prototype,{get(e){return this.M[e]},has(e){return this.M[e]!==void 0},pa(e){var t=this.ib.pop()||this.M.length;return this.M[t]=e,t},Zb(e){this.M[e]=void 0,this.ib.push(e)}}),gn=f.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},ut.M.push({value:void 0},{value:null},{value:!0},{value:!1}),ut.h=ut.M.length,f.count_emval_handles=function(){for(var e=0,t=ut.h;t<ut.M.length;++t)ut.M[t]!==void 0&&++e;return e},Hi=f.PureVirtualError=Bi("PureVirtualError");for(var ao=Array(256),br=0;256>br;++br)ao[br]=String.fromCharCode(br);Yi=ao,f.getInheritedInstanceCount=function(){return Object.keys(Dt).length},f.getLiveInheritedInstances=function(){var e=[],t;for(t in Dt)Dt.hasOwnProperty(t)&&e.push(Dt[t]);return e},f.flushPendingDeletes=zr,f.setDelayFunction=function(e){Wn=e,Dn.length&&Wn&&Wn(zr)},qi=f.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Jt.prototype.isAliasOf=function(e){if(!(this instanceof Jt&&e instanceof Jt))return!1;var t=this.g.u.i,r=this.g.o,a=e.g.u.i;for(e=e.g.o;t.A;)r=t.na(r),t=t.A;for(;a.A;)e=a.na(e),a=a.A;return t===a&&r===e},Jt.prototype.clone=function(){if(this.g.o||Gr(this),this.g.ia)return this.g.count.value+=1,this;var e=_n,t=Object,r=t.create,a=Object.getPrototypeOf(this),l=this.g;return e=e(r.call(t,a,{g:{value:{count:l.count,fa:l.fa,ia:l.ia,o:l.o,u:l.u,G:l.G,L:l.L}}})),e.g.count.value+=1,e.g.fa=!1,e},Jt.prototype.delete=function(){this.g.o||Gr(this),this.g.fa&&!this.g.ia&&ue("Object already scheduled for deletion"),ur(this),Xi(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},Jt.prototype.isDeleted=function(){return!this.g.o},Jt.prototype.deleteLater=function(){return this.g.o||Gr(this),this.g.fa&&!this.g.ia&&ue("Object already scheduled for deletion"),Dn.push(this),Dn.length===1&&Wn&&Wn(zr),this.g.fa=!0,this},Wt.prototype.Vb=function(e){return this.sb&&(e=this.sb(e)),e},Wt.prototype.bb=function(e){this.W&&this.W(e)},Wt.prototype.argPackAdvance=8,Wt.prototype.readValueFromPointer=Nn,Wt.prototype.deleteObject=function(e){e!==null&&e.delete()},Wt.prototype.fromWireType=function(e){function t(){return this.ua?cr(this.i.N,{u:this.nc,o:r,L:this,G:e}):cr(this.i.N,{u:this,o:e})}var r=this.Vb(e);if(!r)return this.bb(e),null;var a=Ea(this.i,r);if(a!==void 0)return a.g.count.value===0?(a.g.o=r,a.g.G=e,a.clone()):(a=a.clone(),this.bb(e),a);if(a=this.i.Ub(r),a=Gi[a],!a)return t.call(this);a=this.ta?a.Kb:a.pointerType;var l=$i(r,this.i,a.i);return l===null?t.call(this):this.ua?cr(a.i.N,{u:a,o:l,L:this,G:e}):cr(a.i.N,{u:a,o:l})},Qi=f.UnboundTypeError=Bi("UnboundTypeError");var so={__syscall_fcntl64:function(e,t,r){kn=r;try{var a=Kt(e);switch(t){case 0:var l=kt();return 0>l?-28:ji(a,l).X;case 1:case 2:return 0;case 3:return a.flags;case 4:return l=kt(),a.flags|=l,0;case 5:return l=kt(),Ye[l+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return he[uo()>>2]=28,-1;default:return-28}}catch(h){if(typeof sn>"u"||h.name!=="ErrnoError")throw h;return-h.aa}},__syscall_ioctl:function(e,t,r){kn=r;try{var a=Kt(e);switch(t){case 21509:return a.s?0:-59;case 21505:if(!a.s)return-59;if(a.s.V.bc){t=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var l=kt();he[l>>2]=25856,he[l+4>>2]=5,he[l+8>>2]=191,he[l+12>>2]=35387;for(var h=0;32>h;h++)Se[l+h+17>>0]=t[h]||0}return 0;case 21510:case 21511:case 21512:return a.s?0:-59;case 21506:case 21507:case 21508:if(!a.s)return-59;if(a.s.V.cc)for(l=kt(),t=[],h=0;32>h;h++)t.push(Se[l+h+17>>0]);return 0;case 21519:return a.s?(l=kt(),he[l>>2]=0):-59;case 21520:return a.s?-28:-59;case 21531:if(l=kt(),!a.m.ac)throw new z(59);return a.m.ac(a,t,l);case 21523:return a.s?(a.s.V.dc&&(h=[24,80],l=kt(),Ye[l>>1]=h[0],Ye[l+2>>1]=h[1]),0):-59;case 21524:return a.s?0:-59;case 21515:return a.s?0:-59;default:return-28}}catch(m){if(typeof sn>"u"||m.name!=="ErrnoError")throw m;return-m.aa}},__syscall_openat:function(e,t,r,a){kn=a;try{t=t?Ce(Fe,t):"";var l=t;if(l.charAt(0)==="/")t=l;else{var h=e===-100?"/":Kt(e).path;if(l.length==0)throw new z(44);t=_(h+"/"+l)}var m=a?kt():0;return or(t,r,m).X}catch(b){if(typeof sn>"u"||b.name!=="ErrnoError")throw b;return-b.aa}},_embind_create_inheriting_constructor:function(e,t,r){e=Oe(e),t=Vn(t,"wrapper"),r=yt(r);var a=[].slice,l=t.i,h=l.N,m=l.A.N,b=l.A.constructor;e=sr(e,function(){l.A.rb.forEach((function(w){if(this[w]===m[w])throw new Hi(`Pure virtual function ${w} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:h}),this.__construct.apply(this,a.call(arguments))}),h.__construct=function(){this===h&&ue("Pass correct 'this' to __construct");var w=b.implement.apply(void 0,[this].concat(a.call(arguments)));ur(w);var k=w.g;w.notifyOnDestruction(),k.ia=!0,Object.defineProperties(this,{g:{value:k}}),_n(this),w=k.o,w=Xr(l,w),Dt.hasOwnProperty(w)?ue(`Tried to register registered instance: ${w}`):Dt[w]=this},h.__destruct=function(){this===h&&ue("Pass correct 'this' to __destruct"),ur(this);var w=this.g.o;w=Xr(l,w),Dt.hasOwnProperty(w)?delete Dt[w]:ue(`Tried to unregister unregistered instance: ${w}`)},e.prototype=Object.create(h);for(var E in r)e.prototype[E]=r[E];return wt(e)},_embind_finalize_value_object:function(e){var t=fr[e];delete fr[e];var r=t.Pa,a=t.W,l=t.fb,h=l.map(m=>m.Yb).concat(l.map(m=>m.rc));rt([e],h,m=>{var b={};return l.forEach((E,w)=>{var k=m[w],W=E.Wb,Y=E.Xb,g=m[w+l.length],j=E.qc,K=E.sc;b[E.Sb]={read:V=>k.fromWireType(W(Y,V)),write:(V,Ee)=>{var H=[];j(K,V,g.toWireType(H,Ee)),Un(H)}}}),[{name:t.name,fromWireType:function(E){var w={},k;for(k in b)w[k]=b[k].read(E);return a(E),w},toWireType:function(E,w){for(var k in b)if(!(k in w))throw new TypeError(`Missing field: "${k}"`);var W=r();for(k in b)b[k].write(W,w[k]);return E!==null&&E.push(a,W),W},argPackAdvance:8,readValueFromPointer:Nn,K:a}]})},_embind_register_bigint:function(){},_embind_register_bool:function(e,t,r,a,l){var h=hr(r);t=Oe(t),It(e,{name:t,fromWireType:function(m){return!!m},toWireType:function(m,b){return b?a:l},argPackAdvance:8,readValueFromPointer:function(m){if(r===1)var b=Se;else if(r===2)b=Ye;else if(r===4)b=he;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(b[m>>h])},K:null})},_embind_register_class:function(e,t,r,a,l,h,m,b,E,w,k,W,Y){k=Oe(k),h=ze(l,h),b&&(b=ze(m,b)),w&&(w=ze(E,w)),Y=ze(W,Y);var g=Ui(k);Kr(g,function(){Vt(`Cannot construct ${k} due to unbound types`,[a])}),rt([e,t,r],a?[a]:[],function(j){if(j=j[0],a)var K=j.i,V=K.N;else V=Jt.prototype;j=sr(g,function(){if(Object.getPrototypeOf(this)!==Ee)throw new gn("Use 'new' to construct "+k);if(H.$===void 0)throw new gn(k+" has no accessible constructor");var Te=H.$[arguments.length];if(Te===void 0)throw new gn(`Tried to invoke ctor of ${k} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(H.$).toString()}) parameters instead!`);return Te.apply(this,arguments)});var Ee=Object.create(V,{constructor:{value:j}});j.prototype=Ee;var H=new Ia(k,j,Ee,Y,K,h,b,w);H.A&&(H.A.oa===void 0&&(H.A.oa=[]),H.A.oa.push(H)),K=new Wt(k,H,!0,!1),V=new Wt(k+"*",H,!1,!1);var Ae=new Wt(k+" const*",H,!1,!0);return Gi[e]={pointerType:V,Kb:Ae},Ki(g,j),[K,V,Ae]})},_embind_register_class_class_function:function(e,t,r,a,l,h,m){var b=gr(r,a);t=Oe(t),h=ze(l,h),rt([],[e],function(E){function w(){Vt(`Cannot call ${k} due to unbound types`,b)}E=E[0];var k=`${E.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var W=E.i.constructor;return W[t]===void 0?(w.ea=r-1,W[t]=w):(qr(W,t,k),W[t].B[r-1]=w),rt([],b,function(Y){if(Y=mr(k,[Y[0],null].concat(Y.slice(1)),null,h,m),W[t].B===void 0?(Y.ea=r-1,W[t]=Y):W[t].B[r-1]=Y,E.i.oa)for(const g of E.i.oa)g.constructor.hasOwnProperty(t)||(g.constructor[t]=Y);return[]}),[]})},_embind_register_class_class_property:function(e,t,r,a,l,h,m,b){t=Oe(t),h=ze(l,h),rt([],[e],function(E){E=E[0];var w=`${E.name}.${t}`,k={get(){Vt(`Cannot access ${w} due to unbound types`,[r])},enumerable:!0,configurable:!0};return k.set=b?()=>{Vt(`Cannot access ${w} due to unbound types`,[r])}:()=>{ue(`${w} is a read-only property`)},Object.defineProperty(E.i.constructor,t,k),rt([],[r],function(W){W=W[0];var Y={get(){return W.fromWireType(h(a))},enumerable:!0};return b&&(b=ze(m,b),Y.set=g=>{var j=[];b(a,W.toWireType(j,g)),Un(j)}),Object.defineProperty(E.i.constructor,t,Y),[]}),[]})},_embind_register_class_constructor:function(e,t,r,a,l,h){var m=gr(t,r);l=ze(a,l),rt([],[e],function(b){b=b[0];var E=`constructor ${b.name}`;if(b.i.$===void 0&&(b.i.$=[]),b.i.$[t-1]!==void 0)throw new gn(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${b.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return b.i.$[t-1]=()=>{Vt(`Cannot construct ${b.name} due to unbound types`,m)},rt([],m,function(w){return w.splice(1,0,null),b.i.$[t-1]=mr(E,w,null,l,h),[]}),[]})},_embind_register_class_function:function(e,t,r,a,l,h,m,b){var E=gr(r,a);t=Oe(t),h=ze(l,h),rt([],[e],function(w){function k(){Vt(`Cannot call ${W} due to unbound types`,E)}w=w[0];var W=`${w.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),b&&w.i.rb.push(t);var Y=w.i.N,g=Y[t];return g===void 0||g.B===void 0&&g.className!==w.name&&g.ea===r-2?(k.ea=r-2,k.className=w.name,Y[t]=k):(qr(Y,t,W),Y[t].B[r-2]=k),rt([],E,function(j){return j=mr(W,j,w,h,m),Y[t].B===void 0?(j.ea=r-2,Y[t]=j):Y[t].B[r-2]=j,[]}),[]})},_embind_register_class_property:function(e,t,r,a,l,h,m,b,E,w){t=Oe(t),l=ze(a,l),rt([],[e],function(k){k=k[0];var W=`${k.name}.${t}`,Y={get(){Vt(`Cannot access ${W} due to unbound types`,[r,m])},enumerable:!0,configurable:!0};return Y.set=E?()=>{Vt(`Cannot access ${W} due to unbound types`,[r,m])}:()=>{ue(W+" is a read-only property")},Object.defineProperty(k.i.N,t,Y),rt([],E?[r,m]:[r],function(g){var j=g[0],K={get(){var Ee=Zi(this,k,W+" getter");return j.fromWireType(l(h,Ee))},enumerable:!0};if(E){E=ze(b,E);var V=g[1];K.set=function(Ee){var H=Zi(this,k,W+" setter"),Ae=[];E(w,H,V.toWireType(Ae,Ee)),Un(Ae)}}return Object.defineProperty(k.i.N,t,K),[]}),[]})},_embind_register_emval:function(e,t){t=Oe(t),It(e,{name:t,fromWireType:function(r){var a=yt(r);return Jr(r),a},toWireType:function(r,a){return wt(a)},argPackAdvance:8,readValueFromPointer:Nn,K:null})},_embind_register_enum:function(e,t,r,a){function l(){}r=hr(r),t=Oe(t),l.values={},It(e,{name:t,constructor:l,fromWireType:function(h){return this.constructor.values[h]},toWireType:function(h,m){return m.value},argPackAdvance:8,readValueFromPointer:La(t,r,a),K:null}),Kr(t,l)},_embind_register_enum_value:function(e,t,r){var a=Vn(e,"enum");t=Oe(t),e=a.constructor,a=Object.create(a.constructor.prototype,{value:{value:r},constructor:{value:sr(`${a.name}_${t}`,function(){})}}),e.values[r]=a,e[t]=a},_embind_register_float:function(e,t,r){r=hr(r),t=Oe(t),It(e,{name:t,fromWireType:function(a){return a},toWireType:function(a,l){return l},argPackAdvance:8,readValueFromPointer:Oa(t,r),K:null})},_embind_register_function:function(e,t,r,a,l,h){var m=gr(t,r);e=Oe(e),l=ze(a,l),Kr(e,function(){Vt(`Cannot call ${e} due to unbound types`,m)},t-1),rt([],m,function(b){return Ki(e,mr(e,[b[0],null].concat(b.slice(1)),null,l,h),t-1),[]})},_embind_register_integer:function(e,t,r,a,l){t=Oe(t),l===-1&&(l=4294967295),l=hr(r);var h=b=>b;if(a===0){var m=32-8*r;h=b=>b<<m>>>m}r=t.includes("unsigned")?function(b,E){return E>>>0}:function(b,E){return E},It(e,{name:t,fromWireType:h,toWireType:r,argPackAdvance:8,readValueFromPointer:xa(t,l,a!==0),K:null})},_embind_register_memory_view:function(e,t,r){function a(h){h>>=2;var m=be;return new l(m.buffer,m[h+1],m[h])}var l=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];r=Oe(r),It(e,{name:r,fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{$b:!0})},_embind_register_std_string:function(e,t){t=Oe(t);var r=t==="std::string";It(e,{name:t,fromWireType:function(a){var l=be[a>>2],h=a+4;if(r)for(var m=h,b=0;b<=l;++b){var E=h+b;if(b==l||Fe[E]==0){if(m=m?Ce(Fe,m,E-m):"",w===void 0)var w=m;else w+="\0",w+=m;m=E+1}}else{for(w=Array(l),b=0;b<l;++b)w[b]=String.fromCharCode(Fe[h+b]);w=w.join("")}return Ut(a),w},toWireType:function(a,l){l instanceof ArrayBuffer&&(l=new Uint8Array(l));var h=typeof l=="string";h||l instanceof Uint8Array||l instanceof Uint8ClampedArray||l instanceof Int8Array||ue("Cannot pass non-string to std::string");var m=r&&h?Le(l):l.length,b=ni(4+m+1),E=b+4;if(be[b>>2]=m,r&&h)gt(l,Fe,E,m+1);else if(h)for(h=0;h<m;++h){var w=l.charCodeAt(h);255<w&&(Ut(E),ue("String has UTF-16 code units that do not fit in 8 bits")),Fe[E+h]=w}else for(h=0;h<m;++h)Fe[E+h]=l[h];return a!==null&&a.push(Ut,b),b},argPackAdvance:8,readValueFromPointer:Nn,K:function(a){Ut(a)}})},_embind_register_std_wstring:function(e,t,r){if(r=Oe(r),t===2)var a=Sa,l=ja,h=ka,m=()=>vt,b=1;else t===4&&(a=Da,l=Wa,h=Va,m=()=>be,b=2);It(e,{name:r,fromWireType:function(E){for(var w=be[E>>2],k=m(),W,Y=E+4,g=0;g<=w;++g){var j=E+4+g*t;(g==w||k[j>>b]==0)&&(Y=a(Y,j-Y),W===void 0?W=Y:(W+="\0",W+=Y),Y=j+t)}return Ut(E),W},toWireType:function(E,w){typeof w!="string"&&ue(`Cannot pass non-string to C++ string type ${r}`);var k=h(w),W=ni(4+k+t);return be[W>>2]=k>>b,l(w,W+4,k+t),E!==null&&E.push(Ut,W),W},argPackAdvance:8,readValueFromPointer:Nn,K:function(E){Ut(E)}})},_embind_register_value_object:function(e,t,r,a,l,h){fr[e]={name:Oe(t),Pa:ze(r,a),W:ze(l,h),fb:[]}},_embind_register_value_object_field:function(e,t,r,a,l,h,m,b,E,w){fr[e].fb.push({Sb:Oe(t),Yb:r,Wb:ze(a,l),Xb:h,rc:m,qc:ze(b,E),sc:w})},_embind_register_void:function(e,t){t=Oe(t),It(e,{fc:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(e,t,r){e=yt(e),t=Vn(t,"emval::as");var a=[],l=wt(a);return be[r>>2]=l,t.toWireType(a,e)},_emval_call_method:function(e,t,r,a,l){e=yr[e],t=yt(t),r=_r(r);var h=[];return be[a>>2]=wt(h),e(t,r,h,l)},_emval_call_void_method:function(e,t,r,a){e=yr[e],t=yt(t),r=_r(r),e(t,r,null,a)},_emval_decref:Jr,_emval_get_method_caller:function(e,t){var r=Ba(e,t),a=r[0];t=a.name+"_$"+r.slice(1).map(function(m){return m.name}).join("_")+"$";var l=to[t];if(l!==void 0)return l;var h=Array(e-1);return l=Na((m,b,E,w)=>{for(var k=0,W=0;W<e-1;++W)h[W]=r[W+1].readValueFromPointer(w+k),k+=r[W+1].argPackAdvance;for(m=m[b].apply(m,h),W=0;W<e-1;++W)r[W+1].Nb&&r[W+1].Nb(h[W]);if(!a.fc)return a.toWireType(E,m)}),to[t]=l},_emval_get_module_property:function(e){return e=_r(e),wt(f[e])},_emval_get_property:function(e,t){return e=yt(e),t=yt(t),wt(e[t])},_emval_incref:function(e){4<e&&(ut.get(e).ub+=1)},_emval_new_array:function(){return wt([])},_emval_new_cstring:function(e){return wt(_r(e))},_emval_new_object:function(){return wt({})},_emval_run_destructors:function(e){var t=yt(e);Un(t),Jr(e)},_emval_set_property:function(e,t,r){e=yt(e),t=yt(t),r=yt(r),e[t]=r},_emval_take_value:function(e,t){return e=Vn(e,"_emval_take_value"),e=e.readValueFromPointer(t),wt(e)},abort:()=>{Xt("")},emscripten_asm_const_int:(e,t,r)=>{Zr.length=0;var a;for(r>>=2;a=Fe[t++];)r+=a!=105&r,Zr.push(a==105?he[r]:Pe[r++>>1]),++r;return n[e].apply(null,Zr)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(e,t,r)=>Fe.copyWithin(e,t,t+r),emscripten_resize_heap:e=>{var t=Fe.length;if(e>>>=0,2147483648<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var l=Math;a=Math.max(e,a);e:{l=l.min.call(l,2147483648,a+(65536-a%65536)%65536)-ht.buffer.byteLength+65535>>>16;try{ht.grow(l),tt();var h=1;break e}catch{}h=void 0}if(h)return!0}return!1},environ_get:(e,t)=>{var r=0;return no().forEach(function(a,l){var h=t+r;for(l=be[e+4*l>>2]=h,h=0;h<a.length;++h)Se[l++>>0]=a.charCodeAt(h);Se[l>>0]=0,r+=a.length+1}),0},environ_sizes_get:(e,t)=>{var r=no();be[e>>2]=r.length;var a=0;return r.forEach(function(l){a+=l.length+1}),be[t>>2]=a,0},fd_close:function(e){try{var t=Kt(e);if(t.X===null)throw new z(8);t.Ma&&(t.Ma=null);try{t.m.close&&t.m.close(t)}catch(r){throw r}finally{tr[t.X]=null}return t.X=null,0}catch(r){if(typeof sn>"u"||r.name!=="ErrnoError")throw r;return r.aa}},fd_read:function(e,t,r,a){try{e:{var l=Kt(e);e=t;for(var h,m=t=0;m<r;m++){var b=be[e>>2],E=be[e+4>>2];e+=8;var w=l,k=b,W=E,Y=h,g=Se;if(0>W||0>Y)throw new z(28);if(w.X===null)throw new z(8);if((w.flags&2097155)===1)throw new z(8);if((w.node.mode&61440)===16384)throw new z(31);if(!w.m.read)throw new z(28);var j=typeof Y<"u";if(!j)Y=w.position;else if(!w.seekable)throw new z(70);var K=w.m.read(w,g,k,W,Y);j||(w.position+=K);var V=K;if(0>V){var Ee=-1;break e}if(t+=V,V<E)break;typeof h<"u"&&(h+=V)}Ee=t}return be[a>>2]=Ee,0}catch(H){if(typeof sn>"u"||H.name!=="ErrnoError")throw H;return H.aa}},fd_seek:function(e,t,r,a,l){t=r+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*r:NaN;try{if(isNaN(t))return 61;var h=Kt(e);return Di(h,t,a),u=[h.position>>>0,($t=h.position,1<=+Math.abs($t)?0<$t?+Math.floor($t/4294967296)>>>0:~~+Math.ceil(($t-+(~~$t>>>0))/4294967296)>>>0:0)],he[l>>2]=u[0],he[l+4>>2]=u[1],h.Ma&&t===0&&a===0&&(h.Ma=null),0}catch(m){if(typeof sn>"u"||m.name!=="ErrnoError")throw m;return m.aa}},fd_write:function(e,t,r,a){try{e:{var l=Kt(e);e=t;for(var h,m=t=0;m<r;m++){var b=be[e>>2],E=be[e+4>>2];e+=8;var w=l,k=b,W=E,Y=h,g=Se;if(0>W||0>Y)throw new z(28);if(w.X===null)throw new z(8);if((w.flags&2097155)===0)throw new z(8);if((w.node.mode&61440)===16384)throw new z(31);if(!w.m.write)throw new z(28);w.seekable&&w.flags&1024&&Di(w,0,2);var j=typeof Y<"u";if(!j)Y=w.position;else if(!w.seekable)throw new z(70);var K=w.m.write(w,g,k,W,Y,void 0);j||(w.position+=K);var V=K;if(0>V){var Ee=-1;break e}t+=V,typeof h<"u"&&(h+=V)}Ee=t}return be[a>>2]=Ee,0}catch(H){if(typeof sn>"u"||H.name!=="ErrnoError")throw H;return H.aa}},strftime_l:(e,t,r,a)=>Ha(e,t,r,a)};(function(){function e(r){if(de=r=r.exports,ht=de.memory,tt(),je=de.__indirect_function_table,zt.unshift(de.__wasm_call_ctors),Je--,f.monitorRunDependencies&&f.monitorRunDependencies(Je),Je==0&&mt){var a=mt;mt=null,a()}return r}var t={env:so,wasi_snapshot_preview1:so};if(Je++,f.monitorRunDependencies&&f.monitorRunDependencies(Je),f.instantiateWasm)try{return f.instantiateWasm(t,e)}catch(r){ke("Module.instantiateWasm callback failed with error: "+r),U(r)}return Ur(t,function(r){e(r.instance)}).catch(U),{}})();var Ut=e=>(Ut=de.free)(e),ni=e=>(ni=de.malloc)(e),uo=()=>(uo=de.__errno_location)(),lo=f._ma_device__on_notification_unlocked=e=>(lo=f._ma_device__on_notification_unlocked=de.ma_device__on_notification_unlocked)(e);f._ma_malloc_emscripten=(e,t)=>(f._ma_malloc_emscripten=de.ma_malloc_emscripten)(e,t),f._ma_free_emscripten=(e,t)=>(f._ma_free_emscripten=de.ma_free_emscripten)(e,t);var co=f._ma_device_process_pcm_frames_capture__webaudio=(e,t,r)=>(co=f._ma_device_process_pcm_frames_capture__webaudio=de.ma_device_process_pcm_frames_capture__webaudio)(e,t,r),fo=f._ma_device_process_pcm_frames_playback__webaudio=(e,t,r)=>(fo=f._ma_device_process_pcm_frames_playback__webaudio=de.ma_device_process_pcm_frames_playback__webaudio)(e,t,r),ho=e=>(ho=de.__getTypeName)(e);f.__embind_initialize_bindings=()=>(f.__embind_initialize_bindings=de._embind_initialize_bindings)(),f.dynCall_iiji=(e,t,r,a,l)=>(f.dynCall_iiji=de.dynCall_iiji)(e,t,r,a,l),f.dynCall_jiji=(e,t,r,a,l)=>(f.dynCall_jiji=de.dynCall_jiji)(e,t,r,a,l),f.dynCall_iiiji=(e,t,r,a,l,h)=>(f.dynCall_iiiji=de.dynCall_iiiji)(e,t,r,a,l,h),f.dynCall_iij=(e,t,r,a)=>(f.dynCall_iij=de.dynCall_iij)(e,t,r,a),f.dynCall_jii=(e,t,r)=>(f.dynCall_jii=de.dynCall_jii)(e,t,r),f.dynCall_viijii=(e,t,r,a,l,h,m)=>(f.dynCall_viijii=de.dynCall_viijii)(e,t,r,a,l,h,m),f.dynCall_iiiiij=(e,t,r,a,l,h,m)=>(f.dynCall_iiiiij=de.dynCall_iiiiij)(e,t,r,a,l,h,m),f.dynCall_iiiiijj=(e,t,r,a,l,h,m,b,E)=>(f.dynCall_iiiiijj=de.dynCall_iiiiijj)(e,t,r,a,l,h,m,b,E),f.dynCall_iiiiiijj=(e,t,r,a,l,h,m,b,E,w)=>(f.dynCall_iiiiiijj=de.dynCall_iiiiiijj)(e,t,r,a,l,h,m,b,E,w);var Ar;mt=function e(){Ar||vo(),Ar||(mt=e)};function vo(){function e(){if(!Ar&&(Ar=!0,f.calledRun=!0,!rn)){if(f.noFSInit||Vi||(Vi=!0,Wi(),f.stdin=f.stdin,f.stdout=f.stdout,f.stderr=f.stderr,f.stdin?Sn("stdin",f.stdin):Hr("/dev/tty","/dev/stdin"),f.stdout?Sn("stdout",null,f.stdout):Hr("/dev/tty","/dev/stdout"),f.stderr?Sn("stderr",null,f.stderr):Hr("/dev/tty1","/dev/stderr"),or("/dev/stdin",0),or("/dev/stdout",1),or("/dev/stderr",1)),Fi=!1,i(zt),F(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;){var t=f.postRun.shift();St.unshift(t)}i(St)}}if(!(0<Je)){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)on();i(xt),0<Je||(f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),e()},1)):e())}}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();return vo(),P.ready})})();const T=R}),(C=>{C.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.31.2","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((C,I,A)=>{A.r(I),A.d(I,{Animation:()=>R.Animation});var R=A(4)}),((C,I,A)=>{A.r(I),A.d(I,{Animation:()=>R});var R=(function(){function T(x,P,f,F){this.animation=x,this.artboard=P,this.playing=F,this.loopCount=0,this.scrubTo=null,this.instance=new f.LinearAnimationInstance(x,P)}return Object.defineProperty(T.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"time",{get:function(){return this.instance.time},set:function(x){this.instance.time=x},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),T.prototype.advance=function(x){this.scrubTo===null?this.instance.advance(x):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},T.prototype.apply=function(x){this.instance.apply(x)},T.prototype.cleanup=function(){this.instance.delete()},T})()}),((C,I,A)=>{A.r(I),A.d(I,{AudioAssetWrapper:()=>x.AudioAssetWrapper,AudioWrapper:()=>x.AudioWrapper,BLANK_URL:()=>T.BLANK_URL,CustomFileAssetLoaderWrapper:()=>x.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>x.FileAssetWrapper,Finalizable:()=>x.Finalizable,FontAssetWrapper:()=>x.FontAssetWrapper,FontWrapper:()=>x.FontWrapper,ImageAssetWrapper:()=>x.ImageAssetWrapper,ImageWrapper:()=>x.ImageWrapper,finalizationRegistry:()=>x.finalizationRegistry,registerTouchInteractions:()=>R.registerTouchInteractions,sanitizeUrl:()=>T.sanitizeUrl});var R=A(6),T=A(7),x=A(8)}),((C,I,A)=>{A.r(I),A.d(I,{registerTouchInteractions:()=>x});var R=void 0,T=function(P,f){var F,U;return["touchstart","touchmove"].indexOf(P.type)>-1&&(!((F=P.touches)===null||F===void 0)&&F.length)?(f||P.preventDefault(),{clientX:P.touches[0].clientX,clientY:P.touches[0].clientY}):P.type==="touchend"&&(!((U=P.changedTouches)===null||U===void 0)&&U.length)?{clientX:P.changedTouches[0].clientX,clientY:P.changedTouches[0].clientY}:{clientX:P.clientX,clientY:P.clientY}},x=function(P){var f=P.canvas,F=P.artboard,U=P.stateMachines,ee=U===void 0?[]:U,te=P.renderer,$=P.rive,Q=P.fit,ne=P.alignment,X=P.isTouchScrollEnabled,S=X===void 0?!1:X,D=P.layoutScaleFactor,q=D===void 0?1:D;if(!f||!ee.length||!te||!$||!F||typeof window>"u")return null;var J=null,ie=!1,B=function(Re){if(ie&&Re instanceof MouseEvent){Re.type=="mouseup"&&(ie=!1);return}ie=S&&Re.type==="touchend"&&J==="touchstart",J=Re.type;var ke=Re.currentTarget.getBoundingClientRect(),xe=T(Re,S),ht=xe.clientX,de=xe.clientY;if(!(!ht&&!de)){var rn=ht-ke.left,Se=de-ke.top,Fe=$.computeAlignment(Q,ne,{minX:0,minY:0,maxX:ke.width,maxY:ke.height},F.bounds,q),Ye=new $.Mat2D;Fe.invert(Ye);var vt=new $.Vec2D(rn,Se),he=$.mapXY(Ye,vt),be=he.x(),pt=he.y();switch(he.delete(),Ye.delete(),vt.delete(),Fe.delete(),Re.type){case"mouseout":for(var Pe=0,tt=ee;Pe<tt.length;Pe++){var je=tt[Pe];je.pointerMove(be,pt)}break;case"touchmove":case"mouseover":case"mousemove":{for(var xt=0,zt=ee;xt<zt.length;xt++){var je=zt[xt];je.pointerMove(be,pt)}break}case"touchstart":case"mousedown":{for(var St=0,on=ee;St<on.length;St++){var je=on[St];je.pointerDown(be,pt)}break}case"touchend":case"mouseup":{for(var Je=0,mt=ee;Je<mt.length;Je++){var je=mt[Je];je.pointerUp(be,pt)}break}}}},se=B.bind(R);return f.addEventListener("mouseover",se),f.addEventListener("mouseout",se),f.addEventListener("mousemove",se),f.addEventListener("mousedown",se),f.addEventListener("mouseup",se),f.addEventListener("touchmove",se,{passive:S}),f.addEventListener("touchstart",se,{passive:S}),f.addEventListener("touchend",se),function(){f.removeEventListener("mouseover",se),f.removeEventListener("mouseout",se),f.removeEventListener("mousemove",se),f.removeEventListener("mousedown",se),f.removeEventListener("mouseup",se),f.removeEventListener("touchmove",se),f.removeEventListener("touchstart",se),f.removeEventListener("touchend",se)}}}),((C,I,A)=>{A.r(I),A.d(I,{BLANK_URL:()=>U,sanitizeUrl:()=>$});var R=/^([^\w]*)(javascript|data|vbscript)/im,T=/&#(\w+)(^\w|;)?/g,x=/&(newline|tab);/gi,P=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,f=/^.+(:|&colon;)/gim,F=[".","/"],U="about:blank";function ee(Q){return F.indexOf(Q[0])>-1}function te(Q){var ne=Q.replace(P,"");return ne.replace(T,function(X,S){return String.fromCharCode(S)})}function $(Q){if(!Q)return U;var ne=te(Q).replace(x,"").replace(P,"").trim();if(!ne)return U;if(ee(ne))return ne;var X=ne.match(f);if(!X)return ne;var S=X[0];return R.test(S)?U:ne}}),((C,I,A)=>{A.r(I),A.d(I,{AudioAssetWrapper:()=>te,AudioWrapper:()=>P,CustomFileAssetLoaderWrapper:()=>F,FileAssetWrapper:()=>U,Finalizable:()=>T,FontAssetWrapper:()=>$,FontWrapper:()=>f,ImageAssetWrapper:()=>ee,ImageWrapper:()=>x,finalizationRegistry:()=>X});var R=(function(){var S=function(D,q){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,ie){J.__proto__=ie}||function(J,ie){for(var B in ie)Object.prototype.hasOwnProperty.call(ie,B)&&(J[B]=ie[B])},S(D,q)};return function(D,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");S(D,q);function J(){this.constructor=D}D.prototype=q===null?Object.create(q):(J.prototype=q.prototype,new J)}})(),T=(function(){function S(){this.selfUnref=!1}return S})(),x=(function(S){R(D,S);function D(q){var J=S.call(this)||this;return J._nativeImage=q,J}return Object.defineProperty(D.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),D.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},D})(T),P=(function(S){R(D,S);function D(q){var J=S.call(this)||this;return J._nativeAudio=q,J}return Object.defineProperty(D.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),D.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},D})(T),f=(function(S){R(D,S);function D(q){var J=S.call(this)||this;return J._nativeFont=q,J}return Object.defineProperty(D.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),D.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},D})(T),F=(function(){function S(D,q){this._assetLoaderCallback=q,this.assetLoader=new D.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return S.prototype.loadContents=function(D,q){var J;return D.isImage?J=new ee(D):D.isAudio?J=new te(D):D.isFont&&(J=new $(D)),this._assetLoaderCallback(J,q)},S})(),U=(function(){function S(D){this._nativeFileAsset=D}return S.prototype.decode=function(D){this._nativeFileAsset.decode(D)},Object.defineProperty(S.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),S})(),ee=(function(S){R(D,S);function D(){return S!==null&&S.apply(this,arguments)||this}return D.prototype.setRenderImage=function(q){this._nativeFileAsset.setRenderImage(q.nativeImage)},D})(U),te=(function(S){R(D,S);function D(){return S!==null&&S.apply(this,arguments)||this}return D.prototype.setAudioSource=function(q){this._nativeFileAsset.setAudioSource(q.nativeAudio)},D})(U),$=(function(S){R(D,S);function D(){return S!==null&&S.apply(this,arguments)||this}return D.prototype.setFont=function(q){this._nativeFileAsset.setFont(q.nativeFont)},D})(U),Q=(function(){function S(D){}return S.prototype.register=function(D){D.selfUnref=!0},S.prototype.unregister=function(D){},S})(),ne=typeof FinalizationRegistry<"u"?FinalizationRegistry:Q,X=new ne(function(S){S.unref()})})],v={};function p(C){var I=v[C];if(I!==void 0)return I.exports;var A=v[C]={exports:{}};return c[C](A,A.exports,p),A.exports}p.d=(C,I)=>{for(var A in I)p.o(I,A)&&!p.o(C,A)&&Object.defineProperty(C,A,{enumerable:!0,get:I[A]})},p.o=(C,I)=>Object.prototype.hasOwnProperty.call(C,I),p.r=C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})};var y={};return(()=>{p.r(y),p.d(y,{Alignment:()=>$,DataEnum:()=>pt,EventType:()=>B,Fit:()=>te,Layout:()=>Q,LoopType:()=>se,Rive:()=>he,RiveEventType:()=>D,RiveFile:()=>vt,RuntimeLoader:()=>ne,StateMachineInput:()=>S,StateMachineInputType:()=>X,Testing:()=>Vr,ViewModel:()=>be,ViewModelInstance:()=>tt,ViewModelInstanceArtboard:()=>jt,ViewModelInstanceAssetImage:()=>On,ViewModelInstanceBoolean:()=>St,ViewModelInstanceColor:()=>Xt,ViewModelInstanceEnum:()=>Je,ViewModelInstanceList:()=>mt,ViewModelInstanceNumber:()=>zt,ViewModelInstanceString:()=>xt,ViewModelInstanceTrigger:()=>on,ViewModelInstanceValue:()=>je,decodeAudio:()=>er,decodeFont:()=>$t,decodeImage:()=>Ur});var C=p(1),I=p(2),A=p(3),R=p(5),T=(function(){var u=function(n,i){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var M in _)Object.prototype.hasOwnProperty.call(_,M)&&(d[M]=_[M])},u(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");u(n,i);function d(){this.constructor=n}n.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}})(),x=function(){return x=Object.assign||function(u){for(var n,i=1,d=arguments.length;i<d;i++){n=arguments[i];for(var _ in n)Object.prototype.hasOwnProperty.call(n,_)&&(u[_]=n[_])}return u},x.apply(this,arguments)},P=function(u,n,i,d){function _(M){return M instanceof i?M:new i(function(O){O(M)})}return new(i||(i=Promise))(function(M,O){function Z(ce){try{G(d.next(ce))}catch(Ce){O(Ce)}}function ae(ce){try{G(d.throw(ce))}catch(Ce){O(Ce)}}function G(ce){ce.done?M(ce.value):_(ce.value).then(Z,ae)}G((d=d.apply(u,n||[])).next())})},f=function(u,n){var i={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},d,_,M,O=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return O.next=Z(0),O.throw=Z(1),O.return=Z(2),typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function Z(G){return function(ce){return ae([G,ce])}}function ae(G){if(d)throw new TypeError("Generator is already executing.");for(;O&&(O=0,G[0]&&(i=0)),i;)try{if(d=1,_&&(M=G[0]&2?_.return:G[0]?_.throw||((M=_.return)&&M.call(_),0):_.next)&&!(M=M.call(_,G[1])).done)return M;switch(_=0,M&&(G=[G[0]&2,M.value]),G[0]){case 0:case 1:M=G;break;case 4:return i.label++,{value:G[1],done:!1};case 5:i.label++,_=G[1],G=[0];continue;case 7:G=i.ops.pop(),i.trys.pop();continue;default:if(M=i.trys,!(M=M.length>0&&M[M.length-1])&&(G[0]===6||G[0]===2)){i=0;continue}if(G[0]===3&&(!M||G[1]>M[0]&&G[1]<M[3])){i.label=G[1];break}if(G[0]===6&&i.label<M[1]){i.label=M[1],M=G;break}if(M&&i.label<M[2]){i.label=M[2],i.ops.push(G);break}M[2]&&i.ops.pop(),i.trys.pop();continue}G=n.call(u,i)}catch(ce){G=[6,ce],_=0}finally{d=M=0}if(G[0]&5)throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}},F=function(u,n,i){if(i||arguments.length===2)for(var d=0,_=n.length,M;d<_;d++)(M||!(d in n))&&(M||(M=Array.prototype.slice.call(n,0,d)),M[d]=n[d]);return u.concat(M||Array.prototype.slice.call(n))},U=(function(u){T(n,u);function n(){var i=u!==null&&u.apply(this,arguments)||this;return i.isHandledError=!0,i}return n})(Error),ee=function(u){return u&&u.isHandledError?u.message:"Problem loading file; may be corrupt!"},te;(function(u){u.Cover="cover",u.Contain="contain",u.Fill="fill",u.FitWidth="fitWidth",u.FitHeight="fitHeight",u.None="none",u.ScaleDown="scaleDown",u.Layout="layout"})(te||(te={}));var $;(function(u){u.Center="center",u.TopLeft="topLeft",u.TopCenter="topCenter",u.TopRight="topRight",u.CenterLeft="centerLeft",u.CenterRight="centerRight",u.BottomLeft="bottomLeft",u.BottomCenter="bottomCenter",u.BottomRight="bottomRight"})($||($={}));var Q=(function(){function u(n){var i,d,_,M,O,Z,ae;this.fit=(i=n?.fit)!==null&&i!==void 0?i:te.Contain,this.alignment=(d=n?.alignment)!==null&&d!==void 0?d:$.Center,this.layoutScaleFactor=(_=n?.layoutScaleFactor)!==null&&_!==void 0?_:1,this.minX=(M=n?.minX)!==null&&M!==void 0?M:0,this.minY=(O=n?.minY)!==null&&O!==void 0?O:0,this.maxX=(Z=n?.maxX)!==null&&Z!==void 0?Z:0,this.maxY=(ae=n?.maxY)!==null&&ae!==void 0?ae:0}return u.new=function(n){var i=n.fit,d=n.alignment,_=n.minX,M=n.minY,O=n.maxX,Z=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new u({fit:i,alignment:d,minX:_,minY:M,maxX:O,maxY:Z})},u.prototype.copyWith=function(n){var i=n.fit,d=n.alignment,_=n.layoutScaleFactor,M=n.minX,O=n.minY,Z=n.maxX,ae=n.maxY;return new u({fit:i??this.fit,alignment:d??this.alignment,layoutScaleFactor:_??this.layoutScaleFactor,minX:M??this.minX,minY:O??this.minY,maxX:Z??this.maxX,maxY:ae??this.maxY})},u.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var i;return this.fit===te.Cover?i=n.Fit.cover:this.fit===te.Contain?i=n.Fit.contain:this.fit===te.Fill?i=n.Fit.fill:this.fit===te.FitWidth?i=n.Fit.fitWidth:this.fit===te.FitHeight?i=n.Fit.fitHeight:this.fit===te.ScaleDown?i=n.Fit.scaleDown:this.fit===te.Layout?i=n.Fit.layout:i=n.Fit.none,this.cachedRuntimeFit=i,i},u.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var i;return this.alignment===$.TopLeft?i=n.Alignment.topLeft:this.alignment===$.TopCenter?i=n.Alignment.topCenter:this.alignment===$.TopRight?i=n.Alignment.topRight:this.alignment===$.CenterLeft?i=n.Alignment.centerLeft:this.alignment===$.CenterRight?i=n.Alignment.centerRight:this.alignment===$.BottomLeft?i=n.Alignment.bottomLeft:this.alignment===$.BottomCenter?i=n.Alignment.bottomCenter:this.alignment===$.BottomRight?i=n.Alignment.bottomRight:i=n.Alignment.center,this.cachedRuntimeAlignment=i,i},u})(),ne=(function(){function u(){}return u.loadRuntime=function(){C.default({locateFile:function(){return u.wasmURL}}).then(function(n){var i;for(u.runtime=n;u.callBackQueue.length>0;)(i=u.callBackQueue.shift())===null||i===void 0||i(u.runtime)}).catch(function(n){var i={message:n?.message||"Unknown error",type:n?.name||"Error",wasmError:n instanceof WebAssembly.CompileError||n instanceof WebAssembly.RuntimeError,originalError:n};console.debug("Rive WASM load error details:",i);var d="https://cdn.jsdelivr.net/npm/".concat(I.name,"@").concat(I.version,"/rive_fallback.wasm");if(u.wasmURL.toLowerCase()!==d)console.warn("Failed to load WASM from ".concat(u.wasmURL," (").concat(i.message,"), trying jsdelivr as a backup")),u.setWasmUrl(d),u.loadRuntime();else{var _=["Could not load Rive WASM file from ".concat(u.wasmURL," or ").concat(d,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(i.type),"- Message: ".concat(i.message),"- WebAssembly-specific error: ".concat(i.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(_)}})},u.getInstance=function(n){u.isLoading||(u.isLoading=!0,u.loadRuntime()),u.runtime?n(u.runtime):u.callBackQueue.push(n)},u.awaitInstance=function(){return new Promise(function(n){return u.getInstance(function(i){return n(i)})})},u.setWasmUrl=function(n){u.wasmURL=n},u.getWasmUrl=function(){return u.wasmURL},u.isLoading=!1,u.callBackQueue=[],u.wasmURL="https://unpkg.com/".concat(I.name,"@").concat(I.version,"/rive.wasm"),u})(),X;(function(u){u[u.Number=56]="Number",u[u.Trigger=58]="Trigger",u[u.Boolean=59]="Boolean"})(X||(X={}));var S=(function(){function u(n,i){this.type=n,this.runtimeInput=i}return Object.defineProperty(u.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),u.prototype.fire=function(){this.type===X.Trigger&&this.runtimeInput.fire()},u.prototype.delete=function(){this.runtimeInput=null},u})(),D;(function(u){u[u.General=128]="General",u[u.OpenUrl=131]="OpenUrl"})(D||(D={}));var q=(function(){function u(n){this.nativeArtboard=n}return u})(),J=(function(){function u(n,i,d,_){this.stateMachine=n,this.playing=d,this.artboard=_,this.inputs=[],this.instance=new i.StateMachineInstance(n,_),this.initInputs(i)}return Object.defineProperty(u.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"statesChanged",{get:function(){for(var n=[],i=0;i<this.instance.stateChangedCount();i++)n.push(this.instance.stateChangedNameByIndex(i));return n},enumerable:!1,configurable:!0}),u.prototype.advance=function(n){this.instance.advance(n)},u.prototype.advanceAndApply=function(n){this.instance.advanceAndApply(n)},u.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},u.prototype.reportedEventAt=function(n){return this.instance.reportedEventAt(n)},u.prototype.initInputs=function(n){for(var i=0;i<this.instance.inputCount();i++){var d=this.instance.input(i);this.inputs.push(this.mapRuntimeInput(d,n))}},u.prototype.mapRuntimeInput=function(n,i){if(n.type===i.SMIInput.bool)return new S(X.Boolean,n.asBool());if(n.type===i.SMIInput.number)return new S(X.Number,n.asNumber());if(n.type===i.SMIInput.trigger)return new S(X.Trigger,n.asTrigger())},u.prototype.cleanup=function(){this.inputs.forEach(function(n){n.delete()}),this.inputs.length=0,this.instance.delete()},u.prototype.bindViewModelInstance=function(n){n.runtimeInstance!=null&&this.instance.bindViewModelInstance(n.runtimeInstance)},u})(),ie=(function(){function u(n,i,d,_,M){_===void 0&&(_=[]),M===void 0&&(M=[]),this.runtime=n,this.artboard=i,this.eventManager=d,this.animations=_,this.stateMachines=M}return u.prototype.add=function(n,i,d){if(d===void 0&&(d=!0),n=nt(n),n.length===0)this.animations.forEach(function(Le){return Le.playing=i}),this.stateMachines.forEach(function(Le){return Le.playing=i});else for(var _=this.animations.map(function(Le){return Le.name}),M=this.stateMachines.map(function(Le){return Le.name}),O=0;O<n.length;O++){var Z=_.indexOf(n[O]),ae=M.indexOf(n[O]);if(Z>=0||ae>=0)Z>=0?this.animations[Z].playing=i:this.stateMachines[ae].playing=i;else{var G=this.artboard.animationByName(n[O]);if(G){var ce=new A.Animation(G,this.artboard,this.runtime,i);ce.advance(0),ce.apply(1),this.animations.push(ce)}else{var Ce=this.artboard.stateMachineByName(n[O]);if(Ce){var Ve=new J(Ce,this.runtime,i,this.artboard);this.stateMachines.push(Ve)}}}}return d&&(i?this.eventManager.fire({type:B.Play,data:this.playing}):this.eventManager.fire({type:B.Pause,data:this.paused})),i?this.playing:this.paused},u.prototype.initLinearAnimations=function(n,i){for(var d=this.animations.map(function(ae){return ae.name}),_=0;_<n.length;_++){var M=d.indexOf(n[_]);if(M>=0)this.animations[M].playing=i;else{var O=this.artboard.animationByName(n[_]);if(O){var Z=new A.Animation(O,this.artboard,this.runtime,i);Z.advance(0),Z.apply(1),this.animations.push(Z)}else console.error("Animation with name ".concat(n[_]," not found."))}}},u.prototype.initStateMachines=function(n,i){for(var d=this.stateMachines.map(function(ae){return ae.name}),_=0;_<n.length;_++){var M=d.indexOf(n[_]);if(M>=0)this.stateMachines[M].playing=i;else{var O=this.artboard.stateMachineByName(n[_]);if(O){var Z=new J(O,this.runtime,i,this.artboard);this.stateMachines.push(Z),i||Z.advanceAndApply(0)}else console.warn("State Machine with name ".concat(n[_]," not found.")),this.initLinearAnimations([n[_]],i)}}},u.prototype.play=function(n){return this.add(n,!0)},u.prototype.pause=function(n){return this.add(n,!1)},u.prototype.scrub=function(n,i){var d=this.animations.filter(function(_){return n.includes(_.name)});return d.forEach(function(_){return _.scrubTo=i}),d.map(function(_){return _.name})},Object.defineProperty(u.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),u.prototype.stop=function(n){var i=this;n=nt(n);var d=[];if(n.length===0)d=this.animations.map(function(O){return O.name}).concat(this.stateMachines.map(function(O){return O.name})),this.animations.forEach(function(O){return O.cleanup()}),this.stateMachines.forEach(function(O){return O.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var _=this.animations.filter(function(O){return n.includes(O.name)});_.forEach(function(O){O.cleanup(),i.animations.splice(i.animations.indexOf(O),1)});var M=this.stateMachines.filter(function(O){return n.includes(O.name)});M.forEach(function(O){O.cleanup(),i.stateMachines.splice(i.stateMachines.indexOf(O),1)}),d=_.map(function(O){return O.name}).concat(M.map(function(O){return O.name}))}return this.eventManager.fire({type:B.Stop,data:d}),d},Object.defineProperty(u.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,i){return n||i.playing},!1)||this.stateMachines.reduce(function(n,i){return n||i.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),u.prototype.atLeastOne=function(n,i){i===void 0&&(i=!0);var d;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([d=this.artboard.animationByIndex(0).name],n,i):this.artboard.stateMachineCount()>0&&this.add([d=this.artboard.stateMachineByIndex(0).name],n,i)),d},u.prototype.handleLooping=function(){for(var n=0,i=this.animations.filter(function(_){return _.playing});n<i.length;n++){var d=i[n];d.loopValue===0&&d.loopCount?(d.loopCount=0,this.stop(d.name)):d.loopValue===1&&d.loopCount?(this.eventManager.fire({type:B.Loop,data:{animation:d.name,type:se.Loop}}),d.loopCount=0):d.loopValue===2&&d.loopCount>1&&(this.eventManager.fire({type:B.Loop,data:{animation:d.name,type:se.PingPong}}),d.loopCount=0)}},u.prototype.handleStateChanges=function(){for(var n=[],i=0,d=this.stateMachines.filter(function(M){return M.playing});i<d.length;i++){var _=d[i];n.push.apply(n,_.statesChanged)}n.length>0&&this.eventManager.fire({type:B.StateChange,data:n})},u.prototype.handleAdvancing=function(n){this.eventManager.fire({type:B.Advance,data:n})},u})(),B;(function(u){u.Load="load",u.LoadError="loaderror",u.Play="play",u.Pause="pause",u.Stop="stop",u.Loop="loop",u.Draw="draw",u.Advance="advance",u.StateChange="statechange",u.RiveEvent="riveevent",u.AudioStatusChange="audiostatuschange"})(B||(B={}));var se;(function(u){u.OneShot="oneshot",u.Loop="loop",u.PingPong="pingpong"})(se||(se={}));var Re=(function(){function u(n){n===void 0&&(n=[]),this.listeners=n}return u.prototype.getListeners=function(n){return this.listeners.filter(function(i){return i.type===n})},u.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},u.prototype.remove=function(n){for(var i=0;i<this.listeners.length;i++){var d=this.listeners[i];if(d.type===n.type&&d.callback===n.callback){this.listeners.splice(i,1);break}}},u.prototype.removeAll=function(n){var i=this;n?this.listeners.filter(function(d){return d.type===n}).forEach(function(d){return i.remove(d)}):this.listeners.splice(0,this.listeners.length)},u.prototype.fire=function(n){var i=this.getListeners(n.type);i.forEach(function(d){return d.callback(n)})},u})(),ke=(function(){function u(n){this.eventManager=n,this.queue=[]}return u.prototype.add=function(n){this.queue.push(n)},u.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n?.action&&n.action(),n?.event&&this.eventManager.fire(n.event)}},u})(),xe;(function(u){u[u.AVAILABLE=0]="AVAILABLE",u[u.UNAVAILABLE=1]="UNAVAILABLE"})(xe||(xe={}));var ht=(function(u){T(n,u);function n(){var i=u!==null&&u.apply(this,arguments)||this;return i._started=!1,i._enabled=!1,i._status=xe.UNAVAILABLE,i}return n.prototype.delay=function(i){return P(this,void 0,void 0,function(){return f(this,function(d){return[2,new Promise(function(_){return setTimeout(_,i)})]})})},n.prototype.timeout=function(){return P(this,void 0,void 0,function(){return f(this,function(i){return[2,new Promise(function(d,_){return setTimeout(_,50)})]})})},n.prototype.reportToListeners=function(){this.fire({type:B.AudioStatusChange}),this.removeAll()},n.prototype.enableAudio=function(){return P(this,void 0,void 0,function(){return f(this,function(i){return this._enabled||(this._enabled=!0,this._status=xe.AVAILABLE,this.reportToListeners()),[2]})})},n.prototype.testAudio=function(){return P(this,void 0,void 0,function(){return f(this,function(i){switch(i.label){case 0:if(!(this._status===xe.UNAVAILABLE&&this._audioContext!==null))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return i.sent(),this.enableAudio(),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}})})},n.prototype._establishAudio=function(){return P(this,void 0,void 0,function(){return f(this,function(i){switch(i.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),i.label=2;case 2:return this._status!==xe.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return i.sent(),[4,this.delay(1e3)];case 4:return i.sent(),[3,2];case 5:return[2]}})})},n.prototype.listenForUserAction=function(){var i=this,d=function(){return P(i,void 0,void 0,function(){return f(this,function(_){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",d,{once:!0})},n.prototype.establishAudio=function(){return P(this,void 0,void 0,function(){return f(this,function(i){return this._establishAudio(),[2]})})},Object.defineProperty(n.prototype,"systemVolume",{get:function(){return this._status===xe.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),n})(Re),de=new ht,rn=(function(){function u(){}return u.prototype.observe=function(){},u.prototype.unobserve=function(){},u.prototype.disconnect=function(){},u})(),Se=globalThis.ResizeObserver||rn,Fe=(function(){function u(){var n=this;this._elementsMap=new Map,this._onObservedEntry=function(i){var d=n._elementsMap.get(i.target);d!==null?d.onResize(i.target.clientWidth==0||i.target.clientHeight==0):n._resizeObserver.unobserve(i.target)},this._onObserved=function(i){i.forEach(n._onObservedEntry)},this._resizeObserver=new Se(this._onObserved)}return u.prototype.add=function(n,i){var d={onResize:i,element:n};return this._elementsMap.set(n,d),this._resizeObserver.observe(n),d},u.prototype.remove=function(n){this._resizeObserver.unobserve(n.element),this._elementsMap.delete(n.element)},u})(),Ye=new Fe,vt=(function(){function u(n){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.src=n.src,this.buffer=n.buffer,n.assetLoader&&(this.assetLoader=n.assetLoader),this.enableRiveAssetCDN=typeof n.enableRiveAssetCDN=="boolean"?n.enableRiveAssetCDN:!0,this.eventManager=new Re,n.onLoad&&this.on(B.Load,n.onLoad),n.onLoadError&&this.on(B.LoadError,n.onLoadError)}return u.prototype.initData=function(){return P(this,void 0,void 0,function(){var n,i,d,_,M;return f(this,function(O){switch(O.label){case 0:return this.src?(n=this,[4,Zn(this.src)]):[3,2];case 1:n.buffer=O.sent(),O.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(d=new R.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),i=d.assetLoader),_=this,[4,this.runtime.load(new Uint8Array(this.buffer),i,this.enableRiveAssetCDN)]);case 3:return _.file=O.sent(),this.destroyed?((M=this.file)===null||M===void 0||M.delete(),this.file=null,[2]):(this.file!==null?this.eventManager.fire({type:B.Load,data:this}):this.fireLoadError(u.fileLoadErrorMessage),[2])}})})},u.prototype.init=function(){return P(this,void 0,void 0,function(){var n,i;return f(this,function(d){switch(d.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(u.missingErrorMessage),[2];d.label=1;case 1:return d.trys.push([1,4,,5]),n=this,[4,ne.awaitInstance()];case 2:return n.runtime=d.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return d.sent(),[3,5];case 4:return i=d.sent(),this.fireLoadError(i instanceof Error?i.message:u.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},u.prototype.fireLoadError=function(n){throw this.eventManager.fire({type:B.LoadError,data:n}),new Error(n)},u.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},u.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},u.prototype.cleanup=function(){var n;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(n=this.file)===null||n===void 0||n.delete(),this.file=null,this.destroyed=!0)},u.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},u.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},u.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},u.prototype.getArtboard=function(n){var i=this.file.artboardByName(n);return i!=null?new q(i):null},u.missingErrorMessage="Rive source file or data buffer required",u.fileLoadErrorMessage="The file failed to load",u})(),he=(function(){function u(n){var i=this,d;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(_){var M=i._hasZeroSize!==_;i._hasZeroSize=_,_?(!i._layout.maxX||!i._layout.maxY)&&i.resizeToCanvas():M&&i.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=n.canvas,n.canvas.constructor===HTMLCanvasElement&&(this._observed=Ye.add(this.canvas,this.onCanvasResize)),this.src=n.src,this.buffer=n.buffer,this.riveFile=n.riveFile,this.layout=(d=n.layout)!==null&&d!==void 0?d:new Q,this.shouldDisableRiveListeners=!!n.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!n.isTouchScrollEnabled,this.automaticallyHandleEvents=!!n.automaticallyHandleEvents,this.enableRiveAssetCDN=n.enableRiveAssetCDN===void 0?!0:n.enableRiveAssetCDN,this.eventManager=new Re,n.onLoad&&this.on(B.Load,n.onLoad),n.onLoadError&&this.on(B.LoadError,n.onLoadError),n.onPlay&&this.on(B.Play,n.onPlay),n.onPause&&this.on(B.Pause,n.onPause),n.onStop&&this.on(B.Stop,n.onStop),n.onLoop&&this.on(B.Loop,n.onLoop),n.onStateChange&&this.on(B.StateChange,n.onStateChange),n.onAdvance&&this.on(B.Advance,n.onAdvance),n.onload&&!n.onLoad&&this.on(B.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(B.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(B.Play,n.onplay),n.onpause&&!n.onPause&&this.on(B.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(B.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(B.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(B.StateChange,n.onstatechange),n.assetLoader&&(this.assetLoader=n.assetLoader),this.taskQueue=new ke(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:n.autoplay,autoBind:n.autoBind,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return Object.defineProperty(u.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),u.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new u(n)},u.prototype.onSystemAudioChanged=function(){this.volume=this._volume},u.prototype.init=function(n){var i=this,d=n.src,_=n.buffer,M=n.riveFile,O=n.animations,Z=n.stateMachines,ae=n.artboard,G=n.autoplay,ce=G===void 0?!1:G,Ce=n.useOffscreenRenderer,Ve=Ce===void 0?!1:Ce,Le=n.autoBind,gt=Le===void 0?!1:Le;if(!this.destroyed){if(this.src=d,this.buffer=_,this.riveFile=M,!this.src&&!this.buffer&&!this.riveFile)throw new U(u.missingErrorMessage);var at=nt(O),Qe=nt(Z);this.loaded=!1,this.readyForPlaying=!1,ne.awaitInstance().then(function(Ze){i.destroyed||(i.runtime=Ze,i.removeRiveListeners(),i.deleteRiveRenderer(),i.renderer=i.runtime.makeRenderer(i.canvas,Ve),i.canvas.width||i.canvas.height||i.resizeDrawingSurfaceToCanvas(),i.initData(ae,at,Qe,ce,gt).then(function(st){if(st)return i.setupRiveListeners()}).catch(function(st){console.error(st)}))}).catch(function(Ze){console.error(Ze)})}},u.prototype.setupRiveListeners=function(n){var i=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var d=(this.animator.stateMachines||[]).filter(function(M){return M.playing&&i.runtime.hasListeners(M.instance)}).map(function(M){return M.instance}),_=this.isTouchScrollEnabled;n&&"isTouchScrollEnabled"in n&&(_=n.isTouchScrollEnabled),this.eventCleanup=(0,R.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:d,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:_,layoutScaleFactor:this._layout.layoutScaleFactor})}},u.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},u.prototype.initializeAudio=function(){var n=this,i;de.status==xe.UNAVAILABLE&&!((i=this.artboard)===null||i===void 0)&&i.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:B.AudioStatusChange,callback:function(){return n.onSystemAudioChanged()}},de.add(this._audioEventListener),de.establishAudio())},u.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},u.prototype.initData=function(n,i,d,_,M){return P(this,void 0,void 0,function(){var O,Z,ae,G;return f(this,function(ce){switch(ce.label){case 0:return ce.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(O=new vt({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=O,[4,O.init()]);case 1:if(ce.sent(),this.destroyed)return O.destroyIfUnused(),[2,!1];ce.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(n,i,d,_,M),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:B.Load,data:(G=this.src)!==null&&G!==void 0?G:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return Z=ce.sent(),ae=ee(Z),console.warn(ae),this.eventManager.fire({type:B.LoadError,data:ae}),[2,Promise.reject(ae)];case 4:return[2]}})})},u.prototype.initArtboard=function(n,i,d,_,M){if(this.file){var O=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!O){var Z="Invalid artboard name or no default artboard";console.warn(Z),this.eventManager.fire({type:B.LoadError,data:Z});return}if(this.artboard=O,O.volume=this._volume*de.systemVolume,this.artboard.animationCount()<1){var Z="Artboard has no animations";throw this.eventManager.fire({type:B.LoadError,data:Z}),Z}this.animator=new ie(this.runtime,this.artboard,this.eventManager);var ae;if(i.length>0||d.length>0?(ae=i.concat(d),this.animator.initLinearAnimations(i,_),this.animator.initStateMachines(d,_)):ae=[this.animator.atLeastOne(_,!1)],this.taskQueue.add({event:{type:_?B.Play:B.Pause,data:ae}}),M){var G=this.file.defaultArtboardViewModel(O);if(G!==null){var ce=G.defaultInstance();if(ce!==null){var Ce=new tt(ce,null);this.bindViewModelInstance(Ce)}}}}},u.prototype.drawFrame=function(){var n,i;!((n=document?.timeline)===null||n===void 0)&&n.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(i=this.runtime)===null||i===void 0||i.resolveAnimationFrame()):this.startRendering()},u.prototype.draw=function(n,i){var d;this.frameRequestId=null;var _=performance.now();this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,i?.());var M=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var O=this.animator.animations.filter(function(Mt){return Mt.playing||Mt.needsScrub}).sort(function(Mt){return Mt.needsScrub?-1:1}),Z=0,ae=O;Z<ae.length;Z++){var G=ae[Z];G.advance(M),G.instance.didLoop&&(G.loopCount+=1),G.apply(1)}for(var ce=this.animator.stateMachines.filter(function(Mt){return Mt.playing}),Ce=0,Ve=ce;Ce<Ve.length;Ce++){var Le=Ve[Ce],gt=Le.reportedEventCount();if(gt)for(var at=0;at<gt;at++){var Qe=Le.reportedEventAt(at);if(Qe)if(Qe.type===D.OpenUrl){if(this.eventManager.fire({type:B.RiveEvent,data:Qe}),this.automaticallyHandleEvents){var Ze=document.createElement("a"),st=Qe,Gt=st.url,qt=st.target,Et=(0,R.sanitizeUrl)(Gt);Gt&&Ze.setAttribute("href",Et),qt&&Ze.setAttribute("target",qt),Et&&Et!==R.BLANK_URL&&Ze.click()}}else this.eventManager.fire({type:B.RiveEvent,data:Qe})}Le.advanceAndApply(M)}this.animator.stateMachines.length==0&&this.artboard.advance(M);var re=this.renderer;re.clear(),re.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(re),re.restore(),re.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(M),this.frameCount++;var _e=performance.now();for(this.frameTimes.push(_e),this.durations.push(_e-_);this.frameTimes[0]<=_e-1e3;)this.frameTimes.shift(),this.durations.shift();(d=this._viewModelInstance)===null||d===void 0||d.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},u.prototype.alignRenderer=function(){var n=this,i=n.renderer,d=n.runtime,_=n._layout,M=n.artboard;i.align(_.runtimeFit(d),_.runtimeAlignment(d),{minX:_.minX,minY:_.minY,maxX:_.maxX,maxY:_.maxY},M.bounds,this._devicePixelRatioUsed*_.layoutScaleFactor)},Object.defineProperty(u.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,i){return n+i},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),u.prototype.cleanup=function(){var n,i;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Ye.remove(this._observed),this.removeRiveListeners(),this.file&&((n=this.riveFile)===null||n===void 0||n.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(de.remove(this._audioEventListener),this._audioEventListener=null),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=null,this._dataEnums=null},u.prototype.deleteRiveRenderer=function(){var n;(n=this.renderer)===null||n===void 0||n.delete(),this.renderer=null},u.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},u.prototype.retrieveTextRun=function(n){var i;if(!n){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var d=this.artboard.textRun(n);if(!d){console.warn("Could not access a text run with name '".concat(n,"' in the '").concat((i=this.artboard)===null||i===void 0?void 0:i.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return d},u.prototype.getTextRunValue=function(n){var i=this.retrieveTextRun(n);return i?i.text:void 0},u.prototype.setTextRunValue=function(n,i){var d=this.retrieveTextRun(n);d&&(d.text=i)},u.prototype.play=function(n,i){var d=this;if(n=nt(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return d.play(n,i)}});return}this.animator.play(n),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},u.prototype.pause=function(n){var i=this;if(n=nt(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.pause(n)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(n)},u.prototype.scrub=function(n,i){var d=this;if(n=nt(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return d.scrub(n,i)}});return}this.animator.scrub(n,i||0),this.drawFrame()},u.prototype.stop=function(n){var i=this;if(n=nt(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.stop(n)}});return}this.animator&&this.animator.stop(n),this.eventCleanup&&this.eventCleanup()},u.prototype.reset=function(n){var i,d,_=n?.artboard,M=nt(n?.animations),O=nt(n?.stateMachines),Z=(i=n?.autoplay)!==null&&i!==void 0?i:!1,ae=(d=n?.autoBind)!==null&&d!==void 0?d:!1;this.cleanupInstances(),this.initArtboard(_,M,O,Z,ae),this.taskQueue.process()},u.prototype.load=function(n){this.file=null,this.stop(),this.init(n)},Object.defineProperty(u.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),u.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},u.prototype.resizeDrawingSurfaceToCanvas=function(n){if(this.canvas instanceof HTMLCanvasElement&&window){var i=this.canvas.getBoundingClientRect(),d=i.width,_=i.height,M=n||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=M,this.canvas.width=M*d,this.canvas.height=M*_,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===te.Layout){var O=this._layout.layoutScaleFactor;this.artboard.width=d/O,this.artboard.height=_/O}}},Object.defineProperty(u.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.animationCount();i++)n.push(this.artboard.animationByIndex(i).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.stateMachineCount();i++)n.push(this.artboard.stateMachineByIndex(i).name);return n},enumerable:!1,configurable:!0}),u.prototype.stateMachineInputs=function(n){if(this.loaded){var i=this.animator.stateMachines.find(function(d){return d.name===n});return i?.inputs}},u.prototype.retrieveInputAtPath=function(n,i){if(!n){console.warn("No input name provided for path '".concat(i,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var d=this.artboard.inputByPath(n,i);if(!d){console.warn("Could not access an input with name: '".concat(n,"', at path:'").concat(i,"'"));return}return d},u.prototype.setBooleanStateAtPath=function(n,i,d){var _=this.retrieveInputAtPath(n,d);_&&(_.type===X.Boolean?_.asBool().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(d,"' is not a boolean")))},u.prototype.setNumberStateAtPath=function(n,i,d){var _=this.retrieveInputAtPath(n,d);_&&(_.type===X.Number?_.asNumber().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(d,"' is not a number")))},u.prototype.fireStateAtPath=function(n,i){var d=this.retrieveInputAtPath(n,i);d&&(d.type===X.Trigger?d.asTrigger().fire():console.warn("Input with name: '".concat(n,"', at path:'").concat(i,"' is not a trigger")))},u.prototype.retrieveTextAtPath=function(n,i){if(!n){console.warn("No text name provided for path '".concat(i,"'"));return}if(!i){console.warn("No path provided for text '".concat(n,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var d=this.artboard.textByPath(n,i);if(!d){console.warn("Could not access text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return d},u.prototype.getTextRunValueAtPath=function(n,i){var d=this.retrieveTextAtPath(n,i);if(!d){console.warn("Could not get text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return d.text},u.prototype.setTextRunValueAtPath=function(n,i,d){var _=this.retrieveTextAtPath(n,d);if(!_){console.warn("Could not set text with name: '".concat(n,"', at path:'").concat(d,"'"));return}_.text=i},Object.defineProperty(u.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),u.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},u.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},u.prototype.unsubscribe=function(n,i){console.warn("This function is deprecated: please use `off()` instead."),this.off(n,i)},u.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},u.prototype.unsubscribeAll=function(n){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(n)},u.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},u.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},u.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},u.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(u.prototype,"contents",{get:function(){if(this.loaded){for(var n={artboards:[]},i=0;i<this.file.artboardCount();i++){for(var d=this.file.artboardByIndex(i),_={name:d.name,animations:[],stateMachines:[]},M=0;M<d.animationCount();M++){var O=d.animationByIndex(M);_.animations.push(O.name)}for(var Z=0;Z<d.stateMachineCount();Z++){for(var ae=d.stateMachineByIndex(Z),G=ae.name,ce=new this.runtime.StateMachineInstance(ae,d),Ce=[],Ve=0;Ve<ce.inputCount();Ve++){var Le=ce.input(Ve);Ce.push({name:Le.name,type:Le.type})}_.stateMachines.push({name:G,inputs:Ce})}n.artboards.push(_)}return n}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(n){this._volume=n,this.artboard&&(this.artboard.volume=n*de.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"artboardWidth",{get:function(){var n;return this.artboard?this.artboard.width:(n=this._artboardWidth)!==null&&n!==void 0?n:0},set:function(n){this._artboardWidth=n,this.artboard&&(this.artboard.width=n)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"artboardHeight",{get:function(){var n;return this.artboard?this.artboard.height:(n=this._artboardHeight)!==null&&n!==void 0?n:0},set:function(n){this._artboardHeight=n,this.artboard&&(this.artboard.height=n)},enumerable:!1,configurable:!0}),u.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(u.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(n){this._devicePixelRatioUsed=n},enumerable:!1,configurable:!0}),u.prototype.bindViewModelInstance=function(n){var i;this.artboard&&!this.destroyed&&n&&n.runtimeInstance&&(n.internalIncrementReferenceCount(),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=n,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(d){return d.bindViewModelInstance(n)}):this.artboard.bindViewModelInstance(n.runtimeInstance))},Object.defineProperty(u.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),u.prototype.viewModelByIndex=function(n){var i=this.file.viewModelByIndex(n);return i!==null?new be(i):null},u.prototype.viewModelByName=function(n){var i=this.file.viewModelByName(n);return i!==null?new be(i):null},u.prototype.enums=function(){if(this._dataEnums===null){var n=this.file.enums();this._dataEnums=n.map(function(i){return new pt(i)})}return this._dataEnums},u.prototype.defaultViewModel=function(){if(this.artboard){var n=this.file.defaultArtboardViewModel(this.artboard);if(n)return new be(n)}return null},u.prototype.getArtboard=function(n){var i,d;return(d=(i=this.riveFile)===null||i===void 0?void 0:i.getArtboard(n))!==null&&d!==void 0?d:null},u.missingErrorMessage="Rive source file or data buffer required",u.cleanupErrorMessage="Attempt to use file after calling cleanup.",u})(),be=(function(){function u(n){this._viewModel=n}return Object.defineProperty(u.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),u.prototype.instanceByIndex=function(n){var i=this._viewModel.instanceByIndex(n);return i!==null?new tt(i,null):null},u.prototype.instanceByName=function(n){var i=this._viewModel.instanceByName(n);return i!==null?new tt(i,null):null},u.prototype.defaultInstance=function(){var n=this._viewModel.defaultInstance();return n!==null?new tt(n,null):null},u.prototype.instance=function(){var n=this._viewModel.instance();return n!==null?new tt(n,null):null},Object.defineProperty(u.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),u})(),pt=(function(){function u(n){this._dataEnum=n}return Object.defineProperty(u.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),u})(),Pe;(function(u){u.Number="number",u.String="string",u.Boolean="boolean",u.Color="color",u.Trigger="trigger",u.Enum="enum",u.List="list",u.Image="image",u.Artboard="artboard"})(Pe||(Pe={}));var tt=(function(){function u(n,i){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this._runtimeInstance=n,i!==null&&this._parents.push(i)}return Object.defineProperty(u.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),u.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(n){n.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(n){n.clearChanges()})),this._children.forEach(function(n){return n.handleCallbacks()})},u.prototype.addParent=function(n){this._parents.includes(n)||(this._parents.push(n),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&n.addToViewModelCallbacks(this))},u.prototype.removeParent=function(n){var i=this._parents.indexOf(n);if(i!==-1){var d=this._parents[i];d.removeFromViewModelCallbacks(this),this._parents.splice(i,1)}},u.prototype.addToPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)||(this._propertiesWithCallbacks.push(n),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(d){d.addToViewModelCallbacks(i)}))},u.prototype.removeFromPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(d){return d!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(d){d.removeFromViewModelCallbacks(i)}))},u.prototype.addToViewModelCallbacks=function(n){var i=this;this._children.includes(n)||(this._children.push(n),this._parents.forEach(function(d){d.addToViewModelCallbacks(i)}))},u.prototype.removeFromViewModelCallbacks=function(n){var i=this;this._children.includes(n)&&(this._children=this._children.filter(function(d){return d!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(d){d.removeFromViewModelCallbacks(i)}))},u.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(n){n.clearCallbacks()})},u.prototype.propertyFromPath=function(n,i){var d=n.split("/");return this.propertyFromPathSegments(d,0,i)},u.prototype.viewModelFromPathSegments=function(n,i){var d=this.internalViewModelInstance(n[i]);return d!==null?i==n.length-1?d:d.viewModelFromPathSegments(n,i++):null},u.prototype.propertyFromPathSegments=function(n,i,d){var _,M,O,Z,ae,G,ce,Ce,Ve,Le,gt,at,Qe,Ze,st,Gt,qt,Et;if(i<n.length-1){var re=this.internalViewModelInstance(n[i]);return re!==null?re.propertyFromPathSegments(n,i+1,d):null}var _e=null;switch(d){case Pe.Number:if(_e=(M=(_=this._runtimeInstance)===null||_===void 0?void 0:_.number(n[i]))!==null&&M!==void 0?M:null,_e!==null)return new zt(_e,this);break;case Pe.String:if(_e=(Z=(O=this._runtimeInstance)===null||O===void 0?void 0:O.string(n[i]))!==null&&Z!==void 0?Z:null,_e!==null)return new xt(_e,this);break;case Pe.Boolean:if(_e=(G=(ae=this._runtimeInstance)===null||ae===void 0?void 0:ae.boolean(n[i]))!==null&&G!==void 0?G:null,_e!==null)return new St(_e,this);break;case Pe.Color:if(_e=(Ce=(ce=this._runtimeInstance)===null||ce===void 0?void 0:ce.color(n[i]))!==null&&Ce!==void 0?Ce:null,_e!==null)return new Xt(_e,this);break;case Pe.Trigger:if(_e=(Le=(Ve=this._runtimeInstance)===null||Ve===void 0?void 0:Ve.trigger(n[i]))!==null&&Le!==void 0?Le:null,_e!==null)return new on(_e,this);break;case Pe.Enum:if(_e=(at=(gt=this._runtimeInstance)===null||gt===void 0?void 0:gt.enum(n[i]))!==null&&at!==void 0?at:null,_e!==null)return new Je(_e,this);break;case Pe.List:if(_e=(Ze=(Qe=this._runtimeInstance)===null||Qe===void 0?void 0:Qe.list(n[i]))!==null&&Ze!==void 0?Ze:null,_e!==null)return new mt(_e,this);break;case Pe.Image:if(_e=(Gt=(st=this._runtimeInstance)===null||st===void 0?void 0:st.image(n[i]))!==null&&Gt!==void 0?Gt:null,_e!==null)return new On(_e,this);break;case Pe.Artboard:if(_e=(Et=(qt=this._runtimeInstance)===null||qt===void 0?void 0:qt.artboard(n[i]))!==null&&Et!==void 0?Et:null,_e!==null)return new jt(_e,this);break}return null},u.prototype.internalViewModelInstance=function(n){var i;if(this._viewModelInstances.has(n))return this._viewModelInstances.get(n);var d=(i=this._runtimeInstance)===null||i===void 0?void 0:i.viewModel(n);if(d!==null){var _=new u(d,this);return _.internalIncrementReferenceCount(),this._viewModelInstances.set(n,_),_}return null},u.prototype.number=function(n){var i=this.propertyFromPath(n,Pe.Number);return i},u.prototype.string=function(n){var i=this.propertyFromPath(n,Pe.String);return i},u.prototype.boolean=function(n){var i=this.propertyFromPath(n,Pe.Boolean);return i},u.prototype.color=function(n){var i=this.propertyFromPath(n,Pe.Color);return i},u.prototype.trigger=function(n){var i=this.propertyFromPath(n,Pe.Trigger);return i},u.prototype.enum=function(n){var i=this.propertyFromPath(n,Pe.Enum);return i},u.prototype.list=function(n){var i=this.propertyFromPath(n,Pe.List);return i},u.prototype.image=function(n){var i=this.propertyFromPath(n,Pe.Image);return i},u.prototype.artboard=function(n){var i=this.propertyFromPath(n,Pe.Artboard);return i},u.prototype.viewModel=function(n){var i=n.split("/"),d=i.length>1?this.viewModelFromPathSegments(i.slice(0,i.length-1),0):this;return d!=null?d.internalViewModelInstance(i[i.length-1]):null},u.prototype.internalReplaceViewModel=function(n,i){var d;if(i.runtimeInstance!==null){var _=((d=this._runtimeInstance)===null||d===void 0?void 0:d.replaceViewModel(n,i.runtimeInstance))||!1;if(_){i.internalIncrementReferenceCount();var M=this.internalViewModelInstance(n);M!==null&&(M.removeParent(this),this._children.includes(M)&&(this._children=this._children.filter(function(O){return O!==M})),M.cleanup()),this._viewModelInstances.set(n,i),i.addParent(this)}return _}return!1},u.prototype.replaceViewModel=function(n,i){var d,_=n.split("/"),M=_.length>1?this.viewModelFromPathSegments(_.slice(0,_.length-1),0):this;return(d=M?.internalReplaceViewModel(_[_.length-1],i))!==null&&d!==void 0?d:!1},u.prototype.incrementReferenceCount=function(){var n;this._referenceCount++,(n=this._runtimeInstance)===null||n===void 0||n.incrementReferenceCount()},u.prototype.decrementReferenceCount=function(){var n;this._referenceCount--,(n=this._runtimeInstance)===null||n===void 0||n.decrementReferenceCount()},Object.defineProperty(u.prototype,"properties",{get:function(){var n;return((n=this._runtimeInstance)===null||n===void 0?void 0:n.getProperties().map(function(i){return x({},i)}))||[]},enumerable:!1,configurable:!0}),u.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},u.prototype.cleanup=function(){var n=this;if(this._referenceCount--,this._referenceCount<=0){this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(_){_.cleanup()}),this._viewModelInstances.clear();var i=F([],this._children,!0);this._children.length=0;var d=F([],this._parents,!0);this._parents.length=0,i.forEach(function(_){_.removeParent(n)}),d.forEach(function(_){_.removeFromViewModelCallbacks(n)})}},u})(),je=(function(){function u(n,i){this.callbacks=[],this._viewModelInstanceValue=n,this._parentViewModel=i}return u.prototype.on=function(n){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(n)||(this.callbacks.push(n),this._parentViewModel.addToPropertyCallbacks(this))},u.prototype.off=function(n){n?this.callbacks=this.callbacks.filter(function(i){return i!==n}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},u.prototype.internalHandleCallback=function(n){},u.prototype.handleCallbacks=function(){var n=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(i){n.internalHandleCallback(i)})},u.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},u.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(u.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),u})(),xt=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(je),zt=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(je),St=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(je),on=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return n.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},n.prototype.internalHandleCallback=function(i){i()},n})(je),Je=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(i){this._viewModelInstanceValue.valueIndex=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(je),mt=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),n.prototype.addInstance=function(i){i.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(i.runtimeInstance),i.addParent(this._parentViewModel))},n.prototype.addInstanceAt=function(i,d){return i.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(i.runtimeInstance,d)?(i.addParent(this._parentViewModel),!0):!1},n.prototype.removeInstance=function(i){i.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(i.runtimeInstance),i.removeParent(this._parentViewModel))},n.prototype.removeInstanceAt=function(i){this._viewModelInstanceValue.removeInstanceAt(i)},n.prototype.instanceAt=function(i){var d=this._viewModelInstanceValue.instanceAt(i);if(d!=null){var _=new tt(d,this._parentViewModel);return _}return null},n.prototype.swap=function(i,d){this._viewModelInstanceValue.swap(i,d)},n.prototype.internalHandleCallback=function(i){i()},n})(je),Xt=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.rgb=function(i,d,_){this._viewModelInstanceValue.rgb(i,d,_)},n.prototype.rgba=function(i,d,_,M){this._viewModelInstanceValue.argb(M,i,d,_)},n.prototype.argb=function(i,d,_,M){this._viewModelInstanceValue.argb(i,d,_,M)},n.prototype.alpha=function(i){this._viewModelInstanceValue.alpha(i)},n.prototype.opacity=function(i){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,i))*255))},n.prototype.internalHandleCallback=function(i){i(this.value)},n})(je),On=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{set:function(i){var d;this._viewModelInstanceValue.value((d=i?.nativeImage)!==null&&d!==void 0?d:null)},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i()},n})(je),jt=(function(u){T(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{set:function(i){var d;this._viewModelInstanceValue.value((d=i?.nativeArtboard)!==null&&d!==void 0?d:null)},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i()},n})(je),Zn=function(u){return P(void 0,void 0,void 0,function(){var n,i,d;return f(this,function(_){switch(_.label){case 0:return n=new Request(u),[4,fetch(n)];case 1:return i=_.sent(),[4,i.arrayBuffer()];case 2:return d=_.sent(),[2,d]}})})},nt=function(u){return typeof u=="string"?[u]:u instanceof Array?u:[]},Vr={EventManager:Re,TaskQueueManager:ke},er=function(u){return P(void 0,void 0,void 0,function(){var n,i,d;return f(this,function(_){switch(_.label){case 0:return n=new Promise(function(M){return ne.getInstance(function(O){O.decodeAudio(u,M)})}),[4,n];case 1:return i=_.sent(),d=new R.AudioWrapper(i),R.finalizationRegistry.register(d,i),[2,d]}})})},Ur=function(u){return P(void 0,void 0,void 0,function(){var n,i,d;return f(this,function(_){switch(_.label){case 0:return n=new Promise(function(M){return ne.getInstance(function(O){O.decodeImage(u,M)})}),[4,n];case 1:return i=_.sent(),d=new R.ImageWrapper(i),R.finalizationRegistry.register(d,i),[2,d]}})})},$t=function(u){return P(void 0,void 0,void 0,function(){var n,i,d;return f(this,function(_){switch(_.label){case 0:return n=new Promise(function(M){return ne.getInstance(function(O){O.decodeFont(u,M)})}),[4,n];case 1:return i=_.sent(),d=new R.FontWrapper(i),R.finalizationRegistry.register(d,i),[2,d]}})})}})(),y})())})(Er)),Er.exports}var du=fu();const Kn="/svelte_novella/assets/";var hu=Ke('<div class="main-container"><canvas width="400" height="500"></canvas></div>');function ko(o,s){Sr(s,!0);let c=Xe(void 0);console.log(s.fileName),xr(()=>{if(!oe(c))return;const y=new du.Rive({src:`${Kn}${s.fileName}`,canvas:oe(c),autoplay:!0,stateMachines:"SM1"});return()=>{y.cleanup()}});var v=hu(),p=$e(v);su(p,y=>ge(c,y),()=>oe(c)),De(o,v),jr()}var vu=Ke('<img alt="Background"/>'),pu=Ke('<div class="background-media svelte-103gu3v"><!></div>'),mu=Ke('<img alt="Character"/>'),gu=Ke('<div class="character-media svelte-103gu3v"><!></div>'),_u=(o,s,c)=>s(oe(c).nextDialogueId),yu=Ke('<button class="option-button svelte-103gu3v"> </button>'),wu=Ke('<div class="options-container svelte-103gu3v"></div>'),bu=Ke('<div class="error-overlay svelte-103gu3v"><p class="error-text svelte-103gu3v"> </p></div>'),Au=Ke('<div class="dialogue-container svelte-103gu3v"><!> <!> <div class="dialogue-content svelte-103gu3v"><div class="dialogue-text svelte-103gu3v"> </div> <!></div> <!> <!></div>');function Cu(o,s){Sr(s,!0);let c=Xe(null),v=Xe(null),p=Xe(null);xr(async()=>{});async function y(){try{if(ge(p,null),s.dialogue.backgroundImage)try{s.dialogue.backgroundImage.endsWith(".riv")||(ge(c,`${Kn}${s.dialogue.backgroundImage}`),await C(oe(c)))}catch{console.warn("Background not found:",s.dialogue.backgroundImage),ge(c,null)}if(s.dialogue.characterImage)try{s.dialogue.characterImage.endsWith(".riv")||(ge(v,`${Kn}${s.dialogue.characterImage}`),await C(oe(v)))}catch{console.warn("Character not found:",s.dialogue.characterImage),ge(v,null)}}catch(X){ge(p,"Ошибка загрузки медиа: "+X.message),console.error("Media loading error:",X),s.dialogue.backgroundImage?.endsWith(".riv")&&ge(c,null),s.dialogue.characterImage?.endsWith(".riv")&&ge(v,null)}finally{}}function C(X){return new Promise((S,D)=>{const q=new Image;q.onload=()=>S(X),q.onerror=()=>D(new Error(`Image not found: ${X}`)),q.src=X})}y();function I(X){const S=new CustomEvent("dialogueChange",{detail:{nextDialogueId:X}});window.dispatchEvent(S)}var A=Au(),R=$e(A);{var T=X=>{var S=pu(),D=$e(S);{var q=ie=>{var B=Or(),se=Tr(B);To(se,()=>s.dialogue.backgroundImage,Re=>{ko(Re,{get fileName(){return s.dialogue.backgroundImage}})}),De(ie,B)},J=ie=>{var B=vu();let se;Qt(Re=>{Oo(B,"src",oe(c)?oe(c):""),se=ci(B,1,"background-image svelte-103gu3v",null,se,Re)},[()=>({hidden:!oe(c)||!s.dialogue.backgroundImage.endsWith(".riv")})]),Po("error",B,()=>{ge(p,"Ошибка загрузки фона: "+s.dialogue.backgroundImage),ge(c,null)}),De(ie,B)};Tt(D,ie=>{s.dialogue.backgroundImage.endsWith(".riv")?ie(q):ie(J,!1)})}De(X,S)};Tt(R,X=>{s.dialogue.backgroundImage&&X(T)})}var x=At(R,2);{var P=X=>{var S=gu(),D=$e(S);{var q=ie=>{var B=Or(),se=Tr(B);To(se,()=>s.dialogue.characterImage,Re=>{ko(Re,{get fileName(){return s.dialogue.characterImage}})}),De(ie,B)},J=ie=>{var B=mu();let se;Qt(Re=>{Oo(B,"src",oe(v)?oe(v):""),se=ci(B,1,"character-image svelte-103gu3v",null,se,Re)},[()=>({hidden:!oe(v)||!s.dialogue.characterImageUrl.endsWith(".riv")})]),Po("error",B,()=>{ge(p,"Ошибка загрузки персонажа: "+s.dialogue.characterImage),ge(v,null)}),De(ie,B)};Tt(D,ie=>{s.dialogue.characterImage.endsWith(".riv")?ie(q):ie(J,!1)})}De(X,S)};Tt(x,X=>{s.dialogue.characterImage&&X(P)})}var f=At(x,2),F=$e(f),U=$e(F),ee=At(F,2);{var te=X=>{var S=wu();ga(S,21,()=>s.dialogue.options,D=>D.text,(D,q)=>{var J=yu();J.__click=[_u,I,q];var ie=$e(J);Qt(()=>Xn(ie,oe(q).text)),De(D,J)}),De(X,S)};Tt(ee,X=>{s.dialogue.options&&s.dialogue.options.length>0&&X(te)})}var $=At(f,2);{var Q=X=>{var S=bu(),D=$e(S),q=$e(D);Qt(()=>Xn(q,oe(p))),De(X,S)};Tt($,X=>{oe(p)&&X(Q)})}var ne=At($,2);Tt(ne,X=>{}),Qt(()=>Xn(U,`"${s.dialogue.text??""}"`)),De(o,A),jr()}pa(["click"]);function Eu(o,s){oe(s)>0&&Jo(s,-1)}function Mu(o,s){ge(s,0)}async function Iu(o,s,c,v,p){ge(s,!0),ge(c,"");try{await v(),ge(p,0)}catch(y){ge(c,"Ошибка перезагрузки: "+y.message)}finally{ge(s,!1)}}var Ru=Ke('<div class="loading"><p>🔄 Загрузка истории Дракулы...</p></div>'),Pu=Ke('<div class="error"> <div style="margin-top: 15px;"><button class="nav-button">🔄 Попробовать снова</button></div></div>'),Fu=(o,s)=>s(),Tu=Ke("<div></div>"),Lu=Ke('<div class="dialogues-container"><!> <div class="dots-navigation"></div> <div class="navigation"><button class="nav-button">← Назад</button> <button class="nav-button">Вперед →</button></div> <div class="progress-info"> </div></div>'),Ou=Ke('<div class="welcome-section"><h1 class="welcome-title">🧛‍♂️ Дракула: Интерактивная история</h1> <p class="welcome-text">Погрузитесь в атмосферную готическую историю с интерактивными диалогами.<br/> Принимайте решения, которые влияют на развитие сюжета.</p> <button class="start-button">🎭 Начать историю</button></div>'),xu=Ke('<div class="app"><!></div>');function Su(o,s){Sr(s,!0),hn({name:"Игрок"});let c=Xe(!0),v=Xe(""),p=Xe(hn([])),y=Xe(0);xr(async()=>{try{await C()}catch(F){ge(v,"Ошибка загрузки истории: "+F.message),console.error("Load error:",F)}finally{ge(c,!1)}});async function C(){try{console.log(`${Kn}dracula_story.json`);const F=await fetch(`${Kn}dracula_story.json`);if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const U=await F.json();if(!U.dialogues||!Array.isArray(U.dialogues))throw new Error("Неверный формат файла истории: отсутствует dialogues array");ge(p,U.dialogues,!0),console.log("Диалоги загружены:",oe(p).length)}catch(F){throw ge(v,"Ошибка загрузки истории: "+F.message),console.error("Load dialogues error:",F),F}}function I(F){const U=F.detail.nextDialogueId,ee=oe(p).findIndex(te=>te.id===U);if(ee!==-1)ge(y,ee,!0);else{const te=oe(p)[oe(y)];if(te.nextDialogueId){const $=oe(p).findIndex(Q=>Q.id===te.nextDialogueId);$!==-1&&ge(y,$,!0)}}}function A(){oe(y)<oe(p).length-1&&Jo(y)}function R(F){ge(y,F,!0)}xr(()=>(window.addEventListener("dialogueChange",I),()=>window.removeEventListener("dialogueChange",I)));var T=xu(),x=$e(T);{var P=F=>{var U=Ru();De(F,U)},f=F=>{var U=Or(),ee=Tr(U);{var te=Q=>{var ne=Pu(),X=$e(ne),S=At(X),D=$e(S);D.__click=[Iu,c,v,C,y],Qt(()=>Xn(X,`⚠️ ${oe(v)??""} `)),De(Q,ne)},$=Q=>{var ne=Or(),X=Tr(ne);{var S=q=>{var J=Lu();J.__click=[Fu,A];var ie=$e(J);Cu(ie,{get index(){return oe(y)},get dialogue(){return oe(p)[oe(y)]}});var B=At(ie,2);ga(B,21,()=>oe(p),Zs,(de,rn,Se)=>{var Fe=Tu();Fe.__click=()=>R(Se),Qt(()=>ci(Fe,1,`dot ${Se===oe(y)?"active":""}`)),De(de,Fe)});var se=At(B,2),Re=$e(se);Re.__click=[Eu,y];var ke=At(Re,2);ke.__click=A;var xe=At(se,2),ht=$e(xe);Qt(()=>{Re.disabled=oe(y)===0,ke.disabled=oe(y)===oe(p).length-1,Xn(ht,`Сцена ${oe(y)+1} из ${oe(p).length??""}`)}),De(q,J)},D=q=>{var J=Ou(),ie=At($e(J),4);ie.__click=[Mu,y],De(q,J)};Tt(X,q=>{oe(p).length>0?q(S):q(D,!1)},!0)}De(Q,ne)};Tt(ee,Q=>{oe(v)?Q(te):Q($,!1)},!0)}De(F,U)};Tt(x,F=>{oe(c)?F(P):F(f,!1)})}De(o,T),jr()}pa(["click"]);function ju(o){Su(o,{})}Ks(ju,{target:document.getElementById("app")});
