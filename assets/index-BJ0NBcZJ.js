(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))v(m);new MutationObserver(m=>{for(const w of m)if(w.type==="childList")for(const A of w.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&v(A)}).observe(document,{childList:!0,subtree:!0});function c(m){const w={};return m.integrity&&(w.integrity=m.integrity),m.referrerPolicy&&(w.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?w.credentials="include":m.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function v(m){if(m.ep)return;m.ep=!0;const w=c(m);fetch(m.href,w)}})();const Do=!1;var ci=Array.isArray,Xa=Array.prototype.indexOf,fi=Array.from,ii=Object.defineProperty,zn=Object.getOwnPropertyDescriptor,$a=Object.getOwnPropertyDescriptors,Ga=Object.prototype,qa=Array.prototype,Wo=Object.getPrototypeOf,yo=Object.isExtensible;function Ka(o){for(var s=0;s<o.length;s++)o[s]()}function Ja(){var o,s,c=new Promise((v,m)=>{o=v,s=m});return{promise:c,resolve:o,reject:s}}const at=2,di=4,hi=8,Rn=16,Ht=32,mn=64,Vo=128,ht=256,Er=512,Ge=1024,vt=2048,rn=4096,Ct=8192,Pn=16384,vi=32768,pi=65536,wo=1<<17,Qa=1<<18,Kn=1<<19,Za=1<<20,oi=1<<21,mi=1<<22,vn=1<<23,Ar=Symbol("$state"),gi=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function es(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function ts(o){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ns(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function rs(o){throw new Error("https://svelte.dev/e/effect_in_teardown")}function is(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function os(o){throw new Error("https://svelte.dev/e/effect_orphan")}function as(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ss(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function us(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ls(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const cs=1,fs=2,ds=16,hs=2,He=Symbol(),vs="http://www.w3.org/1999/xhtml";let ps=!1;function Uo(o){return o===this.v}function No(o,s){return o!=o?s==s:o!==s||o!==null&&typeof o=="object"||typeof o=="function"}function ms(o,s){return o!==s}function Bo(o){return!No(o,this.v)}let Jn=!1,gs=!1;function _s(){Jn=!0}let Ve=null;function Mr(o){Ve=o}function Or(o,s=!1,c){Ve={p:Ve,c:null,e:null,s:o,x:null,l:Jn&&!s?{s:null,u:null,$:[]}:null}}function xr(o){var s=Ve,c=s.e;if(c!==null){s.e=null;for(var v of c)na(v)}return Ve=s.p,{}}function Fn(){return!Jn||Ve!==null&&Ve.l===null}const ys=new WeakMap;function ws(o){var s=we;if(s===null)return ye.f|=vn,o;if((s.f&vi)===0){if((s.f&Vo)===0)throw!s.parent&&o instanceof Error&&Ho(o),o;s.b.error(o)}else _i(o,s)}function _i(o,s){for(;s!==null;){if((s.f&Vo)!==0)try{s.b.error(o);return}catch(c){o=c}s=s.parent}throw o instanceof Error&&Ho(o),o}function Ho(o){const s=ys.get(o);s&&(ii(o,"message",{value:s.message}),ii(o,"stack",{value:s.stack}))}let Ir=[];function bs(){var o=Ir;Ir=[],Ka(o)}function Yo(o){Ir.length===0&&queueMicrotask(bs),Ir.push(o)}function As(){for(var o=we.b;o!==null&&!o.has_pending_snippet();)o=o.parent;return o===null&&es(),o}function zo(o){var s=at|vt,c=ye!==null&&(ye.f&at)!==0?ye:null;return we===null||c!==null&&(c.f&ht)!==0?s|=ht:we.f|=Kn,{ctx:Ve,deps:null,effects:null,equals:Uo,f:s,fn:o,reactions:null,rv:0,v:He,wv:0,parent:c??we,ac:null}}function Cs(o,s){let c=we;c===null&&ns();var v=c.b,m=void 0,w=Gn(He),A=null,E=!ye;return Ws(()=>{try{var C=o();A&&Promise.resolve(C).catch(()=>{})}catch(f){C=Promise.reject(f)}var R=()=>C;m=A?.then(R,R)??Promise.resolve(C),A=m;var F=Ye,x=v.pending;E&&(v.update_pending_count(1),x||F.increment());const P=(f,O=void 0)=>{A=null,x||F.activate(),O?O!==gi&&(w.f|=vn,Pr(w,O)):((w.f&vn)!==0&&(w.f^=vn),Pr(w,f)),E&&(v.update_pending_count(-1),x||F.decrement()),qo()};if(m.then(P,f=>P(null,f||"unknown")),F)return()=>{queueMicrotask(()=>F.neuter())}}),new Promise(C=>{function R(F){function x(){F===m?C(w):R(m)}F.then(x,x)}R(m)})}function Xo(o){const s=zo(o);return s.equals=Bo,s}function $o(o){var s=o.effects;if(s!==null){o.effects=null;for(var c=0;c<s.length;c+=1)Bt(s[c])}}function Es(o){for(var s=o.parent;s!==null;){if((s.f&at)===0)return s;s=s.parent}return null}function yi(o){var s,c=we;nn(Es(o));try{$o(o),s=fa(o)}finally{nn(c)}return s}function Go(o){var s=yi(o);if(o.equals(s)||(o.v=s,o.wv=la()),!Ln){var c=(en||(o.f&ht)!==0)&&o.deps!==null?rn:Ge;tt(o,c)}}function Ms(o,s,c){const v=Fn()?zo:Xo;if(s.length===0){c(o.map(v));return}var m=Ye,w=we,A=Is(),E=As();Promise.all(s.map(C=>Cs(C))).then(C=>{m?.activate(),A();try{c([...o.map(v),...C])}catch(R){(w.f&Pn)===0&&_i(R,w)}m?.deactivate(),qo()}).catch(C=>{E.error(C)})}function Is(){var o=we,s=ye,c=Ve,v=Ye;return function(){nn(o),Ot(s),Mr(c),v?.activate()}}function qo(){nn(null),Ot(null),Mr(null)}const ti=new Set;let Ye=null,bo=new Set,Rr=[];function Ko(){const o=Rr.shift();Rr.length>0&&queueMicrotask(Ko),o()}let $n=[],wi=null,ai=!1;class En{current=new Map;#u=new Map;#i=new Set;#e=0;#l=null;#c=!1;#n=[];#o=[];#r=[];#t=[];#a=[];#f=[];#d=[];skipped_effects=new Set;process(s){$n=[];for(const m of s)this.#v(m);if(this.#n.length===0&&this.#e===0){this.#h();var c=this.#r,v=this.#t;this.#r=[],this.#t=[],this.#a=[],Ye=null,Ao(c),Ao(v),Ye===null?Ye=this:ti.delete(this),this.#l?.resolve()}else this.#s(this.#r),this.#s(this.#t),this.#s(this.#a);for(const m of this.#n)Cn(m);for(const m of this.#o)Cn(m);this.#n=[],this.#o=[]}#v(s){s.f^=Ge;for(var c=s.first;c!==null;){var v=c.f,m=(v&(Ht|mn))!==0,w=m&&(v&Ge)!==0,A=w||(v&Ct)!==0||this.skipped_effects.has(c);if(!A&&c.fn!==null){if(m)c.f^=Ge;else if((v&di)!==0)this.#t.push(c);else if((v&Ge)===0)if((v&mi)!==0){var E=c.b?.pending?this.#o:this.#n;E.push(c)}else kr(c)&&((c.f&Rn)!==0&&this.#a.push(c),Cn(c));var C=c.first;if(C!==null){c=C;continue}}var R=c.parent;for(c=c.next;c===null&&R!==null;)c=R.next,R=R.parent}}#s(s){for(const c of s)((c.f&vt)!==0?this.#f:this.#d).push(c),tt(c,Ge);s.length=0}capture(s,c){this.#u.has(s)||this.#u.set(s,c),this.current.set(s,s.v)}activate(){Ye=this}deactivate(){Ye=null;for(const s of bo)if(bo.delete(s),s(),Ye!==null)break}neuter(){this.#c=!0}flush(){$n.length>0?Rs():this.#h(),Ye===this&&(this.#e===0&&ti.delete(this),this.deactivate())}#h(){if(!this.#c)for(const s of this.#i)s();this.#i.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const s of this.#f)tt(s,vt),Mn(s);for(const s of this.#d)tt(s,rn),Mn(s);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(s){this.#i.add(s)}settled(){return(this.#l??=Ja()).promise}static ensure(){if(Ye===null){const s=Ye=new En;ti.add(Ye),En.enqueue(()=>{Ye===s&&s.flush()})}return Ye}static enqueue(s){Rr.length===0&&queueMicrotask(Ko),Rr.unshift(s)}}function Rs(){var o=An;ai=!0;try{var s=0;for(Eo(!0);$n.length>0;){var c=En.ensure();if(s++>1e3){var v,m;Ps()}c.process($n),tn.clear()}}finally{ai=!1,Eo(o),wi=null}}function Ps(){try{as()}catch(o){_i(o,wi)}}let dn=null;function Ao(o){var s=o.length;if(s!==0){for(var c=0;c<s;){var v=o[c++];if((v.f&(Pn|Ct))===0&&kr(v)&&(dn=[],Cn(v),v.deps===null&&v.first===null&&v.nodes_start===null&&(v.teardown===null&&v.ac===null?oa(v):v.fn=null),dn?.length>0)){tn.clear();for(const m of dn)Cn(m);dn=[]}}dn=null}}function Mn(o){for(var s=wi=o;s.parent!==null;){s=s.parent;var c=s.f;if(ai&&s===we&&(c&Rn)!==0)return;if((c&(mn|Ht))!==0){if((c&Ge)===0)return;s.f^=Ge}}$n.push(s)}const tn=new Map;function Gn(o,s){var c={f:0,v:o,reactions:null,equals:Uo,rv:0,wv:0};return c}function Xe(o,s){const c=Gn(o);return Bs(c),c}function Fs(o,s=!1,c=!0){const v=Gn(o);return s||(v.equals=Bo),Jn&&c&&Ve!==null&&Ve.l!==null&&(Ve.l.s??=[]).push(v),v}function ge(o,s,c=!1){ye!==null&&(!Lt||(ye.f&wo)!==0)&&Fn()&&(ye.f&(at|Rn|mi|wo))!==0&&!Nt?.includes(o)&&ls();let v=c?hn(s):s;return Pr(o,v)}function Pr(o,s){if(!o.equals(s)){var c=o.v;Ln?tn.set(o,s):tn.set(o,c),o.v=s;var v=En.ensure();v.capture(o,c),(o.f&at)!==0&&((o.f&vt)!==0&&yi(o),tt(o,(o.f&ht)===0?Ge:rn)),o.wv=la(),Qo(o,vt),Fn()&&we!==null&&(we.f&Ge)!==0&&(we.f&(Ht|mn))===0&&(dt===null?Hs([o]):dt.push(o))}return s}function Jo(o,s=1){var c=ae(o),v=s===1?c++:c--;return ge(o,c),v}function ni(o){ge(o,o.v+1)}function Qo(o,s){var c=o.reactions;if(c!==null)for(var v=Fn(),m=c.length,w=0;w<m;w++){var A=c[w],E=A.f;if(!(!v&&A===we)){var C=(E&vt)===0;C&&tt(A,s),(E&at)!==0?Qo(A,rn):C&&((E&Rn)!==0&&dn!==null&&dn.push(A),Mn(A))}}}function hn(o){if(typeof o!="object"||o===null||Ar in o)return o;const s=Wo(o);if(s!==Ga&&s!==qa)return o;var c=new Map,v=ci(o),m=Xe(0),w=pn,A=E=>{if(pn===w)return E();var C=ye,R=pn;Ot(null),Io(w);var F=E();return Ot(C),Io(R),F};return v&&c.set("length",Xe(o.length)),new Proxy(o,{defineProperty(E,C,R){(!("value"in R)||R.configurable===!1||R.enumerable===!1||R.writable===!1)&&ss();var F=c.get(C);return F===void 0?F=A(()=>{var x=Xe(R.value);return c.set(C,x),x}):ge(F,R.value,!0),!0},deleteProperty(E,C){var R=c.get(C);if(R===void 0){if(C in E){const F=A(()=>Xe(He));c.set(C,F),ni(m)}}else ge(R,He),ni(m);return!0},get(E,C,R){if(C===Ar)return o;var F=c.get(C),x=C in E;if(F===void 0&&(!x||zn(E,C)?.writable)&&(F=A(()=>{var f=hn(x?E[C]:He),O=Xe(f);return O}),c.set(C,F)),F!==void 0){var P=ae(F);return P===He?void 0:P}return Reflect.get(E,C,R)},getOwnPropertyDescriptor(E,C){var R=Reflect.getOwnPropertyDescriptor(E,C);if(R&&"value"in R){var F=c.get(C);F&&(R.value=ae(F))}else if(R===void 0){var x=c.get(C),P=x?.v;if(x!==void 0&&P!==He)return{enumerable:!0,configurable:!0,value:P,writable:!0}}return R},has(E,C){if(C===Ar)return!0;var R=c.get(C),F=R!==void 0&&R.v!==He||Reflect.has(E,C);if(R!==void 0||we!==null&&(!F||zn(E,C)?.writable)){R===void 0&&(R=A(()=>{var P=F?hn(E[C]):He,f=Xe(P);return f}),c.set(C,R));var x=ae(R);if(x===He)return!1}return F},set(E,C,R,F){var x=c.get(C),P=C in E;if(v&&C==="length")for(var f=R;f<x.v;f+=1){var O=c.get(f+"");O!==void 0?ge(O,He):f in E&&(O=A(()=>Xe(He)),c.set(f+"",O))}if(x===void 0)(!P||zn(E,C)?.writable)&&(x=A(()=>Xe(void 0)),ge(x,hn(R)),c.set(C,x));else{P=x.v!==He;var $=A(()=>hn(R));ge(x,$)}var z=Reflect.getOwnPropertyDescriptor(E,C);if(z?.set&&z.set.call(F,R),!P){if(v&&typeof C=="string"){var Q=c.get("length"),G=Number(C);Number.isInteger(G)&&G>=Q.v&&ge(Q,G+1)}ni(m)}return!0},ownKeys(E){ae(m);var C=Reflect.ownKeys(E).filter(x=>{var P=c.get(x);return P===void 0||P.v!==He});for(var[R,F]of c)F.v!==He&&!(R in E)&&C.push(R);return C},setPrototypeOf(){us()}})}var Co,Zo,ea,ta;function Ts(){if(Co===void 0){Co=window,Zo=/Firefox/.test(navigator.userAgent);var o=Element.prototype,s=Node.prototype,c=Text.prototype;ea=zn(s,"firstChild").get,ta=zn(s,"nextSibling").get,yo(o)&&(o.__click=void 0,o.__className=void 0,o.__attributes=null,o.__style=void 0,o.__e=void 0),yo(c)&&(c.__t=void 0)}}function Tn(o=""){return document.createTextNode(o)}function bi(o){return ea.call(o)}function Sr(o){return ta.call(o)}function $e(o,s){return bi(o)}function Fr(o,s){{var c=bi(o);return c instanceof Comment&&c.data===""?Sr(c):c}}function At(o,s=1,c=!1){let v=o;for(;s--;)v=Sr(v);return v}function Ls(o){o.textContent=""}function Ai(){return!1}function Ci(o){var s=ye,c=we;Ot(null),nn(null);try{return o()}finally{Ot(s),nn(c)}}function Os(o){we===null&&ye===null&&os(),ye!==null&&(ye.f&ht)!==0&&we===null&&is(),Ln&&rs()}function xs(o,s){var c=s.last;c===null?s.last=s.first=o:(c.next=o,o.prev=c,s.last=o)}function Yt(o,s,c,v=!0){var m=we;m!==null&&(m.f&Ct)!==0&&(o|=Ct);var w={ctx:Ve,deps:null,nodes_start:null,nodes_end:null,f:o|vt,first:null,fn:s,last:null,next:null,parent:m,b:m&&m.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(c)try{Cn(w),w.f|=vi}catch(C){throw Bt(w),C}else s!==null&&Mn(w);if(v){var A=w;if(c&&A.deps===null&&A.teardown===null&&A.nodes_start===null&&A.first===A.last&&(A.f&Kn)===0&&(A=A.first),A!==null&&(A.parent=m,m!==null&&xs(A,m),ye!==null&&(ye.f&at)!==0&&(o&mn)===0)){var E=ye;(E.effects??=[]).push(A)}}return w}function Ss(o){const s=Yt(hi,null,!1);return tt(s,Ge),s.teardown=o,s}function js(o){Os();var s=we.f,c=!ye&&(s&Ht)!==0&&(s&vi)===0;if(c){var v=Ve;(v.e??=[]).push(o)}else return na(o)}function na(o){return Yt(di|Za,o,!1)}function ks(o){En.ensure();const s=Yt(mn|Kn,o,!0);return(c={})=>new Promise(v=>{c.outro?jr(s,()=>{Bt(s),v(void 0)}):(Bt(s),v(void 0))})}function Ds(o){return Yt(di,o,!1)}function Ws(o){return Yt(mi|Kn,o,!0)}function Vs(o,s=0){return Yt(hi|s,o,!0)}function Zt(o,s=[],c=[]){Ms(s,c,v=>{Yt(hi,()=>o(...v.map(ae)),!0)})}function Ei(o,s=0){var c=Yt(Rn|s,o,!0);return c}function In(o,s=!0){return Yt(Ht|Kn,o,!0,s)}function ra(o){var s=o.teardown;if(s!==null){const c=Ln,v=ye;Mo(!0),Ot(null);try{s.call(null)}finally{Mo(c),Ot(v)}}}function ia(o,s=!1){var c=o.first;for(o.first=o.last=null;c!==null;){const m=c.ac;m!==null&&Ci(()=>{m.abort(gi)});var v=c.next;(c.f&mn)!==0?c.parent=null:Bt(c,s),c=v}}function Us(o){for(var s=o.first;s!==null;){var c=s.next;(s.f&Ht)===0&&Bt(s),s=c}}function Bt(o,s=!0){var c=!1;(s||(o.f&Qa)!==0)&&o.nodes_start!==null&&o.nodes_end!==null&&(Ns(o.nodes_start,o.nodes_end),c=!0),ia(o,s&&!c),Tr(o,0),tt(o,Pn);var v=o.transitions;if(v!==null)for(const w of v)w.stop();ra(o);var m=o.parent;m!==null&&m.first!==null&&oa(o),o.next=o.prev=o.teardown=o.ctx=o.deps=o.fn=o.nodes_start=o.nodes_end=o.ac=null}function Ns(o,s){for(;o!==null;){var c=o===s?null:Sr(o);o.remove(),o=c}}function oa(o){var s=o.parent,c=o.prev,v=o.next;c!==null&&(c.next=v),v!==null&&(v.prev=c),s!==null&&(s.first===o&&(s.first=v),s.last===o&&(s.last=c))}function jr(o,s){var c=[];Mi(o,c,!0),aa(c,()=>{Bt(o),s&&s()})}function aa(o,s){var c=o.length;if(c>0){var v=()=>--c||s();for(var m of o)m.out(v)}else s()}function Mi(o,s,c){if((o.f&Ct)===0){if(o.f^=Ct,o.transitions!==null)for(const A of o.transitions)(A.is_global||c)&&s.push(A);for(var v=o.first;v!==null;){var m=v.next,w=(v.f&pi)!==0||(v.f&Ht)!==0;Mi(v,s,w?c:!1),v=m}}}function Ii(o){sa(o,!0)}function sa(o,s){if((o.f&Ct)!==0){o.f^=Ct,(o.f&Ge)===0&&(tt(o,vt),Mn(o));for(var c=o.first;c!==null;){var v=c.next,m=(c.f&pi)!==0||(c.f&Ht)!==0;sa(c,m?s:!1),c=v}if(o.transitions!==null)for(const w of o.transitions)(w.is_global||s)&&w.in()}}let An=!1;function Eo(o){An=o}let Ln=!1;function Mo(o){Ln=o}let ye=null,Lt=!1;function Ot(o){ye=o}let we=null;function nn(o){we=o}let Nt=null;function Bs(o){ye!==null&&(Nt===null?Nt=[o]:Nt.push(o))}let Ke=null,ot=0,dt=null;function Hs(o){dt=o}let ua=1,qn=0,pn=qn;function Io(o){pn=o}let en=!1;function la(){return++ua}function kr(o){var s=o.f;if((s&vt)!==0)return!0;if((s&rn)!==0){var c=o.deps,v=(s&ht)!==0;if(c!==null){var m,w,A=(s&Er)!==0,E=v&&we!==null&&!en,C=c.length;if((A||E)&&(we===null||(we.f&Pn)===0)){var R=o,F=R.parent;for(m=0;m<C;m++)w=c[m],(A||!w?.reactions?.includes(R))&&(w.reactions??=[]).push(R);A&&(R.f^=Er),E&&F!==null&&(F.f&ht)===0&&(R.f^=ht)}for(m=0;m<C;m++)if(w=c[m],kr(w)&&Go(w),w.wv>o.wv)return!0}(!v||we!==null&&!en)&&tt(o,Ge)}return!1}function ca(o,s,c=!0){var v=o.reactions;if(v!==null&&!Nt?.includes(o))for(var m=0;m<v.length;m++){var w=v[m];(w.f&at)!==0?ca(w,s,!1):s===w&&(c?tt(w,vt):(w.f&Ge)!==0&&tt(w,rn),Mn(w))}}function fa(o){var s=Ke,c=ot,v=dt,m=ye,w=en,A=Nt,E=Ve,C=Lt,R=pn,F=o.f;Ke=null,ot=0,dt=null,en=(F&ht)!==0&&(Lt||!An||ye===null),ye=(F&(Ht|mn))===0?o:null,Nt=null,Mr(o.ctx),Lt=!1,pn=++qn,o.ac!==null&&(Ci(()=>{o.ac.abort(gi)}),o.ac=null);try{o.f|=oi;var x=o.fn,P=x(),f=o.deps;if(Ke!==null){var O;if(Tr(o,ot),f!==null&&ot>0)for(f.length=ot+Ke.length,O=0;O<Ke.length;O++)f[ot+O]=Ke[O];else o.deps=f=Ke;if(!en||(F&at)!==0&&o.reactions!==null)for(O=ot;O<f.length;O++)(f[O].reactions??=[]).push(o)}else f!==null&&ot<f.length&&(Tr(o,ot),f.length=ot);if(Fn()&&dt!==null&&!Lt&&f!==null&&(o.f&(at|rn|vt))===0)for(O=0;O<dt.length;O++)ca(dt[O],o);return m!==null&&m!==o&&(qn++,dt!==null&&(v===null?v=dt:v.push(...dt))),(o.f&vn)!==0&&(o.f^=vn),P}catch($){return ws($)}finally{o.f^=oi,Ke=s,ot=c,dt=v,ye=m,en=w,Nt=A,Mr(E),Lt=C,pn=R}}function Ys(o,s){let c=s.reactions;if(c!==null){var v=Xa.call(c,o);if(v!==-1){var m=c.length-1;m===0?c=s.reactions=null:(c[v]=c[m],c.pop())}}c===null&&(s.f&at)!==0&&(Ke===null||!Ke.includes(s))&&(tt(s,rn),(s.f&(ht|Er))===0&&(s.f^=Er),$o(s),Tr(s,0))}function Tr(o,s){var c=o.deps;if(c!==null)for(var v=s;v<c.length;v++)Ys(o,c[v])}function Cn(o){var s=o.f;if((s&Pn)===0){tt(o,Ge);var c=we,v=An;we=o,An=!0;try{(s&Rn)!==0?Us(o):ia(o),ra(o);var m=fa(o);o.teardown=typeof m=="function"?m:null,o.wv=ua;var w;Do&&gs&&(o.f&vt)!==0&&o.deps}finally{An=v,we=c}}}function ae(o){var s=o.f,c=(s&at)!==0;if(ye!==null&&!Lt){var v=we!==null&&(we.f&Pn)!==0;if(!v&&!Nt?.includes(o)){var m=ye.deps;if((ye.f&oi)!==0)o.rv<qn&&(o.rv=qn,Ke===null&&m!==null&&m[ot]===o?ot++:Ke===null?Ke=[o]:(!en||!Ke.includes(o))&&Ke.push(o));else{(ye.deps??=[]).push(o);var w=o.reactions;w===null?o.reactions=[ye]:w.includes(ye)||w.push(ye)}}}else if(c&&o.deps===null&&o.effects===null){var A=o,E=A.parent;E!==null&&(E.f&ht)===0&&(A.f^=ht)}if(Ln){if(tn.has(o))return tn.get(o);if(c){A=o;var C=A.v;return((A.f&Ge)===0&&A.reactions!==null||da(A))&&(C=yi(A)),tn.set(A,C),C}}else c&&(A=o,kr(A)&&Go(A));if((o.f&vn)!==0)throw o.v;return o.v}function da(o){if(o.v===He)return!0;if(o.deps===null)return!1;for(const s of o.deps)if(tn.has(s)||(s.f&at)!==0&&da(s))return!0;return!1}function ha(o){var s=Lt;try{return Lt=!0,o()}finally{Lt=s}}const zs=-7169;function tt(o,s){o.f=o.f&zs|s}const Xs=["touchstart","touchmove"];function $s(o){return Xs.includes(o)}const va=new Set,si=new Set;function Gs(o,s,c,v={}){function m(w){if(v.capture||Yn.call(s,w),!w.cancelBubble)return Ci(()=>c?.call(this,w))}return o.startsWith("pointer")||o.startsWith("touch")||o==="wheel"?Yo(()=>{s.addEventListener(o,m,v)}):s.addEventListener(o,m,v),m}function Ro(o,s,c,v,m){var w={capture:v,passive:m},A=Gs(o,s,c,w);(s===document.body||s===window||s===document||s instanceof HTMLMediaElement)&&Ss(()=>{s.removeEventListener(o,A,w)})}function pa(o){for(var s=0;s<o.length;s++)va.add(o[s]);for(var c of si)c(o)}let Po=null;function Yn(o){var s=this,c=s.ownerDocument,v=o.type,m=o.composedPath?.()||[],w=m[0]||o.target;Po=o;var A=0,E=Po===o&&o.__root;if(E){var C=m.indexOf(E);if(C!==-1&&(s===document||s===window)){o.__root=s;return}var R=m.indexOf(s);if(R===-1)return;C<=R&&(A=C)}if(w=m[A]||o.target,w!==s){ii(o,"currentTarget",{configurable:!0,get(){return w||c}});var F=ye,x=we;Ot(null),nn(null);try{for(var P,f=[];w!==null;){var O=w.assignedSlot||w.parentNode||w.host||null;try{var $=w["__"+v];if($!=null&&(!w.disabled||o.target===w))if(ci($)){var[z,...Q]=$;z.apply(w,[o,...Q])}else $.call(w,o)}catch(G){P?f.push(G):P=G}if(o.cancelBubble||O===s||O===null)break;w=O}if(P){for(let G of f)queueMicrotask(()=>{throw G});throw P}}finally{o.__root=s,delete o.currentTarget,Ot(F),nn(x)}}}function qs(o){var s=document.createElement("template");return s.innerHTML=o.replaceAll("<!>","<!---->"),s.content}function ma(o,s){var c=we;c.nodes_start===null&&(c.nodes_start=o,c.nodes_end=s)}function Je(o,s){var c=(s&hs)!==0,v,m=!o.startsWith("<!>");return()=>{v===void 0&&(v=qs(m?o:"<!>"+o),v=bi(v));var w=c||Zo?document.importNode(v,!0):v.cloneNode(!0);return ma(w,w),w}}function Lr(){var o=document.createDocumentFragment(),s=document.createComment(""),c=Tn();return o.append(s,c),ma(s,c),o}function We(o,s){o!==null&&o.before(s)}function Xn(o,s){var c=s==null?"":typeof s=="object"?s+"":s;c!==(o.__t??=o.nodeValue)&&(o.__t=c,o.nodeValue=c+"")}function Ks(o,s){return Js(o,s)}const bn=new Map;function Js(o,{target:s,anchor:c,props:v={},events:m,context:w,intro:A=!0}){Ts();var E=new Set,C=x=>{for(var P=0;P<x.length;P++){var f=x[P];if(!E.has(f)){E.add(f);var O=$s(f);s.addEventListener(f,Yn,{passive:O});var $=bn.get(f);$===void 0?(document.addEventListener(f,Yn,{passive:O}),bn.set(f,1)):bn.set(f,$+1)}}};C(fi(va)),si.add(C);var R=void 0,F=ks(()=>{var x=c??s.appendChild(Tn());return In(()=>{if(w){Or({});var P=Ve;P.c=w}m&&(v.$$events=m),R=o(x,v)||{},w&&xr()}),()=>{for(var P of E){s.removeEventListener(P,Yn);var f=bn.get(P);--f===0?(document.removeEventListener(P,Yn),bn.delete(P)):bn.set(P,f)}si.delete(C),x!==c&&x.parentNode?.removeChild(x)}});return Qs.set(R,F),R}let Qs=new WeakMap;function Tt(o,s,c=!1){var v=o,m=null,w=null,A=He,E=c?pi:0,C=!1;const R=(f,O=!0)=>{C=!0,P(O,f)};var F=null;function x(){F!==null&&(F.lastChild.remove(),v.before(F),F=null);var f=A?m:w,O=A?w:m;f&&Ii(f),O&&jr(O,()=>{A?w=null:m=null})}const P=(f,O)=>{if(A!==(A=f)){var $=Ai(),z=v;if($&&(F=document.createDocumentFragment(),F.append(z=Tn())),A?m??=O&&In(()=>O(z)):w??=O&&In(()=>O(z)),$){var Q=Ye,G=A?m:w,te=A?w:m;G&&Q.skipped_effects.delete(G),te&&Q.skipped_effects.add(te),Q.add_callback(x)}else x()}};Ei(()=>{C=!1,s(R),C||P(null,null)},E)}function Fo(o,s,c){var v=o,m=He,w,A,E=null,C=Fn()?ms:No;function R(){w&&jr(w),E!==null&&(E.lastChild.remove(),v.before(E),E=null),w=A}Ei(()=>{if(C(m,m=s())){var F=v,x=Ai();x&&(E=document.createDocumentFragment(),E.append(F=Tn())),A=In(()=>c(F)),x?Ye.add_callback(R):R()}})}function Zs(o,s){return s}function eu(o,s,c){for(var v=o.items,m=[],w=s.length,A=0;A<w;A++)Mi(s[A].e,m,!0);var E=w>0&&m.length===0&&c!==null;if(E){var C=c.parentNode;Ls(C),C.append(c),v.clear(),Ft(o,s[0].prev,s[w-1].next)}aa(m,()=>{for(var R=0;R<w;R++){var F=s[R];E||(v.delete(F.k),Ft(o,F.prev,F.next)),Bt(F.e,!E)}})}function ga(o,s,c,v,m,w=null){var A=o,E={flags:s,items:new Map,first:null};{var C=o;A=C.appendChild(Tn())}var R=null,F=!1,x=new Map,P=Xo(()=>{var z=c();return ci(z)?z:z==null?[]:fi(z)}),f,O;function $(){tu(O,f,E,x,A,m,s,v,c),w!==null&&(f.length===0?R?Ii(R):R=In(()=>w(A)):R!==null&&jr(R,()=>{R=null}))}Ei(()=>{O??=we,f=ae(P);var z=f.length;if(!(F&&z===0)){F=z===0;var Q,G,te,ne;if(Ai()){var H=new Set,S=Ye;for(G=0;G<z;G+=1){te=f[G],ne=v(te,G);var D=E.items.get(ne)??x.get(ne);D?_a(D,te,G):(Q=ya(null,E,null,null,te,ne,G,m,s,c,!0),x.set(ne,Q)),H.add(ne)}for(const[J,Z]of E.items)H.has(J)||S.skipped_effects.add(Z.e);S.add_callback($)}else $();ae(P)}})}function tu(o,s,c,v,m,w,A,E,C){var R=s.length,F=c.items,x=c.first,P=x,f,O=null,$=[],z=[],Q,G,te,ne;for(ne=0;ne<R;ne+=1){if(Q=s[ne],G=E(Q,ne),te=F.get(G),te===void 0){var H=v.get(G);if(H!==void 0){v.delete(G),F.set(G,H);var S=O?O.next:P;Ft(c,O,H),Ft(c,H,S),ri(H,S,m),O=H}else{var D=P?P.e.nodes_start:m;O=ya(D,c,O,O===null?c.first:O.next,Q,G,ne,w,A,C)}F.set(G,O),$=[],z=[],P=O.next;continue}if(_a(te,Q,ne),(te.e.f&Ct)!==0&&Ii(te.e),te!==P){if(f!==void 0&&f.has(te)){if($.length<z.length){var J=z[0],Z;O=J.prev;var re=$[0],U=$[$.length-1];for(Z=0;Z<$.length;Z+=1)ri($[Z],J,m);for(Z=0;Z<z.length;Z+=1)f.delete(z[Z]);Ft(c,re.prev,U.next),Ft(c,O,re),Ft(c,U,J),P=J,O=U,ne-=1,$=[],z=[]}else f.delete(te),ri(te,P,m),Ft(c,te.prev,te.next),Ft(c,te,O===null?c.first:O.next),Ft(c,O,te),O=te;continue}for($=[],z=[];P!==null&&P.k!==G;)(P.e.f&Ct)===0&&(f??=new Set).add(P),z.push(P),P=P.next;if(P===null)continue;te=P}$.push(te),O=te,P=te.next}if(P!==null||f!==void 0){for(var oe=f===void 0?[]:fi(f);P!==null;)(P.e.f&Ct)===0&&oe.push(P),P=P.next;var Re=oe.length;if(Re>0){var je=R===0?m:null;eu(c,oe,je)}}o.first=c.first&&c.first.e,o.last=O&&O.e;for(var Oe of v.values())Bt(Oe.e);v.clear()}function _a(o,s,c,v){Pr(o.v,s),o.i=c}function ya(o,s,c,v,m,w,A,E,C,R,F){var x=(C&cs)!==0,P=(C&ds)===0,f=x?P?Fs(m,!1,!1):Gn(m):m,O=(C&fs)===0?A:Gn(A),$={i:O,v:f,k:w,a:null,e:null,prev:c,next:v};try{if(o===null){var z=document.createDocumentFragment();z.append(o=Tn())}return $.e=In(()=>E(o,f,O,R),ps),$.e.prev=c&&c.e,$.e.next=v&&v.e,c===null?F||(s.first=$):(c.next=$,c.e.next=$.e),v!==null&&(v.prev=$,v.e.prev=$.e),$}finally{}}function ri(o,s,c){for(var v=o.next?o.next.e.nodes_start:c,m=s?s.e.nodes_start:c,w=o.e.nodes_start;w!==null&&w!==v;){var A=Sr(w);m.before(w),w=A}}function Ft(o,s,c){s===null?o.first=c:(s.next=c,s.e.next=c&&c.e),c!==null&&(c.prev=s,c.e.prev=s&&s.e)}const To=[...` 	
\r\f \v\uFEFF`];function nu(o,s,c){var v=o==null?"":""+o;if(s&&(v=v?v+" "+s:s),c){for(var m in c)if(c[m])v=v?v+" "+m:m;else if(v.length)for(var w=m.length,A=0;(A=v.indexOf(m,A))>=0;){var E=A+w;(A===0||To.includes(v[A-1]))&&(E===v.length||To.includes(v[E]))?v=(A===0?"":v.substring(0,A))+v.substring(E+1):A=E}}return v===""?null:v}function ui(o,s,c,v,m,w){var A=o.__className;if(A!==c||A===void 0){var E=nu(c,v,w);E==null?o.removeAttribute("class"):o.className=E,o.__className=c}else if(w&&m!==w)for(var C in w){var R=!!w[C];(m==null||R!==!!m[C])&&o.classList.toggle(C,R)}return w}const ru=Symbol("is custom element"),iu=Symbol("is html");function Lo(o,s,c,v){var m=ou(o);m[s]!==(m[s]=c)&&(c==null?o.removeAttribute(s):typeof c!="string"&&au(o).includes(s)?o[s]=c:o.setAttribute(s,c))}function ou(o){return o.__attributes??={[ru]:o.nodeName.includes("-"),[iu]:o.namespaceURI===vs}}var Oo=new Map;function au(o){var s=o.getAttribute("is")||o.nodeName,c=Oo.get(s);if(c)return c;Oo.set(s,c=[]);for(var v,m=o,w=Element.prototype;w!==m;){v=$a(m);for(var A in v)v[A].set&&c.push(A);m=Wo(m)}return c}function xo(o,s){return o===s||o?.[Ar]===s}function su(o={},s,c,v){return Ds(()=>{var m,w;return Vs(()=>{m=w,w=[],ha(()=>{o!==c(...w)&&(s(o,...w),m&&xo(c(...m),o)&&s(null,...m))})}),()=>{Yo(()=>{w&&xo(c(...w),o)&&s(null,...w)})}}),o}function li(o){Ve===null&&ts(),Jn&&Ve.l!==null?uu(Ve).m.push(o):js(()=>{const s=ha(o);if(typeof s=="function")return s})}function uu(o){var s=o.l;return s.u??={a:[],b:[],m:[]}}const lu="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(lu);_s();var Cr={exports:{}},cu=Cr.exports,So;function fu(){return So||(So=1,(function(o,s){(function(v,m){o.exports=m()})(cu,()=>(()=>{var c=[,((A,E,C)=>{C.r(E),C.d(E,{default:()=>F});var R=(()=>{var x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return(function(P={}){var f=P,O,$;f.ready=new Promise((e,t)=>{O=e,$=t});function z(){function e(p){const b=a;r=t=0,a=new Map,b.forEach(M=>{try{M(p)}catch(y){console.error(y)}}),this.pb(),l&&l.Tb()}let t=0,r=0,a=new Map,l=null,h=null;this.requestAnimationFrame=function(p){t||(t=requestAnimationFrame(e.bind(this)));const b=++r;return a.set(b,p),b},this.cancelAnimationFrame=function(p){a.delete(p),t&&a.size==0&&(cancelAnimationFrame(t),t=0)},this.Rb=function(p){h&&(document.body.remove(h),h=null),p||(h=document.createElement("div"),h.style.backgroundColor="black",h.style.position="fixed",h.style.right=0,h.style.top=0,h.style.color="white",h.style.padding="4px",h.innerHTML="RIVE FPS",p=function(b){h.innerHTML="RIVE FPS "+b.toFixed(1)},document.body.appendChild(h)),l=new function(){let b=0,M=0;this.Tb=function(){var y=performance.now();M?(++b,y-=M,1e3<y&&(p(1e3*b/y),b=M=0)):(M=y,b=0)}}},this.Ob=function(){h&&(document.body.remove(h),h=null),l=null},this.pb=function(){}}function Q(e){console.assert(!0);const t=new Map;let r=-1/0;this.push=function(a){return a=a+((1<<e)-1)>>e,t.has(a)&&clearTimeout(t.get(a)),t.set(a,setTimeout(function(){t.delete(a),t.length==0?r=-1/0:a==r&&(r=Math.max(...t.keys()),console.assert(r<a))},1e3)),r=Math.max(a,r),r<<e}}const G=f.onRuntimeInitialized;f.onRuntimeInitialized=function(){G&&G();let e=f.decodeAudio;f.decodeAudio=function(l,h){l=e(l),h(l)};let t=f.decodeFont;f.decodeFont=function(l,h){l=t(l),h(l)};const r=f.FileAssetLoader;f.ptrToAsset=l=>{let h=f.ptrToFileAsset(l);return h.isImage?f.ptrToImageAsset(l):h.isFont?f.ptrToFontAsset(l):h.isAudio?f.ptrToAudioAsset(l):h},f.CustomFileAssetLoader=r.extend("CustomFileAssetLoader",{__construct:function({loadContents:l}){this.__parent.__construct.call(this),this.Gb=l},loadContents:function(l,h){return l=f.ptrToAsset(l),this.Gb(l,h)}}),f.CDNFileAssetLoader=r.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(l){let h=f.ptrToAsset(l);return l=h.cdnUuid,l===""?!1:((function(p,b){var M=new XMLHttpRequest;M.responseType="arraybuffer",M.onreadystatechange=function(){M.readyState==4&&M.status==200&&b(M)},M.open("GET",p,!0),M.send(null)})(h.cdnBaseUrl+"/"+l,p=>{h.decode(new Uint8Array(p.response))}),!0)}}),f.FallbackFileAssetLoader=r.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.lb=[]},addLoader:function(l){this.lb.push(l)},loadContents:function(l,h){for(let p of this.lb)if(p.loadContents(l,h))return!0;return!1}});let a=f.computeAlignment;f.computeAlignment=function(l,h,p,b,M=1){return a.call(this,l,h,p,b,M)}};const te="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),ne=new function(){function e(){if(!t){let Ee=function(B,Ae,Fe){if(Ae=V.createShader(Ae),V.shaderSource(Ae,Fe),V.compileShader(Ae),Fe=V.getShaderInfoLog(Ae),0<(Fe||"").length)throw Fe;V.attachShader(B,Ae)};var K=Ee,g=document.createElement("canvas"),j={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let V;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(V=g.getContext("webgl",j),r=1,!V)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(V=g.getContext("webgl2",j))r=2;else if(V=g.getContext("webgl",j))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(V=new Proxy(V,{get(B,Ae){if(B.isContextLost()){if(M||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Ae),M=!0),typeof B[Ae]=="function")return function(){}}else return typeof B[Ae]=="function"?function(...Fe){return B[Ae].apply(B,Fe)}:B[Ae]},set(B,Ae,Fe){if(B.isContextLost())M||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Ae),M=!0);else return B[Ae]=Fe,!0}}),a=Math.min(V.getParameter(V.MAX_RENDERBUFFER_SIZE),V.getParameter(V.MAX_TEXTURE_SIZE)),g=V.createProgram(),Ee(g,V.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),Ee(g,V.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),V.bindAttribLocation(g,0,"vertex"),V.bindAttribLocation(g,1,"uv"),V.linkProgram(g),j=V.getProgramInfoLog(g),0<(j||"").trim().length)throw j;l=V.getUniformLocation(g,"mat"),h=V.getUniformLocation(g,"translate"),V.useProgram(g),V.bindBuffer(V.ARRAY_BUFFER,V.createBuffer()),V.enableVertexAttribArray(0),V.enableVertexAttribArray(1),V.bindBuffer(V.ELEMENT_ARRAY_BUFFER,V.createBuffer()),V.uniform1i(V.getUniformLocation(g,"image"),0),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t=V}return!0}let t=null,r=0,a=0,l=null,h=null,p=0,b=0,M=!1;e(),this.hc=function(){return e(),a},this.Mb=function(g){t.deleteTexture&&t.deleteTexture(g)},this.Lb=function(g){if(!e())return null;const j=t.createTexture();return j?(t.bindTexture(t.TEXTURE_2D,j),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,g),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),r==2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),j):null};const y=new Q(8),k=new Q(8),W=new Q(10),Y=new Q(10);this.Qb=function(g,j,K,V,Ee){if(e()){var B=y.push(g),Ae=k.push(j);if(t.canvas){(t.canvas.width!=B||t.canvas.height!=Ae)&&(t.canvas.width=B,t.canvas.height=Ae),t.viewport(0,Ae-j,g,j),t.disable(t.SCISSOR_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.SCISSOR_TEST),K.sort((pe,Pt)=>Pt.xb-pe.xb),B=W.push(V),p!=B&&(t.bufferData(t.ARRAY_BUFFER,8*B,t.DYNAMIC_DRAW),p=B),B=0;for(var Fe of K)t.bufferSubData(t.ARRAY_BUFFER,B,Fe.Ua),B+=4*Fe.Ua.length;console.assert(B==4*V);for(var Rt of K)t.bufferSubData(t.ARRAY_BUFFER,B,Rt.Db),B+=4*Rt.Db.length;console.assert(B==8*V),B=Y.push(Ee),b!=B&&(t.bufferData(t.ELEMENT_ARRAY_BUFFER,2*B,t.DYNAMIC_DRAW),b=B),Fe=0;for(var ln of K)t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,Fe,ln.indices),Fe+=2*ln.indices.length;console.assert(Fe==2*Ee),ln=0,Rt=!0,B=Fe=0;for(const pe of K){pe.image.Ka!=ln&&(t.bindTexture(t.TEXTURE_2D,pe.image.Ja||null),ln=pe.image.Ka),pe.mc?(t.scissor(pe.Za,Ae-pe.$a-pe.kb,pe.Ac,pe.kb),Rt=!0):Rt&&(t.scissor(0,Ae-j,g,j),Rt=!1),K=2/g;const Pt=-2/j;t.uniform4f(l,pe.ha[0]*K*pe.Ba,pe.ha[1]*Pt*pe.Ca,pe.ha[2]*K*pe.Ba,pe.ha[3]*Pt*pe.Ca),t.uniform2f(h,pe.ha[4]*K*pe.Ba+K*(pe.Za-pe.ic*pe.Ba)-1,pe.ha[5]*Pt*pe.Ca+Pt*(pe.$a-pe.jc*pe.Ca)+1),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,B),t.vertexAttribPointer(1,2,t.FLOAT,!1,0,B+4*V),t.drawElements(t.TRIANGLES,pe.indices.length,t.UNSIGNED_SHORT,Fe),B+=4*pe.Ua.length,Fe+=2*pe.indices.length}console.assert(B==4*V),console.assert(Fe==2*Ee)}}},this.canvas=function(){return e()&&t.canvas}},H=f.onRuntimeInitialized;f.onRuntimeInitialized=function(){function e(T){switch(T){case y.srcOver:return"source-over";case y.screen:return"screen";case y.overlay:return"overlay";case y.darken:return"darken";case y.lighten:return"lighten";case y.colorDodge:return"color-dodge";case y.colorBurn:return"color-burn";case y.hardLight:return"hard-light";case y.softLight:return"soft-light";case y.difference:return"difference";case y.exclusion:return"exclusion";case y.multiply:return"multiply";case y.hue:return"hue";case y.saturation:return"saturation";case y.color:return"color";case y.luminosity:return"luminosity"}}function t(T){return"rgba("+((16711680&T)>>>16)+","+((65280&T)>>>8)+","+((255&T)>>>0)+","+((4278190080&T)>>>24)/255+")"}function r(){0<Ae.length&&(ne.Qb(B.drawWidth(),B.drawHeight(),Ae,Fe,Rt),Ae=[],Rt=Fe=0,B.reset(512,512));for(const T of Ee){for(const N of T.H)N();T.H=[]}Ee.clear()}H&&H();var a=f.RenderPaintStyle;const l=f.RenderPath,h=f.RenderPaint,p=f.Renderer,b=f.StrokeCap,M=f.StrokeJoin,y=f.BlendMode,k=a.fill,W=a.stroke,Y=f.FillRule.evenOdd;let g=1;var j=f.RenderImage.extend("CanvasRenderImage",{__construct:function({la:T,xa:N}={}){this.__parent.__construct.call(this),this.Ka=g,g=g+1&2147483647||1,this.la=T,this.xa=N},__destruct:function(){this.Ja&&(ne.Mb(this.Ja),URL.revokeObjectURL(this.Xa)),this.__parent.__destruct.call(this)},decode:function(T){var N=this;N.xa&&N.xa(N);var fe=new Image;N.Xa=URL.createObjectURL(new Blob([T],{type:"image/png"})),fe.onload=function(){N.Fb=fe,N.Ja=ne.Lb(fe),N.size(fe.width,fe.height),N.la&&N.la(N)},fe.src=N.Xa}}),K=l.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(T,N,fe,me,le,ve,Me){var Ie=this.T,bt=Ie.addPath;T=T.T;const Ne=new DOMMatrix;Ne.a=N,Ne.b=fe,Ne.c=me,Ne.d=le,Ne.e=ve,Ne.f=Me,bt.call(Ie,T,Ne)},fillRule:function(T){this.Wa=T},moveTo:function(T,N){this.T.moveTo(T,N)},lineTo:function(T,N){this.T.lineTo(T,N)},cubicTo:function(T,N,fe,me,le,ve){this.T.bezierCurveTo(T,N,fe,me,le,ve)},close:function(){this.T.closePath()}}),V=h.extend("CanvasRenderPaint",{color:function(T){this.Ya=t(T)},thickness:function(T){this.Ib=T},join:function(T){switch(T){case M.miter:this.Ia="miter";break;case M.round:this.Ia="round";break;case M.bevel:this.Ia="bevel"}},cap:function(T){switch(T){case b.butt:this.Ha="butt";break;case b.round:this.Ha="round";break;case b.square:this.Ha="square"}},style:function(T){this.Hb=T},blendMode:function(T){this.Eb=e(T)},clearGradient:function(){this.ja=null},linearGradient:function(T,N,fe,me){this.ja={zb:T,Ab:N,cb:fe,eb:me,Ra:[]}},radialGradient:function(T,N,fe,me){this.ja={zb:T,Ab:N,cb:fe,eb:me,Ra:[],ec:!0}},addStop:function(T,N){this.ja.Ra.push({color:T,stop:N})},completeGradient:function(){},draw:function(T,N,fe){let me=this.Hb;var le=this.Ya,ve=this.ja;if(T.globalCompositeOperation=this.Eb,ve!=null){le=ve.zb;var Me=ve.Ab;const bt=ve.cb;var Ie=ve.eb;const Ne=ve.Ra;ve.ec?(ve=bt-le,Ie-=Me,le=T.createRadialGradient(le,Me,0,le,Me,Math.sqrt(ve*ve+Ie*Ie))):le=T.createLinearGradient(le,Me,bt,Ie);for(let ft=0,Be=Ne.length;ft<Be;ft++)Me=Ne[ft],le.addColorStop(Me.stop,t(Me.color));this.Ya=le,this.ja=null}switch(me){case W:T.strokeStyle=le,T.lineWidth=this.Ib,T.lineCap=this.Ha,T.lineJoin=this.Ia,T.stroke(N);break;case k:T.fillStyle=le,T.fill(N,fe)}}});const Ee=new Set;let B=null,Ae=[],Fe=0,Rt=0;var ln=f.CanvasRenderer=p.extend("Renderer",{__construct:function(T){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=T.getContext("2d"),this.Va=T,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const T=this.S.length-6;if(6>T)throw"restore() called without matching save().";this.S.splice(T),this.H.push(this.C.restore.bind(this.C))},transform:function(T,N,fe,me,le,ve){const Me=this.S,Ie=Me.length-6;Me.splice(Ie,6,Me[Ie]*T+Me[Ie+2]*N,Me[Ie+1]*T+Me[Ie+3]*N,Me[Ie]*fe+Me[Ie+2]*me,Me[Ie+1]*fe+Me[Ie+3]*me,Me[Ie]*le+Me[Ie+2]*ve+Me[Ie+4],Me[Ie+1]*le+Me[Ie+3]*ve+Me[Ie+5]),this.H.push(this.C.transform.bind(this.C,T,N,fe,me,le,ve))},rotate:function(T){const N=Math.sin(T);T=Math.cos(T),this.transform(T,N,-N,T,0,0)},_drawPath:function(T,N){this.H.push(N.draw.bind(N,this.C,T.T,T.Wa===Y?"evenodd":"nonzero"))},_drawRiveImage:function(T,N,fe,me){var le=T.Fb;if(le){var ve=this.C,Me=e(fe);this.H.push(function(){ve.globalCompositeOperation=Me,ve.globalAlpha=me,ve.drawImage(le,0,0),ve.globalAlpha=1})}},_getMatrix:function(T){const N=this.S,fe=N.length-6;for(let me=0;6>me;++me)T[me]=N[fe+me]},_drawImageMesh:function(T,N,fe,me,le,ve,Me,Ie,bt,Ne,ft){N=this.C.canvas.width;var Be=this.C.canvas.height;const vo=Ne-Ie,po=ft-bt;Ie=Math.max(Ie,0),bt=Math.max(bt,0),Ne=Math.min(Ne,N),ft=Math.min(ft,Be);const Bn=Ne-Ie,Hn=ft-bt;if(console.assert(Bn<=Math.min(vo,N)),console.assert(Hn<=Math.min(po,Be)),!(0>=Bn||0>=Hn)){Ne=Bn<vo||Hn<po,N=ft=1;var cn=Math.ceil(Bn*ft),fn=Math.ceil(Hn*N);Be=ne.hc(),cn>Be&&(ft*=Be/cn,cn=Be),fn>Be&&(N*=Be/fn,fn=Be),B||(B=new f.DynamicRectanizer(Be),B.reset(512,512)),Be=B.addRect(cn,fn),0>Be&&(r(),Ee.add(this),Be=B.addRect(cn,fn),console.assert(0<=Be));var mo=Be&65535,go=Be>>16;Ae.push({ha:this.S.slice(this.S.length-6),image:T,Za:mo,$a:go,ic:Ie,jc:bt,Ac:cn,kb:fn,Ba:ft,Ca:N,Ua:new Float32Array(le),Db:new Float32Array(ve),indices:new Uint16Array(Me),mc:Ne,xb:T.Ka<<1|(Ne?1:0)}),Fe+=le.length,Rt+=Me.length;var wn=this.C,za=e(fe);this.H.push(function(){wn.save(),wn.resetTransform(),wn.globalCompositeOperation=za,wn.globalAlpha=me;const _o=ne.canvas();_o&&wn.drawImage(_o,mo,go,cn,fn,Ie,bt,Bn,Hn),wn.restore()})}},_clipPath:function(T){this.H.push(this.C.clip.bind(this.C,T.T,T.Wa===Y?"evenodd":"nonzero"))},clear:function(){Ee.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Va.width,this.Va.height))},flush:function(){},translate:function(T,N){this.transform(1,0,0,1,T,N)}});f.makeRenderer=function(T){const N=new ln(T),fe=N.C;return new Proxy(N,{get(me,le){if(typeof me[le]=="function")return function(...ve){return me[le].apply(me,ve)};if(typeof fe[le]=="function"){if(-1<te.indexOf(le))throw Error("RiveException: Method call to '"+le+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...ve){N.H.push(fe[le].bind(fe,...ve))}}return me[le]},set(me,le,ve){if(le in fe)return N.H.push(()=>{fe[le]=ve}),!0}})},f.decodeImage=function(T,N){new j({la:N}).decode(T)},f.renderFactory={makeRenderPaint:function(){return new V},makeRenderPath:function(){return new K},makeRenderImage:function(){let T=Pt;return new j({xa:()=>{T.total++},la:()=>{if(T.loaded++,T.loaded===T.total){const N=T.ready;N&&(N(),T.ready=null)}}})}};let pe=f.load,Pt=null;f.load=function(T,N,fe=!0){const me=new f.FallbackFileAssetLoader;return N!==void 0&&me.addLoader(N),fe&&(N=new f.CDNFileAssetLoader,me.addLoader(N)),new Promise(function(le){let ve=null;Pt={total:0,loaded:0,ready:function(){le(ve)}},ve=pe(T,me),Pt.total==0&&le(ve)})};let Ya=f.RendererWrapper.prototype.align;f.RendererWrapper.prototype.align=function(T,N,fe,me,le=1){Ya.call(this,T,N,fe,me,le)},a=new z,f.requestAnimationFrame=a.requestAnimationFrame.bind(a),f.cancelAnimationFrame=a.cancelAnimationFrame.bind(a),f.enableFPSCounter=a.Rb.bind(a),f.disableFPSCounter=a.Ob,a.pb=r,f.resolveAnimationFrame=r,f.cleanup=function(){B&&B.delete()}};var S=Object.assign({},f),D="./this.program",J=typeof window=="object",Z=typeof importScripts=="function",re="",U,oe;(J||Z)&&(Z?re=self.location.href:typeof document<"u"&&document.currentScript&&(re=document.currentScript.src),x&&(re=x),re.indexOf("blob:")!==0?re=re.substr(0,re.replace(/[?#].*/,"").lastIndexOf("/")+1):re="",Z&&(oe=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),U=(e,t,r)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{a.status==200||a.status==0&&a.response?t(a.response):r()},a.onerror=r,a.send(null)});var Re=f.print||console.log.bind(console),je=f.printErr||console.error.bind(console);Object.assign(f,S),S=null,f.thisProgram&&(D=f.thisProgram);var Oe;f.wasmBinary&&(Oe=f.wasmBinary),f.noExitRuntime,typeof WebAssembly!="object"&&$t("no native wasm support detected");var st,de,zt=!1,ke,Te,De,qe,he,be,pt,Pe;function nt(){var e=st.buffer;f.HEAP8=ke=new Int8Array(e),f.HEAP16=De=new Int16Array(e),f.HEAP32=he=new Int32Array(e),f.HEAPU8=Te=new Uint8Array(e),f.HEAPU16=qe=new Uint16Array(e),f.HEAPU32=be=new Uint32Array(e),f.HEAPF32=pt=new Float32Array(e),f.HEAPF64=Pe=new Float64Array(e)}var Se,xt=[],Xt=[],St=[];function on(){var e=f.preRun.shift();xt.unshift(e)}var Qe=0,mt=null;function $t(e){throw f.onAbort&&f.onAbort(e),e="Aborted("+e+")",je(e),zt=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),$(e),e}function On(e){return e.startsWith("data:application/octet-stream;base64,")}var jt;if(jt="canvas_advanced.wasm",!On(jt)){var Qn=jt;jt=f.locateFile?f.locateFile(Qn,re):re+Qn}function rt(e){if(e==jt&&Oe)return new Uint8Array(Oe);if(oe)return oe(e);throw"both async and sync fetching of the wasm failed"}function Dr(e){if(!Oe&&(J||Z)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>rt(e));if(U)return new Promise((t,r)=>{U(e,a=>t(new Uint8Array(a)),r)})}return Promise.resolve().then(()=>rt(e))}function Zn(e,t,r){return Dr(e).then(a=>WebAssembly.instantiate(a,t)).then(a=>a).then(r,a=>{je("failed to asynchronously prepare wasm: "+a),$t(a)})}function Wr(e,t){var r=jt;return Oe||typeof WebAssembly.instantiateStreaming!="function"||On(r)||r.startsWith("file://")||typeof fetch!="function"?Zn(r,e,t):fetch(r,{credentials:"same-origin"}).then(a=>WebAssembly.instantiateStreaming(a,e).then(t,function(l){return je("wasm streaming compile failed: "+l),je("falling back to ArrayBuffer instantiation"),Zn(r,e,t)}))}var Gt,u,n={460492:(e,t,r,a,l)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=e,window.h.I.capture=t,window.h.I.La=r,window.h.ga={},window.h.ga.stopped=a,window.h.ga.yb=l;let h=window.h;h.D=[],h.yc=function(p){for(var b=0;b<h.D.length;++b)if(h.D[b]==null)return h.D[b]=p,b;return h.D.push(p),h.D.length-1},h.Cb=function(p){for(h.D[p]=null;0<h.D.length&&h.D[h.D.length-1]==null;)h.D.pop()},h.Sc=function(p){for(var b=0;b<h.D.length;++b)if(h.D[b]==p)return h.Cb(b)},h.ra=function(p){return h.D[p]},h.Ta=["touchend","click"],h.unlock=function(){for(var p=0;p<h.D.length;++p){var b=h.D[p];b!=null&&b.J!=null&&b.state===h.ga.yb&&b.J.resume().then(()=>{uo(b.qb)},M=>{console.error("Failed to resume audiocontext",M)})}h.Ta.map(function(M){document.removeEventListener(M,h.unlock,!0)})},h.Ta.map(function(p){document.addEventListener(p,h.unlock,!0)})}return window.h.Aa+=1,1},462670:()=>{typeof window.h<"u"&&(window.h.Ta.map(function(e){document.removeEventListener(e,window.h.unlock,!0)}),--window.h.Aa,window.h.Aa===0&&delete window.h)},462974:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,463078:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch{return 0}},463249:(e,t,r,a,l,h)=>{if(typeof window.h>"u")return-1;var p={},b={};return e==window.h.I.ya&&r!=0&&(b.sampleRate=r),p.J=new(window.AudioContext||window.webkitAudioContext)(b),p.J.suspend(),p.state=window.h.ga.stopped,r=0,e!=window.h.I.ya&&(r=t),p.Z=p.J.createScriptProcessor(a,r,t),p.Z.onaudioprocess=function(M){if((p.sa==null||p.sa.length==0)&&(p.sa=new Float32Array(pt.buffer,l,a*t)),e==window.h.I.capture||e==window.h.I.La){for(var y=0;y<t;y+=1)for(var k=M.inputBuffer.getChannelData(y),W=p.sa,Y=0;Y<a;Y+=1)W[Y*t+y]=k[Y];lo(h,a,l)}if(e==window.h.I.ya||e==window.h.I.La)for(co(h,a,l),y=0;y<M.outputBuffer.numberOfChannels;++y)for(k=M.outputBuffer.getChannelData(y),W=p.sa,Y=0;Y<a;Y+=1)k[Y]=W[Y*t+y];else for(y=0;y<M.outputBuffer.numberOfChannels;++y)M.outputBuffer.getChannelData(y).fill(0)},e!=window.h.I.capture&&e!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(M){p.Da=p.J.createMediaStreamSource(M),p.Da.connect(p.Z),p.Z.connect(p.J.destination)}).catch(function(M){console.log("Failed to get user media: "+M)}),e==window.h.I.ya&&p.Z.connect(p.J.destination),p.qb=h,window.h.yc(p)},466126:e=>window.h.ra(e).J.sampleRate,466199:e=>{e=window.h.ra(e),e.Z!==void 0&&(e.Z.onaudioprocess=function(){},e.Z.disconnect(),e.Z=void 0),e.Da!==void 0&&(e.Da.disconnect(),e.Da=void 0),e.J.close(),e.J=void 0,e.qb=void 0},466599:e=>{window.h.Cb(e)},466649:e=>{e=window.h.ra(e),e.J.resume(),e.state=window.h.ga.yb},466788:e=>{e=window.h.ra(e),e.J.suspend(),e.state=window.h.ga.stopped}},i=e=>{for(;0<e.length;)e.shift()(f)},d=(e,t)=>{for(var r=0,a=e.length-1;0<=a;a--){var l=e[a];l==="."?e.splice(a,1):l===".."?(e.splice(a,1),r++):r&&(e.splice(a,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},_=e=>{var t=e.charAt(0)==="/",r=e.substr(-1)==="/";return(e=d(e.split("/").filter(a=>!!a),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},I=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},L=e=>{if(e==="/")return"/";e=_(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},ee=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);$t("initRandomDevice")},se=e=>(se=ee())(e);function q(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){if(t=0<=r?arguments[r]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=d(e.split("/").filter(a=>!!a),!t).join("/"),(t?"/":"")+e||"."}var ce=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ce=(e,t,r)=>{var a=t+r;for(r=t;e[r]&&!(r>=a);)++r;if(16<r-t&&e.buffer&&ce)return ce.decode(e.subarray(t,r));for(a="";t<r;){var l=e[t++];if(l&128){var h=e[t++]&63;if((l&224)==192)a+=String.fromCharCode((l&31)<<6|h);else{var p=e[t++]&63;l=(l&240)==224?(l&15)<<12|h<<6|p:(l&7)<<18|h<<12|p<<6|e[t++]&63,65536>l?a+=String.fromCharCode(l):(l-=65536,a+=String.fromCharCode(55296|l>>10,56320|l&1023))}}else a+=String.fromCharCode(l)}return a},Ue=[],Le=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);127>=a?t++:2047>=a?t+=2:55296<=a&&57343>=a?(t+=4,++r):t+=3}return t},gt=(e,t,r,a)=>{if(!(0<a))return 0;var l=r;a=r+a-1;for(var h=0;h<e.length;++h){var p=e.charCodeAt(h);if(55296<=p&&57343>=p){var b=e.charCodeAt(++h);p=65536+((p&1023)<<10)|b&1023}if(127>=p){if(r>=a)break;t[r++]=p}else{if(2047>=p){if(r+1>=a)break;t[r++]=192|p>>6}else{if(65535>=p){if(r+2>=a)break;t[r++]=224|p>>12}else{if(r+3>=a)break;t[r++]=240|p>>18,t[r++]=128|p>>12&63}t[r++]=128|p>>6&63}t[r++]=128|p&63}}return t[r]=0,r-l};function ut(e,t){var r=Array(Le(e)+1);return e=gt(e,r,0,r.length),t&&(r.length=e),r}var Ze=[];function et(e,t){Ze[e]={input:[],F:[],V:t},Ur(e,lt)}var lt={open:function(e){var t=Ze[e.node.za];if(!t)throw new X(43);e.s=t,e.seekable=!1},close:function(e){e.s.V.qa(e.s)},qa:function(e){e.s.V.qa(e.s)},read:function(e,t,r,a){if(!e.s||!e.s.V.jb)throw new X(60);for(var l=0,h=0;h<a;h++){try{var p=e.s.V.jb(e.s)}catch{throw new X(29)}if(p===void 0&&l===0)throw new X(6);if(p==null)break;l++,t[r+h]=p}return l&&(e.node.timestamp=Date.now()),l},write:function(e,t,r,a){if(!e.s||!e.s.V.Oa)throw new X(60);try{for(var l=0;l<a;l++)e.s.V.Oa(e.s,t[r+l])}catch{throw new X(29)}return a&&(e.node.timestamp=Date.now()),l}},qt={jb:function(){e:{if(!Ue.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){e=null;break e}Ue=ut(e,!0)}e=Ue.shift()}return e},Oa:function(e,t){t===null||t===10?(Re(Ce(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(Re(Ce(e.F,0)),e.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},Kt={Oa:function(e,t){t===null||t===10?(je(Ce(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(je(Ce(e.F,0)),e.F=[])}};function Et(e,t){var r=e.j?e.j.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),r!=0&&(t=Math.max(t,256)),r=e.j,e.j=new Uint8Array(t),0<e.v&&e.j.set(r.subarray(0,e.v),0))}var ie={O:null,U(){return ie.createNode(null,"/",16895,0)},createNode(e,t,r,a){if((r&61440)===24576||(r&61440)===4096)throw new X(63);return ie.O||(ie.O={dir:{node:{Y:ie.l.Y,P:ie.l.P,ka:ie.l.ka,va:ie.l.va,vb:ie.l.vb,Bb:ie.l.Bb,wb:ie.l.wb,tb:ie.l.tb,Ea:ie.l.Ea},stream:{ba:ie.m.ba}},file:{node:{Y:ie.l.Y,P:ie.l.P},stream:{ba:ie.m.ba,read:ie.m.read,write:ie.m.write,pa:ie.m.pa,mb:ie.m.mb,ob:ie.m.ob}},link:{node:{Y:ie.l.Y,P:ie.l.P,ma:ie.l.ma},stream:{}},ab:{node:{Y:ie.l.Y,P:ie.l.P},stream:Aa}}),r=Li(e,t,r,a),(r.mode&61440)===16384?(r.l=ie.O.dir.node,r.m=ie.O.dir.stream,r.j={}):(r.mode&61440)===32768?(r.l=ie.O.file.node,r.m=ie.O.file.stream,r.v=0,r.j=null):(r.mode&61440)===40960?(r.l=ie.O.link.node,r.m=ie.O.link.stream):(r.mode&61440)===8192&&(r.l=ie.O.ab.node,r.m=ie.O.ab.stream),r.timestamp=Date.now(),e&&(e.j[t]=r,e.timestamp=r.timestamp),r},Kc(e){return e.j?e.j.subarray?e.j.subarray(0,e.v):new Uint8Array(e.j):new Uint8Array(0)},l:{Y(e){var t={};return t.Jc=(e.mode&61440)===8192?e.id:1,t.Mc=e.id,t.mode=e.mode,t.Oc=1,t.uid=0,t.Lc=0,t.za=e.za,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.v:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.Bc=new Date(e.timestamp),t.Nc=new Date(e.timestamp),t.Ic=new Date(e.timestamp),t.Jb=4096,t.Cc=Math.ceil(t.size/t.Jb),t},P(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.v!=t))if(t==0)e.j=null,e.v=0;else{var r=e.j;e.j=new Uint8Array(t),r&&e.j.set(r.subarray(0,Math.min(t,e.v))),e.v=t}},ka(){throw Vr[44]},va(e,t,r,a){return ie.createNode(e,t,r,a)},vb(e,t,r){if((e.mode&61440)===16384){try{var a=tr(t,r)}catch{}if(a)for(var l in a.j)throw new X(55)}delete e.parent.j[e.name],e.parent.timestamp=Date.now(),e.name=r,t.j[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},Bb(e,t){delete e.j[t],e.timestamp=Date.now()},wb(e,t){var r=tr(e,t),a;for(a in r.j)throw new X(55);delete e.j[t],e.timestamp=Date.now()},tb(e){var t=[".",".."],r;for(r in e.j)e.j.hasOwnProperty(r)&&t.push(r);return t},Ea(e,t,r){return e=ie.createNode(e,t,41471,0),e.link=r,e},ma(e){if((e.mode&61440)!==40960)throw new X(28);return e.link}},m:{read(e,t,r,a,l){var h=e.node.j;if(l>=e.node.v)return 0;if(e=Math.min(e.node.v-l,a),8<e&&h.subarray)t.set(h.subarray(l,l+e),r);else for(a=0;a<e;a++)t[r+a]=h[l+a];return e},write(e,t,r,a,l,h){if(t.buffer===ke.buffer&&(h=!1),!a)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.j||e.j.subarray)){if(h)return e.j=t.subarray(r,r+a),e.v=a;if(e.v===0&&l===0)return e.j=t.slice(r,r+a),e.v=a;if(l+a<=e.v)return e.j.set(t.subarray(r,r+a),l),a}if(Et(e,l+a),e.j.subarray&&t.subarray)e.j.set(t.subarray(r,r+a),l);else for(h=0;h<a;h++)e.j[l+h]=t[r+h];return e.v=Math.max(e.v,l+a),a},ba(e,t,r){if(r===1?t+=e.position:r===2&&(e.node.mode&61440)===32768&&(t+=e.node.v),0>t)throw new X(28);return t},pa(e,t,r){Et(e.node,t+r),e.node.v=Math.max(e.node.v,t+r)},mb(e,t,r,a,l){if((e.node.mode&61440)!==32768)throw new X(43);if(e=e.node.j,l&2||e.buffer!==ke.buffer){if((0<r||r+t<e.length)&&(e.subarray?e=e.subarray(r,r+t):e=Array.prototype.slice.call(e,r,r+t)),r=!0,$t(),t=void 0,!t)throw new X(48);ke.set(e,t)}else r=!1,t=e.byteOffset;return{o:t,M:r}},ob(e,t,r,a){return ie.m.write(e,t,0,a,r,!1),0}}};function _e(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r}var Mt=null,Ri={},er=[],wa=1,xn=null,Pi=!0,X=null,Vr={},an=(e,t={})=>{if(e=q(e),!e)return{path:"",node:null};if(t=Object.assign({hb:!0,Qa:0},t),8<t.Qa)throw new X(32);e=e.split("/").filter(p=>!!p);for(var r=Mt,a="/",l=0;l<e.length;l++){var h=l===e.length-1;if(h&&t.parent)break;if(r=tr(r,e[l]),a=_(a+"/"+e[l]),r.wa&&(!h||h&&t.hb)&&(r=r.wa.root),!h||t.gb){for(h=0;(r.mode&61440)===40960;)if(r=Ca(a),a=q(I(a),r),r=an(a,{Qa:t.Qa+1}).node,40<h++)throw new X(32)}}return{path:a,node:r}},Fi=e=>{for(var t;;){if(e===e.parent)return e=e.U.nb,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}},Ti=(e,t)=>{for(var r=0,a=0;a<t.length;a++)r=(r<<5)-r+t.charCodeAt(a)|0;return(e+r>>>0)%xn.length},tr=(e,t)=>{var r;if(r=(r=nr(e,"x"))?r:e.l.ka?0:2)throw new X(r,e);for(r=xn[Ti(e.id,t)];r;r=r.lc){var a=r.name;if(r.parent.id===e.id&&a===t)return r}return e.l.ka(e,t)},Li=(e,t,r,a)=>(e=new io(e,t,r,a),t=Ti(e.parent.id,e.name),e.lc=xn[t],xn[t]=e),Oi=e=>{var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},nr=(e,t)=>{if(Pi)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0},xi=(e,t)=>{try{return tr(e,t),20}catch{}return nr(e,"wx")},ba=()=>{for(var e=0;4096>=e;e++)if(!er[e])return e;throw new X(33)},Jt=e=>{if(e=er[e],!e)throw new X(8);return e},Si=(e,t=-1)=>(jn||(jn=function(){this.h={}},jn.prototype={},Object.defineProperties(jn.prototype,{object:{get(){return this.node},set(r){this.node=r}},flags:{get(){return this.h.flags},set(r){this.h.flags=r}},position:{get(){return this.h.position},set(r){this.h.position=r}}})),e=Object.assign(new jn,e),t==-1&&(t=ba()),e.X=t,er[t]=e),Aa={open:e=>{e.m=Ri[e.node.za].m,e.m.open&&e.m.open(e)},ba:()=>{throw new X(70)}},Ur=(e,t)=>{Ri[e]={m:t}},ji=(e,t)=>{var r=t==="/",a=!t;if(r&&Mt)throw new X(10);if(!r&&!a){var l=an(t,{hb:!1});if(t=l.path,l=l.node,l.wa)throw new X(10);if((l.mode&61440)!==16384)throw new X(54)}t={type:e,Qc:{},nb:t,kc:[]},e=e.U(t),e.U=t,t.root=e,r?Mt=e:l&&(l.wa=t,l.U&&l.U.kc.push(t))},_t=(e,t,r)=>{var a=an(e,{parent:!0}).node;if(e=L(e),!e||e==="."||e==="..")throw new X(28);var l=xi(a,e);if(l)throw new X(l);if(!a.l.va)throw new X(63);return a.l.va(a,e,t,r)},rr=(e,t,r)=>{typeof r>"u"&&(r=t,t=438),_t(e,t|8192,r)},Nr=(e,t)=>{if(!q(e))throw new X(44);var r=an(t,{parent:!0}).node;if(!r)throw new X(44);t=L(t);var a=xi(r,t);if(a)throw new X(a);if(!r.l.Ea)throw new X(63);r.l.Ea(r,t,e)},Ca=e=>{if(e=an(e).node,!e)throw new X(44);if(!e.l.ma)throw new X(28);return q(Fi(e.parent),e.l.ma(e))},ir=(e,t,r)=>{if(e==="")throw new X(44);if(typeof t=="string"){var a={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof a>"u")throw Error(`Unknown file open mode: ${t}`);t=a}if(r=t&64?(typeof r>"u"?438:r)&4095|32768:0,typeof e=="object")var l=e;else{e=_(e);try{l=an(e,{gb:!(t&131072)}).node}catch{}}if(a=!1,t&64)if(l){if(t&128)throw new X(20)}else l=_t(e,r,0),a=!0;if(!l)throw new X(44);if((l.mode&61440)===8192&&(t&=-513),t&65536&&(l.mode&61440)!==16384)throw new X(54);if(!a&&(r=l?(l.mode&61440)===40960?32:(l.mode&61440)===16384&&(Oi(t)!=="r"||t&512)?31:nr(l,Oi(t)):44))throw new X(r);if(t&512&&!a){if(r=l,r=typeof r=="string"?an(r,{gb:!0}).node:r,!r.l.P)throw new X(63);if((r.mode&61440)===16384)throw new X(31);if((r.mode&61440)!==32768)throw new X(28);if(a=nr(r,"w"))throw new X(a);r.l.P(r,{size:0,timestamp:Date.now()})}return t&=-131713,l=Si({node:l,path:Fi(l),flags:t,seekable:!0,position:0,m:l.m,zc:[],error:!1}),l.m.open&&l.m.open(l),!f.logReadFiles||t&1||(or||(or={}),e in or||(or[e]=1)),l},ki=(e,t,r)=>{if(e.X===null)throw new X(8);if(!e.seekable||!e.m.ba)throw new X(70);if(r!=0&&r!=1&&r!=2)throw new X(28);e.position=e.m.ba(e,t,r),e.zc=[]},Di=()=>{X||(X=function(e,t){this.name="ErrnoError",this.node=t,this.pc=function(r){this.aa=r},this.pc(e),this.message="FS error"},X.prototype=Error(),X.prototype.constructor=X,[44].forEach(e=>{Vr[e]=new X(e),Vr[e].stack="<generic error, no stack>"}))},Wi,Sn=(e,t,r)=>{e=_("/dev/"+e);var a=_e(!!t,!!r);Br||(Br=64);var l=Br++<<8|0;Ur(l,{open:h=>{h.seekable=!1},close:()=>{r&&r.buffer&&r.buffer.length&&r(10)},read:(h,p,b,M)=>{for(var y=0,k=0;k<M;k++){try{var W=t()}catch{throw new X(29)}if(W===void 0&&y===0)throw new X(6);if(W==null)break;y++,p[b+k]=W}return y&&(h.node.timestamp=Date.now()),y},write:(h,p,b,M)=>{for(var y=0;y<M;y++)try{r(p[b+y])}catch{throw new X(29)}return M&&(h.node.timestamp=Date.now()),y}}),rr(e,a,l)},Br,sn={},jn,or,kn=void 0;function kt(){return kn+=4,he[kn-4>>2]}function Vi(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e}function ar(e,t){return e=Vi(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function Ui(){this.M=[void 0],this.ib=[]}var ct=new Ui,gn=void 0;function ue(e){throw new gn(e)}var yt=e=>(e||ue("Cannot use deleted val. handle = "+e),ct.get(e).value),wt=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ct.pa({ub:1,value:e})}};function Ni(e){var t=Error,r=ar(e,function(a){this.name=e,this.message=a,a=Error(a).stack,a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r}var Bi=void 0,Hi=void 0;function xe(e){for(var t="";Te[e];)t+=Hi[Te[e++]];return t}var Dn=[];function Hr(){for(;Dn.length;){var e=Dn.pop();e.g.fa=!1,e.delete()}}var Wn=void 0,Dt={};function Yr(e,t){for(t===void 0&&ue("ptr should not be undefined");e.A;)t=e.na(t),e=e.A;return t}var un={};function Yi(e){e=fo(e);var t=xe(e);return Ut(e),t}function Vn(e,t){var r=un[e];return r===void 0&&ue(t+" has unknown type "+Yi(e)),r}function sr(){}var zr=!1;function zi(e){--e.count.value,e.count.value===0&&(e.G?e.L.W(e.G):e.u.i.W(e.o))}function Xi(e,t,r){return t===r?e:r.A===void 0?null:(e=Xi(e,t,r.A),e===null?null:r.Pb(e))}var $i={};function Ea(e,t){return t=Yr(e,t),Dt[t]}var Gi=void 0;function ur(e){throw new Gi(e)}function lr(e,t){return t.u&&t.o||ur("makeClassHandle requires ptr and ptrType"),!!t.L!=!!t.G&&ur("Both smartPtrType and smartPtr must be specified"),t.count={value:1},_n(Object.create(e,{g:{value:t}}))}function _n(e){return typeof FinalizationRegistry>"u"?(_n=t=>t,e):(zr=new FinalizationRegistry(t=>{zi(t.g)}),_n=t=>{var r=t.g;return r.G&&zr.register(t,{g:r},t),t},sr=t=>{zr.unregister(t)},_n(e))}var cr={};function Un(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Nn(e){return this.fromWireType(he[e>>2])}var yn={},fr={};function it(e,t,r){function a(b){b=r(b),b.length!==e.length&&ur("Mismatched type converter count");for(var M=0;M<e.length;++M)It(e[M],b[M])}e.forEach(function(b){fr[b]=t});var l=Array(t.length),h=[],p=0;t.forEach((b,M)=>{un.hasOwnProperty(b)?l[M]=un[b]:(h.push(b),yn.hasOwnProperty(b)||(yn[b]=[]),yn[b].push(()=>{l[M]=un[b],++p,p===h.length&&a(l)}))}),h.length===0&&a(l)}function dr(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function Ma(e,t,r={}){var a=t.name;if(e||ue(`type "${a}" must have a positive integer typeid pointer`),un.hasOwnProperty(e)){if(r.$b)return;ue(`Cannot register type '${a}' twice`)}un[e]=t,delete fr[e],yn.hasOwnProperty(e)&&(t=yn[e],delete yn[e],t.forEach(l=>l()))}function It(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");Ma(e,t,r)}function Xr(e){ue(e.g.u.i.name+" instance already deleted")}function Qt(){}function $r(e,t,r){if(e[t].B===void 0){var a=e[t];e[t]=function(){return e[t].B.hasOwnProperty(arguments.length)||ue(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].B})!`),e[t].B[arguments.length].apply(this,arguments)},e[t].B=[],e[t].B[a.ea]=a}}function Gr(e,t,r){f.hasOwnProperty(e)?((r===void 0||f[e].B!==void 0&&f[e].B[r]!==void 0)&&ue(`Cannot register public name '${e}' twice`),$r(f,e,e),f.hasOwnProperty(r)&&ue(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),f[e].B[r]=t):(f[e]=t,r!==void 0&&(f[e].Pc=r))}function Ia(e,t,r,a,l,h,p,b){this.name=e,this.constructor=t,this.N=r,this.W=a,this.A=l,this.Ub=h,this.na=p,this.Pb=b,this.rb=[]}function hr(e,t,r){for(;t!==r;)t.na||ue(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.na(e),t=t.A;return e}function Ra(e,t){return t===null?(this.Na&&ue(`null is not a valid ${this.name}`),0):(t.g||ue(`Cannot pass "${Kr(t)}" as a ${this.name}`),t.g.o||ue(`Cannot pass deleted object as a pointer of type ${this.name}`),hr(t.g.o,t.g.u.i,this.i))}function Pa(e,t){if(t===null){if(this.Na&&ue(`null is not a valid ${this.name}`),this.ua){var r=this.Pa();return e!==null&&e.push(this.W,r),r}return 0}if(t.g||ue(`Cannot pass "${Kr(t)}" as a ${this.name}`),t.g.o||ue(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&t.g.u.ta&&ue(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`),r=hr(t.g.o,t.g.u.i,this.i),this.ua)switch(t.g.G===void 0&&ue("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:t.g.L===this?r=t.g.G:ue(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`);break;case 1:r=t.g.G;break;case 2:if(t.g.L===this)r=t.g.G;else{var a=t.clone();r=this.oc(r,wt(function(){a.delete()})),e!==null&&e.push(this.W,r)}break;default:ue("Unsupporting sharing policy")}return r}function Fa(e,t){return t===null?(this.Na&&ue(`null is not a valid ${this.name}`),0):(t.g||ue(`Cannot pass "${Kr(t)}" as a ${this.name}`),t.g.o||ue(`Cannot pass deleted object as a pointer of type ${this.name}`),t.g.u.ta&&ue(`Cannot convert argument of type ${t.g.u.name} to parameter type ${this.name}`),hr(t.g.o,t.g.u.i,this.i))}function Wt(e,t,r,a){this.name=e,this.i=t,this.Na=r,this.ta=a,this.ua=!1,this.W=this.oc=this.Pa=this.sb=this.tc=this.nc=void 0,t.A!==void 0?this.toWireType=Pa:(this.toWireType=a?Ra:Fa,this.K=null)}function qi(e,t,r){f.hasOwnProperty(e)||ur("Replacing nonexistant public symbol"),f[e].B!==void 0&&r!==void 0?f[e].B[r]=t:(f[e]=t,f[e].ea=r)}var vr=[],Ki=e=>{var t=vr[e];return t||(e>=vr.length&&(vr.length=e+1),vr[e]=t=Se.get(e)),t},Ta=(e,t)=>{var r=[];return function(){if(r.length=0,Object.assign(r,arguments),e.includes("j")){var a=f["dynCall_"+e];a=r&&r.length?a.apply(null,[t].concat(r)):a.call(null,t)}else a=Ki(t).apply(null,r);return a}};function ze(e,t){e=xe(e);var r=e.includes("j")?Ta(e,t):Ki(t);return typeof r!="function"&&ue(`unknown function pointer with signature ${e}: ${t}`),r}var Ji=void 0;function Vt(e,t){function r(h){l[h]||un[h]||(fr[h]?fr[h].forEach(r):(a.push(h),l[h]=!0))}var a=[],l={};throw t.forEach(r),new Ji(`${e}: `+a.map(Yi).join([", "]))}function pr(e,t,r,a,l){var h=t.length;2>h&&ue("argTypes array size mismatch! Must at least get return value and 'this' types!");var p=t[1]!==null&&r!==null,b=!1;for(r=1;r<t.length;++r)if(t[r]!==null&&t[r].K===void 0){b=!0;break}var M=t[0].name!=="void",y=h-2,k=Array(y),W=[],Y=[];return function(){if(arguments.length!==y&&ue(`function ${e} called with ${arguments.length} arguments, expected ${y} args!`),Y.length=0,W.length=p?2:1,W[0]=l,p){var g=t[1].toWireType(Y,this);W[1]=g}for(var j=0;j<y;++j)k[j]=t[j+2].toWireType(Y,arguments[j]),W.push(k[j]);if(j=a.apply(null,W),b)Un(Y);else for(var K=p?1:2;K<t.length;K++){var V=K===1?g:k[K-2];t[K].K!==null&&t[K].K(V)}return g=M?t[0].fromWireType(j):void 0,g}}function mr(e,t){for(var r=[],a=0;a<e;a++)r.push(be[t+4*a>>2]);return r}function Qi(e,t,r){return e instanceof Object||ue(`${r} with invalid "this": ${e}`),e instanceof t.i.constructor||ue(`${r} incompatible with "this" of type ${e.constructor.name}`),e.g.o||ue(`cannot call emscripten binding method ${r} on deleted object`),hr(e.g.o,e.g.u.i,t.i)}function qr(e){e>=ct.h&&--ct.get(e).ub===0&&ct.Zb(e)}function La(e,t,r){switch(t){case 0:return function(a){return this.fromWireType((r?ke:Te)[a])};case 1:return function(a){return this.fromWireType((r?De:qe)[a>>1])};case 2:return function(a){return this.fromWireType((r?he:be)[a>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function Kr(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function Oa(e,t){switch(t){case 2:return function(r){return this.fromWireType(pt[r>>2])};case 3:return function(r){return this.fromWireType(Pe[r>>3])};default:throw new TypeError("Unknown float type: "+e)}}function xa(e,t,r){switch(t){case 0:return r?function(a){return ke[a]}:function(a){return Te[a]};case 1:return r?function(a){return De[a>>1]}:function(a){return qe[a>>1]};case 2:return r?function(a){return he[a>>2]}:function(a){return be[a>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var Zi=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Sa=(e,t)=>{for(var r=e>>1,a=r+t/2;!(r>=a)&&qe[r];)++r;if(r<<=1,32<r-e&&Zi)return Zi.decode(Te.subarray(e,r));for(r="",a=0;!(a>=t/2);++a){var l=De[e+2*a>>1];if(l==0)break;r+=String.fromCharCode(l)}return r},ja=(e,t,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var a=t;r=r<2*e.length?r/2:e.length;for(var l=0;l<r;++l)De[t>>1]=e.charCodeAt(l),t+=2;return De[t>>1]=0,t-a},ka=e=>2*e.length,Da=(e,t)=>{for(var r=0,a="";!(r>=t/4);){var l=he[e+4*r>>2];if(l==0)break;++r,65536<=l?(l-=65536,a+=String.fromCharCode(55296|l>>10,56320|l&1023)):a+=String.fromCharCode(l)}return a},Wa=(e,t,r)=>{if(r===void 0&&(r=2147483647),4>r)return 0;var a=t;r=a+r-4;for(var l=0;l<e.length;++l){var h=e.charCodeAt(l);if(55296<=h&&57343>=h){var p=e.charCodeAt(++l);h=65536+((h&1023)<<10)|p&1023}if(he[t>>2]=h,t+=4,t+4>r)break}return he[t>>2]=0,t-a},Va=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);55296<=a&&57343>=a&&++r,t+=4}return t},Ua={};function gr(e){var t=Ua[e];return t===void 0?xe(e):t}var _r=[];function Na(e){var t=_r.length;return _r.push(e),t}function Ba(e,t){for(var r=Array(e),a=0;a<e;++a)r[a]=Vn(be[t+4*a>>2],"parameter "+a);return r}var eo=[],Jr=[],Qr={},to=()=>{if(!Zr){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:D||"./this.program"},t;for(t in Qr)Qr[t]===void 0?delete e[t]:e[t]=Qr[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);Zr=r}return Zr},Zr,yr=e=>e%4===0&&(e%100!==0||e%400===0),no=[31,29,31,30,31,30,31,31,30,31,30,31],ro=[31,28,31,30,31,30,31,31,30,31,30,31],Ha=(e,t,r,a)=>{function l(g,j,K){for(g=typeof g=="number"?g.toString():g||"";g.length<j;)g=K[0]+g;return g}function h(g,j){return l(g,j,"0")}function p(g,j){function K(Ee){return 0>Ee?-1:0<Ee?1:0}var V;return(V=K(g.getFullYear()-j.getFullYear()))===0&&(V=K(g.getMonth()-j.getMonth()))===0&&(V=K(g.getDate()-j.getDate())),V}function b(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function M(g){var j=g.ca;for(g=new Date(new Date(g.da+1900,0,1).getTime());0<j;){var K=g.getMonth(),V=(yr(g.getFullYear())?no:ro)[K];if(j>V-g.getDate())j-=V-g.getDate()+1,g.setDate(1),11>K?g.setMonth(K+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+j);break}}return K=new Date(g.getFullYear()+1,0,4),j=b(new Date(g.getFullYear(),0,4)),K=b(K),0>=p(j,g)?0>=p(K,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}var y=he[a+40>>2];a={wc:he[a>>2],vc:he[a+4>>2],Fa:he[a+8>>2],Sa:he[a+12>>2],Ga:he[a+16>>2],da:he[a+20>>2],R:he[a+24>>2],ca:he[a+28>>2],Rc:he[a+32>>2],uc:he[a+36>>2],xc:y&&y?Ce(Te,y):""},r=r?Ce(Te,r):"",y={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var k in y)r=r.replace(new RegExp(k,"g"),y[k]);var W="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Y="January February March April May June July August September October November December".split(" ");y={"%a":g=>W[g.R].substring(0,3),"%A":g=>W[g.R],"%b":g=>Y[g.Ga].substring(0,3),"%B":g=>Y[g.Ga],"%C":g=>h((g.da+1900)/100|0,2),"%d":g=>h(g.Sa,2),"%e":g=>l(g.Sa,2," "),"%g":g=>M(g).toString().substring(2),"%G":g=>M(g),"%H":g=>h(g.Fa,2),"%I":g=>(g=g.Fa,g==0?g=12:12<g&&(g-=12),h(g,2)),"%j":g=>{for(var j=0,K=0;K<=g.Ga-1;j+=(yr(g.da+1900)?no:ro)[K++]);return h(g.Sa+j,3)},"%m":g=>h(g.Ga+1,2),"%M":g=>h(g.vc,2),"%n":()=>`
`,"%p":g=>0<=g.Fa&&12>g.Fa?"AM":"PM","%S":g=>h(g.wc,2),"%t":()=>"	","%u":g=>g.R||7,"%U":g=>h(Math.floor((g.ca+7-g.R)/7),2),"%V":g=>{var j=Math.floor((g.ca+7-(g.R+6)%7)/7);if(2>=(g.R+371-g.ca-2)%7&&j++,j)j==53&&(K=(g.R+371-g.ca)%7,K==4||K==3&&yr(g.da)||(j=1));else{j=52;var K=(g.R+7-g.ca-1)%7;(K==4||K==5&&yr(g.da%400-1))&&j++}return h(j,2)},"%w":g=>g.R,"%W":g=>h(Math.floor((g.ca+7-(g.R+6)%7)/7),2),"%y":g=>(g.da+1900).toString().substring(2),"%Y":g=>g.da+1900,"%z":g=>{g=g.uc;var j=0<=g;return g=Math.abs(g)/60,(j?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.xc,"%%":()=>"%"},r=r.replace(/%%/g,"\0\0");for(k in y)r.includes(k)&&(r=r.replace(new RegExp(k,"g"),y[k](a)));return r=r.replace(/\0\0/g,"%"),k=ut(r,!1),k.length>t?0:(ke.set(k,e),k.length-1)};function io(e,t,r,a){e||(e=this),this.parent=e,this.U=e.U,this.wa=null,this.id=wa++,this.name=t,this.mode=r,this.l={},this.m={},this.za=a}Object.defineProperties(io.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Di(),xn=Array(4096),ji(ie,"/"),_t("/tmp",16895,0),_t("/home",16895,0),_t("/home/web_user",16895,0),(()=>{_t("/dev",16895,0),Ur(259,{read:()=>0,write:(a,l,h,p)=>p}),rr("/dev/null",259),et(1280,qt),et(1536,Kt),rr("/dev/tty",1280),rr("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,r=()=>(t===0&&(t=se(e).byteLength),e[--t]);Sn("random",r),Sn("urandom",r),_t("/dev/shm",16895,0),_t("/dev/shm/tmp",16895,0)})(),(()=>{_t("/proc",16895,0);var e=_t("/proc/self",16895,0);_t("/proc/self/fd",16895,0),ji({U:()=>{var t=Li(e,"fd",16895,73);return t.l={ka:(r,a)=>{var l=Jt(+a);return r={parent:null,U:{nb:"fake"},l:{ma:()=>l.path}},r.parent=r}},t}},"/proc/self/fd")})(),Object.assign(Ui.prototype,{get(e){return this.M[e]},has(e){return this.M[e]!==void 0},pa(e){var t=this.ib.pop()||this.M.length;return this.M[t]=e,t},Zb(e){this.M[e]=void 0,this.ib.push(e)}}),gn=f.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},ct.M.push({value:void 0},{value:null},{value:!0},{value:!1}),ct.h=ct.M.length,f.count_emval_handles=function(){for(var e=0,t=ct.h;t<ct.M.length;++t)ct.M[t]!==void 0&&++e;return e},Bi=f.PureVirtualError=Ni("PureVirtualError");for(var oo=Array(256),wr=0;256>wr;++wr)oo[wr]=String.fromCharCode(wr);Hi=oo,f.getInheritedInstanceCount=function(){return Object.keys(Dt).length},f.getLiveInheritedInstances=function(){var e=[],t;for(t in Dt)Dt.hasOwnProperty(t)&&e.push(Dt[t]);return e},f.flushPendingDeletes=Hr,f.setDelayFunction=function(e){Wn=e,Dn.length&&Wn&&Wn(Hr)},Gi=f.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Qt.prototype.isAliasOf=function(e){if(!(this instanceof Qt&&e instanceof Qt))return!1;var t=this.g.u.i,r=this.g.o,a=e.g.u.i;for(e=e.g.o;t.A;)r=t.na(r),t=t.A;for(;a.A;)e=a.na(e),a=a.A;return t===a&&r===e},Qt.prototype.clone=function(){if(this.g.o||Xr(this),this.g.ia)return this.g.count.value+=1,this;var e=_n,t=Object,r=t.create,a=Object.getPrototypeOf(this),l=this.g;return e=e(r.call(t,a,{g:{value:{count:l.count,fa:l.fa,ia:l.ia,o:l.o,u:l.u,G:l.G,L:l.L}}})),e.g.count.value+=1,e.g.fa=!1,e},Qt.prototype.delete=function(){this.g.o||Xr(this),this.g.fa&&!this.g.ia&&ue("Object already scheduled for deletion"),sr(this),zi(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},Qt.prototype.isDeleted=function(){return!this.g.o},Qt.prototype.deleteLater=function(){return this.g.o||Xr(this),this.g.fa&&!this.g.ia&&ue("Object already scheduled for deletion"),Dn.push(this),Dn.length===1&&Wn&&Wn(Hr),this.g.fa=!0,this},Wt.prototype.Vb=function(e){return this.sb&&(e=this.sb(e)),e},Wt.prototype.bb=function(e){this.W&&this.W(e)},Wt.prototype.argPackAdvance=8,Wt.prototype.readValueFromPointer=Nn,Wt.prototype.deleteObject=function(e){e!==null&&e.delete()},Wt.prototype.fromWireType=function(e){function t(){return this.ua?lr(this.i.N,{u:this.nc,o:r,L:this,G:e}):lr(this.i.N,{u:this,o:e})}var r=this.Vb(e);if(!r)return this.bb(e),null;var a=Ea(this.i,r);if(a!==void 0)return a.g.count.value===0?(a.g.o=r,a.g.G=e,a.clone()):(a=a.clone(),this.bb(e),a);if(a=this.i.Ub(r),a=$i[a],!a)return t.call(this);a=this.ta?a.Kb:a.pointerType;var l=Xi(r,this.i,a.i);return l===null?t.call(this):this.ua?lr(a.i.N,{u:a,o:l,L:this,G:e}):lr(a.i.N,{u:a,o:l})},Ji=f.UnboundTypeError=Ni("UnboundTypeError");var ao={__syscall_fcntl64:function(e,t,r){kn=r;try{var a=Jt(e);switch(t){case 0:var l=kt();return 0>l?-28:Si(a,l).X;case 1:case 2:return 0;case 3:return a.flags;case 4:return l=kt(),a.flags|=l,0;case 5:return l=kt(),De[l+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return he[so()>>2]=28,-1;default:return-28}}catch(h){if(typeof sn>"u"||h.name!=="ErrnoError")throw h;return-h.aa}},__syscall_ioctl:function(e,t,r){kn=r;try{var a=Jt(e);switch(t){case 21509:return a.s?0:-59;case 21505:if(!a.s)return-59;if(a.s.V.bc){t=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var l=kt();he[l>>2]=25856,he[l+4>>2]=5,he[l+8>>2]=191,he[l+12>>2]=35387;for(var h=0;32>h;h++)ke[l+h+17>>0]=t[h]||0}return 0;case 21510:case 21511:case 21512:return a.s?0:-59;case 21506:case 21507:case 21508:if(!a.s)return-59;if(a.s.V.cc)for(l=kt(),t=[],h=0;32>h;h++)t.push(ke[l+h+17>>0]);return 0;case 21519:return a.s?(l=kt(),he[l>>2]=0):-59;case 21520:return a.s?-28:-59;case 21531:if(l=kt(),!a.m.ac)throw new X(59);return a.m.ac(a,t,l);case 21523:return a.s?(a.s.V.dc&&(h=[24,80],l=kt(),De[l>>1]=h[0],De[l+2>>1]=h[1]),0):-59;case 21524:return a.s?0:-59;case 21515:return a.s?0:-59;default:return-28}}catch(p){if(typeof sn>"u"||p.name!=="ErrnoError")throw p;return-p.aa}},__syscall_openat:function(e,t,r,a){kn=a;try{t=t?Ce(Te,t):"";var l=t;if(l.charAt(0)==="/")t=l;else{var h=e===-100?"/":Jt(e).path;if(l.length==0)throw new X(44);t=_(h+"/"+l)}var p=a?kt():0;return ir(t,r,p).X}catch(b){if(typeof sn>"u"||b.name!=="ErrnoError")throw b;return-b.aa}},_embind_create_inheriting_constructor:function(e,t,r){e=xe(e),t=Vn(t,"wrapper"),r=yt(r);var a=[].slice,l=t.i,h=l.N,p=l.A.N,b=l.A.constructor;e=ar(e,function(){l.A.rb.forEach((function(y){if(this[y]===p[y])throw new Bi(`Pure virtual function ${y} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:h}),this.__construct.apply(this,a.call(arguments))}),h.__construct=function(){this===h&&ue("Pass correct 'this' to __construct");var y=b.implement.apply(void 0,[this].concat(a.call(arguments)));sr(y);var k=y.g;y.notifyOnDestruction(),k.ia=!0,Object.defineProperties(this,{g:{value:k}}),_n(this),y=k.o,y=Yr(l,y),Dt.hasOwnProperty(y)?ue(`Tried to register registered instance: ${y}`):Dt[y]=this},h.__destruct=function(){this===h&&ue("Pass correct 'this' to __destruct"),sr(this);var y=this.g.o;y=Yr(l,y),Dt.hasOwnProperty(y)?delete Dt[y]:ue(`Tried to unregister unregistered instance: ${y}`)},e.prototype=Object.create(h);for(var M in r)e.prototype[M]=r[M];return wt(e)},_embind_finalize_value_object:function(e){var t=cr[e];delete cr[e];var r=t.Pa,a=t.W,l=t.fb,h=l.map(p=>p.Yb).concat(l.map(p=>p.rc));it([e],h,p=>{var b={};return l.forEach((M,y)=>{var k=p[y],W=M.Wb,Y=M.Xb,g=p[y+l.length],j=M.qc,K=M.sc;b[M.Sb]={read:V=>k.fromWireType(W(Y,V)),write:(V,Ee)=>{var B=[];j(K,V,g.toWireType(B,Ee)),Un(B)}}}),[{name:t.name,fromWireType:function(M){var y={},k;for(k in b)y[k]=b[k].read(M);return a(M),y},toWireType:function(M,y){for(var k in b)if(!(k in y))throw new TypeError(`Missing field: "${k}"`);var W=r();for(k in b)b[k].write(W,y[k]);return M!==null&&M.push(a,W),W},argPackAdvance:8,readValueFromPointer:Nn,K:a}]})},_embind_register_bigint:function(){},_embind_register_bool:function(e,t,r,a,l){var h=dr(r);t=xe(t),It(e,{name:t,fromWireType:function(p){return!!p},toWireType:function(p,b){return b?a:l},argPackAdvance:8,readValueFromPointer:function(p){if(r===1)var b=ke;else if(r===2)b=De;else if(r===4)b=he;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(b[p>>h])},K:null})},_embind_register_class:function(e,t,r,a,l,h,p,b,M,y,k,W,Y){k=xe(k),h=ze(l,h),b&&(b=ze(p,b)),y&&(y=ze(M,y)),Y=ze(W,Y);var g=Vi(k);Gr(g,function(){Vt(`Cannot construct ${k} due to unbound types`,[a])}),it([e,t,r],a?[a]:[],function(j){if(j=j[0],a)var K=j.i,V=K.N;else V=Qt.prototype;j=ar(g,function(){if(Object.getPrototypeOf(this)!==Ee)throw new gn("Use 'new' to construct "+k);if(B.$===void 0)throw new gn(k+" has no accessible constructor");var Fe=B.$[arguments.length];if(Fe===void 0)throw new gn(`Tried to invoke ctor of ${k} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(B.$).toString()}) parameters instead!`);return Fe.apply(this,arguments)});var Ee=Object.create(V,{constructor:{value:j}});j.prototype=Ee;var B=new Ia(k,j,Ee,Y,K,h,b,y);B.A&&(B.A.oa===void 0&&(B.A.oa=[]),B.A.oa.push(B)),K=new Wt(k,B,!0,!1),V=new Wt(k+"*",B,!1,!1);var Ae=new Wt(k+" const*",B,!1,!0);return $i[e]={pointerType:V,Kb:Ae},qi(g,j),[K,V,Ae]})},_embind_register_class_class_function:function(e,t,r,a,l,h,p){var b=mr(r,a);t=xe(t),h=ze(l,h),it([],[e],function(M){function y(){Vt(`Cannot call ${k} due to unbound types`,b)}M=M[0];var k=`${M.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var W=M.i.constructor;return W[t]===void 0?(y.ea=r-1,W[t]=y):($r(W,t,k),W[t].B[r-1]=y),it([],b,function(Y){if(Y=pr(k,[Y[0],null].concat(Y.slice(1)),null,h,p),W[t].B===void 0?(Y.ea=r-1,W[t]=Y):W[t].B[r-1]=Y,M.i.oa)for(const g of M.i.oa)g.constructor.hasOwnProperty(t)||(g.constructor[t]=Y);return[]}),[]})},_embind_register_class_class_property:function(e,t,r,a,l,h,p,b){t=xe(t),h=ze(l,h),it([],[e],function(M){M=M[0];var y=`${M.name}.${t}`,k={get(){Vt(`Cannot access ${y} due to unbound types`,[r])},enumerable:!0,configurable:!0};return k.set=b?()=>{Vt(`Cannot access ${y} due to unbound types`,[r])}:()=>{ue(`${y} is a read-only property`)},Object.defineProperty(M.i.constructor,t,k),it([],[r],function(W){W=W[0];var Y={get(){return W.fromWireType(h(a))},enumerable:!0};return b&&(b=ze(p,b),Y.set=g=>{var j=[];b(a,W.toWireType(j,g)),Un(j)}),Object.defineProperty(M.i.constructor,t,Y),[]}),[]})},_embind_register_class_constructor:function(e,t,r,a,l,h){var p=mr(t,r);l=ze(a,l),it([],[e],function(b){b=b[0];var M=`constructor ${b.name}`;if(b.i.$===void 0&&(b.i.$=[]),b.i.$[t-1]!==void 0)throw new gn(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${b.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return b.i.$[t-1]=()=>{Vt(`Cannot construct ${b.name} due to unbound types`,p)},it([],p,function(y){return y.splice(1,0,null),b.i.$[t-1]=pr(M,y,null,l,h),[]}),[]})},_embind_register_class_function:function(e,t,r,a,l,h,p,b){var M=mr(r,a);t=xe(t),h=ze(l,h),it([],[e],function(y){function k(){Vt(`Cannot call ${W} due to unbound types`,M)}y=y[0];var W=`${y.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),b&&y.i.rb.push(t);var Y=y.i.N,g=Y[t];return g===void 0||g.B===void 0&&g.className!==y.name&&g.ea===r-2?(k.ea=r-2,k.className=y.name,Y[t]=k):($r(Y,t,W),Y[t].B[r-2]=k),it([],M,function(j){return j=pr(W,j,y,h,p),Y[t].B===void 0?(j.ea=r-2,Y[t]=j):Y[t].B[r-2]=j,[]}),[]})},_embind_register_class_property:function(e,t,r,a,l,h,p,b,M,y){t=xe(t),l=ze(a,l),it([],[e],function(k){k=k[0];var W=`${k.name}.${t}`,Y={get(){Vt(`Cannot access ${W} due to unbound types`,[r,p])},enumerable:!0,configurable:!0};return Y.set=M?()=>{Vt(`Cannot access ${W} due to unbound types`,[r,p])}:()=>{ue(W+" is a read-only property")},Object.defineProperty(k.i.N,t,Y),it([],M?[r,p]:[r],function(g){var j=g[0],K={get(){var Ee=Qi(this,k,W+" getter");return j.fromWireType(l(h,Ee))},enumerable:!0};if(M){M=ze(b,M);var V=g[1];K.set=function(Ee){var B=Qi(this,k,W+" setter"),Ae=[];M(y,B,V.toWireType(Ae,Ee)),Un(Ae)}}return Object.defineProperty(k.i.N,t,K),[]}),[]})},_embind_register_emval:function(e,t){t=xe(t),It(e,{name:t,fromWireType:function(r){var a=yt(r);return qr(r),a},toWireType:function(r,a){return wt(a)},argPackAdvance:8,readValueFromPointer:Nn,K:null})},_embind_register_enum:function(e,t,r,a){function l(){}r=dr(r),t=xe(t),l.values={},It(e,{name:t,constructor:l,fromWireType:function(h){return this.constructor.values[h]},toWireType:function(h,p){return p.value},argPackAdvance:8,readValueFromPointer:La(t,r,a),K:null}),Gr(t,l)},_embind_register_enum_value:function(e,t,r){var a=Vn(e,"enum");t=xe(t),e=a.constructor,a=Object.create(a.constructor.prototype,{value:{value:r},constructor:{value:ar(`${a.name}_${t}`,function(){})}}),e.values[r]=a,e[t]=a},_embind_register_float:function(e,t,r){r=dr(r),t=xe(t),It(e,{name:t,fromWireType:function(a){return a},toWireType:function(a,l){return l},argPackAdvance:8,readValueFromPointer:Oa(t,r),K:null})},_embind_register_function:function(e,t,r,a,l,h){var p=mr(t,r);e=xe(e),l=ze(a,l),Gr(e,function(){Vt(`Cannot call ${e} due to unbound types`,p)},t-1),it([],p,function(b){return qi(e,pr(e,[b[0],null].concat(b.slice(1)),null,l,h),t-1),[]})},_embind_register_integer:function(e,t,r,a,l){t=xe(t),l===-1&&(l=4294967295),l=dr(r);var h=b=>b;if(a===0){var p=32-8*r;h=b=>b<<p>>>p}r=t.includes("unsigned")?function(b,M){return M>>>0}:function(b,M){return M},It(e,{name:t,fromWireType:h,toWireType:r,argPackAdvance:8,readValueFromPointer:xa(t,l,a!==0),K:null})},_embind_register_memory_view:function(e,t,r){function a(h){h>>=2;var p=be;return new l(p.buffer,p[h+1],p[h])}var l=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];r=xe(r),It(e,{name:r,fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{$b:!0})},_embind_register_std_string:function(e,t){t=xe(t);var r=t==="std::string";It(e,{name:t,fromWireType:function(a){var l=be[a>>2],h=a+4;if(r)for(var p=h,b=0;b<=l;++b){var M=h+b;if(b==l||Te[M]==0){if(p=p?Ce(Te,p,M-p):"",y===void 0)var y=p;else y+="\0",y+=p;p=M+1}}else{for(y=Array(l),b=0;b<l;++b)y[b]=String.fromCharCode(Te[h+b]);y=y.join("")}return Ut(a),y},toWireType:function(a,l){l instanceof ArrayBuffer&&(l=new Uint8Array(l));var h=typeof l=="string";h||l instanceof Uint8Array||l instanceof Uint8ClampedArray||l instanceof Int8Array||ue("Cannot pass non-string to std::string");var p=r&&h?Le(l):l.length,b=ei(4+p+1),M=b+4;if(be[b>>2]=p,r&&h)gt(l,Te,M,p+1);else if(h)for(h=0;h<p;++h){var y=l.charCodeAt(h);255<y&&(Ut(M),ue("String has UTF-16 code units that do not fit in 8 bits")),Te[M+h]=y}else for(h=0;h<p;++h)Te[M+h]=l[h];return a!==null&&a.push(Ut,b),b},argPackAdvance:8,readValueFromPointer:Nn,K:function(a){Ut(a)}})},_embind_register_std_wstring:function(e,t,r){if(r=xe(r),t===2)var a=Sa,l=ja,h=ka,p=()=>qe,b=1;else t===4&&(a=Da,l=Wa,h=Va,p=()=>be,b=2);It(e,{name:r,fromWireType:function(M){for(var y=be[M>>2],k=p(),W,Y=M+4,g=0;g<=y;++g){var j=M+4+g*t;(g==y||k[j>>b]==0)&&(Y=a(Y,j-Y),W===void 0?W=Y:(W+="\0",W+=Y),Y=j+t)}return Ut(M),W},toWireType:function(M,y){typeof y!="string"&&ue(`Cannot pass non-string to C++ string type ${r}`);var k=h(y),W=ei(4+k+t);return be[W>>2]=k>>b,l(y,W+4,k+t),M!==null&&M.push(Ut,W),W},argPackAdvance:8,readValueFromPointer:Nn,K:function(M){Ut(M)}})},_embind_register_value_object:function(e,t,r,a,l,h){cr[e]={name:xe(t),Pa:ze(r,a),W:ze(l,h),fb:[]}},_embind_register_value_object_field:function(e,t,r,a,l,h,p,b,M,y){cr[e].fb.push({Sb:xe(t),Yb:r,Wb:ze(a,l),Xb:h,rc:p,qc:ze(b,M),sc:y})},_embind_register_void:function(e,t){t=xe(t),It(e,{fc:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(e,t,r){e=yt(e),t=Vn(t,"emval::as");var a=[],l=wt(a);return be[r>>2]=l,t.toWireType(a,e)},_emval_call_method:function(e,t,r,a,l){e=_r[e],t=yt(t),r=gr(r);var h=[];return be[a>>2]=wt(h),e(t,r,h,l)},_emval_call_void_method:function(e,t,r,a){e=_r[e],t=yt(t),r=gr(r),e(t,r,null,a)},_emval_decref:qr,_emval_get_method_caller:function(e,t){var r=Ba(e,t),a=r[0];t=a.name+"_$"+r.slice(1).map(function(p){return p.name}).join("_")+"$";var l=eo[t];if(l!==void 0)return l;var h=Array(e-1);return l=Na((p,b,M,y)=>{for(var k=0,W=0;W<e-1;++W)h[W]=r[W+1].readValueFromPointer(y+k),k+=r[W+1].argPackAdvance;for(p=p[b].apply(p,h),W=0;W<e-1;++W)r[W+1].Nb&&r[W+1].Nb(h[W]);if(!a.fc)return a.toWireType(M,p)}),eo[t]=l},_emval_get_module_property:function(e){return e=gr(e),wt(f[e])},_emval_get_property:function(e,t){return e=yt(e),t=yt(t),wt(e[t])},_emval_incref:function(e){4<e&&(ct.get(e).ub+=1)},_emval_new_array:function(){return wt([])},_emval_new_cstring:function(e){return wt(gr(e))},_emval_new_object:function(){return wt({})},_emval_run_destructors:function(e){var t=yt(e);Un(t),qr(e)},_emval_set_property:function(e,t,r){e=yt(e),t=yt(t),r=yt(r),e[t]=r},_emval_take_value:function(e,t){return e=Vn(e,"_emval_take_value"),e=e.readValueFromPointer(t),wt(e)},abort:()=>{$t("")},emscripten_asm_const_int:(e,t,r)=>{Jr.length=0;var a;for(r>>=2;a=Te[t++];)r+=a!=105&r,Jr.push(a==105?he[r]:Pe[r++>>1]),++r;return n[e].apply(null,Jr)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(e,t,r)=>Te.copyWithin(e,t,t+r),emscripten_resize_heap:e=>{var t=Te.length;if(e>>>=0,2147483648<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var l=Math;a=Math.max(e,a);e:{l=l.min.call(l,2147483648,a+(65536-a%65536)%65536)-st.buffer.byteLength+65535>>>16;try{st.grow(l),nt();var h=1;break e}catch{}h=void 0}if(h)return!0}return!1},environ_get:(e,t)=>{var r=0;return to().forEach(function(a,l){var h=t+r;for(l=be[e+4*l>>2]=h,h=0;h<a.length;++h)ke[l++>>0]=a.charCodeAt(h);ke[l>>0]=0,r+=a.length+1}),0},environ_sizes_get:(e,t)=>{var r=to();be[e>>2]=r.length;var a=0;return r.forEach(function(l){a+=l.length+1}),be[t>>2]=a,0},fd_close:function(e){try{var t=Jt(e);if(t.X===null)throw new X(8);t.Ma&&(t.Ma=null);try{t.m.close&&t.m.close(t)}catch(r){throw r}finally{er[t.X]=null}return t.X=null,0}catch(r){if(typeof sn>"u"||r.name!=="ErrnoError")throw r;return r.aa}},fd_read:function(e,t,r,a){try{e:{var l=Jt(e);e=t;for(var h,p=t=0;p<r;p++){var b=be[e>>2],M=be[e+4>>2];e+=8;var y=l,k=b,W=M,Y=h,g=ke;if(0>W||0>Y)throw new X(28);if(y.X===null)throw new X(8);if((y.flags&2097155)===1)throw new X(8);if((y.node.mode&61440)===16384)throw new X(31);if(!y.m.read)throw new X(28);var j=typeof Y<"u";if(!j)Y=y.position;else if(!y.seekable)throw new X(70);var K=y.m.read(y,g,k,W,Y);j||(y.position+=K);var V=K;if(0>V){var Ee=-1;break e}if(t+=V,V<M)break;typeof h<"u"&&(h+=V)}Ee=t}return be[a>>2]=Ee,0}catch(B){if(typeof sn>"u"||B.name!=="ErrnoError")throw B;return B.aa}},fd_seek:function(e,t,r,a,l){t=r+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*r:NaN;try{if(isNaN(t))return 61;var h=Jt(e);return ki(h,t,a),u=[h.position>>>0,(Gt=h.position,1<=+Math.abs(Gt)?0<Gt?+Math.floor(Gt/4294967296)>>>0:~~+Math.ceil((Gt-+(~~Gt>>>0))/4294967296)>>>0:0)],he[l>>2]=u[0],he[l+4>>2]=u[1],h.Ma&&t===0&&a===0&&(h.Ma=null),0}catch(p){if(typeof sn>"u"||p.name!=="ErrnoError")throw p;return p.aa}},fd_write:function(e,t,r,a){try{e:{var l=Jt(e);e=t;for(var h,p=t=0;p<r;p++){var b=be[e>>2],M=be[e+4>>2];e+=8;var y=l,k=b,W=M,Y=h,g=ke;if(0>W||0>Y)throw new X(28);if(y.X===null)throw new X(8);if((y.flags&2097155)===0)throw new X(8);if((y.node.mode&61440)===16384)throw new X(31);if(!y.m.write)throw new X(28);y.seekable&&y.flags&1024&&ki(y,0,2);var j=typeof Y<"u";if(!j)Y=y.position;else if(!y.seekable)throw new X(70);var K=y.m.write(y,g,k,W,Y,void 0);j||(y.position+=K);var V=K;if(0>V){var Ee=-1;break e}t+=V,typeof h<"u"&&(h+=V)}Ee=t}return be[a>>2]=Ee,0}catch(B){if(typeof sn>"u"||B.name!=="ErrnoError")throw B;return B.aa}},strftime_l:(e,t,r,a)=>Ha(e,t,r,a)};(function(){function e(r){if(de=r=r.exports,st=de.memory,nt(),Se=de.__indirect_function_table,Xt.unshift(de.__wasm_call_ctors),Qe--,f.monitorRunDependencies&&f.monitorRunDependencies(Qe),Qe==0&&mt){var a=mt;mt=null,a()}return r}var t={env:ao,wasi_snapshot_preview1:ao};if(Qe++,f.monitorRunDependencies&&f.monitorRunDependencies(Qe),f.instantiateWasm)try{return f.instantiateWasm(t,e)}catch(r){je("Module.instantiateWasm callback failed with error: "+r),$(r)}return Wr(t,function(r){e(r.instance)}).catch($),{}})();var Ut=e=>(Ut=de.free)(e),ei=e=>(ei=de.malloc)(e),so=()=>(so=de.__errno_location)(),uo=f._ma_device__on_notification_unlocked=e=>(uo=f._ma_device__on_notification_unlocked=de.ma_device__on_notification_unlocked)(e);f._ma_malloc_emscripten=(e,t)=>(f._ma_malloc_emscripten=de.ma_malloc_emscripten)(e,t),f._ma_free_emscripten=(e,t)=>(f._ma_free_emscripten=de.ma_free_emscripten)(e,t);var lo=f._ma_device_process_pcm_frames_capture__webaudio=(e,t,r)=>(lo=f._ma_device_process_pcm_frames_capture__webaudio=de.ma_device_process_pcm_frames_capture__webaudio)(e,t,r),co=f._ma_device_process_pcm_frames_playback__webaudio=(e,t,r)=>(co=f._ma_device_process_pcm_frames_playback__webaudio=de.ma_device_process_pcm_frames_playback__webaudio)(e,t,r),fo=e=>(fo=de.__getTypeName)(e);f.__embind_initialize_bindings=()=>(f.__embind_initialize_bindings=de._embind_initialize_bindings)(),f.dynCall_iiji=(e,t,r,a,l)=>(f.dynCall_iiji=de.dynCall_iiji)(e,t,r,a,l),f.dynCall_jiji=(e,t,r,a,l)=>(f.dynCall_jiji=de.dynCall_jiji)(e,t,r,a,l),f.dynCall_iiiji=(e,t,r,a,l,h)=>(f.dynCall_iiiji=de.dynCall_iiiji)(e,t,r,a,l,h),f.dynCall_iij=(e,t,r,a)=>(f.dynCall_iij=de.dynCall_iij)(e,t,r,a),f.dynCall_jii=(e,t,r)=>(f.dynCall_jii=de.dynCall_jii)(e,t,r),f.dynCall_viijii=(e,t,r,a,l,h,p)=>(f.dynCall_viijii=de.dynCall_viijii)(e,t,r,a,l,h,p),f.dynCall_iiiiij=(e,t,r,a,l,h,p)=>(f.dynCall_iiiiij=de.dynCall_iiiiij)(e,t,r,a,l,h,p),f.dynCall_iiiiijj=(e,t,r,a,l,h,p,b,M)=>(f.dynCall_iiiiijj=de.dynCall_iiiiijj)(e,t,r,a,l,h,p,b,M),f.dynCall_iiiiiijj=(e,t,r,a,l,h,p,b,M,y)=>(f.dynCall_iiiiiijj=de.dynCall_iiiiiijj)(e,t,r,a,l,h,p,b,M,y);var br;mt=function e(){br||ho(),br||(mt=e)};function ho(){function e(){if(!br&&(br=!0,f.calledRun=!0,!zt)){if(f.noFSInit||Wi||(Wi=!0,Di(),f.stdin=f.stdin,f.stdout=f.stdout,f.stderr=f.stderr,f.stdin?Sn("stdin",f.stdin):Nr("/dev/tty","/dev/stdin"),f.stdout?Sn("stdout",null,f.stdout):Nr("/dev/tty","/dev/stdout"),f.stderr?Sn("stderr",null,f.stderr):Nr("/dev/tty1","/dev/stderr"),ir("/dev/stdin",0),ir("/dev/stdout",1),ir("/dev/stderr",1)),Pi=!1,i(Xt),O(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;){var t=f.postRun.shift();St.unshift(t)}i(St)}}if(!(0<Qe)){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)on();i(xt),0<Qe||(f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),e()},1)):e())}}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();return ho(),P.ready})})();const F=R}),(A=>{A.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.31.2","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((A,E,C)=>{C.r(E),C.d(E,{Animation:()=>R.Animation});var R=C(4)}),((A,E,C)=>{C.r(E),C.d(E,{Animation:()=>R});var R=(function(){function F(x,P,f,O){this.animation=x,this.artboard=P,this.playing=O,this.loopCount=0,this.scrubTo=null,this.instance=new f.LinearAnimationInstance(x,P)}return Object.defineProperty(F.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"time",{get:function(){return this.instance.time},set:function(x){this.instance.time=x},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),F.prototype.advance=function(x){this.scrubTo===null?this.instance.advance(x):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},F.prototype.apply=function(x){this.instance.apply(x)},F.prototype.cleanup=function(){this.instance.delete()},F})()}),((A,E,C)=>{C.r(E),C.d(E,{AudioAssetWrapper:()=>x.AudioAssetWrapper,AudioWrapper:()=>x.AudioWrapper,BLANK_URL:()=>F.BLANK_URL,CustomFileAssetLoaderWrapper:()=>x.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>x.FileAssetWrapper,Finalizable:()=>x.Finalizable,FontAssetWrapper:()=>x.FontAssetWrapper,FontWrapper:()=>x.FontWrapper,ImageAssetWrapper:()=>x.ImageAssetWrapper,ImageWrapper:()=>x.ImageWrapper,finalizationRegistry:()=>x.finalizationRegistry,registerTouchInteractions:()=>R.registerTouchInteractions,sanitizeUrl:()=>F.sanitizeUrl});var R=C(6),F=C(7),x=C(8)}),((A,E,C)=>{C.r(E),C.d(E,{registerTouchInteractions:()=>x});var R=void 0,F=function(P,f){var O,$;return["touchstart","touchmove"].indexOf(P.type)>-1&&(!((O=P.touches)===null||O===void 0)&&O.length)?(f||P.preventDefault(),{clientX:P.touches[0].clientX,clientY:P.touches[0].clientY}):P.type==="touchend"&&(!(($=P.changedTouches)===null||$===void 0)&&$.length)?{clientX:P.changedTouches[0].clientX,clientY:P.changedTouches[0].clientY}:{clientX:P.clientX,clientY:P.clientY}},x=function(P){var f=P.canvas,O=P.artboard,$=P.stateMachines,z=$===void 0?[]:$,Q=P.renderer,G=P.rive,te=P.fit,ne=P.alignment,H=P.isTouchScrollEnabled,S=H===void 0?!1:H,D=P.layoutScaleFactor,J=D===void 0?1:D;if(!f||!z.length||!Q||!G||!O||typeof window>"u")return null;var Z=null,re=!1,U=function(Re){if(re&&Re instanceof MouseEvent){Re.type=="mouseup"&&(re=!1);return}re=S&&Re.type==="touchend"&&Z==="touchstart",Z=Re.type;var je=Re.currentTarget.getBoundingClientRect(),Oe=F(Re,S),st=Oe.clientX,de=Oe.clientY;if(!(!st&&!de)){var zt=st-je.left,ke=de-je.top,Te=G.computeAlignment(te,ne,{minX:0,minY:0,maxX:je.width,maxY:je.height},O.bounds,J),De=new G.Mat2D;Te.invert(De);var qe=new G.Vec2D(zt,ke),he=G.mapXY(De,qe),be=he.x(),pt=he.y();switch(he.delete(),De.delete(),qe.delete(),Te.delete(),Re.type){case"mouseout":for(var Pe=0,nt=z;Pe<nt.length;Pe++){var Se=nt[Pe];Se.pointerMove(be,pt)}break;case"touchmove":case"mouseover":case"mousemove":{for(var xt=0,Xt=z;xt<Xt.length;xt++){var Se=Xt[xt];Se.pointerMove(be,pt)}break}case"touchstart":case"mousedown":{for(var St=0,on=z;St<on.length;St++){var Se=on[St];Se.pointerDown(be,pt)}break}case"touchend":case"mouseup":{for(var Qe=0,mt=z;Qe<mt.length;Qe++){var Se=mt[Qe];Se.pointerUp(be,pt)}break}}}},oe=U.bind(R);return f.addEventListener("mouseover",oe),f.addEventListener("mouseout",oe),f.addEventListener("mousemove",oe),f.addEventListener("mousedown",oe),f.addEventListener("mouseup",oe),f.addEventListener("touchmove",oe,{passive:S}),f.addEventListener("touchstart",oe,{passive:S}),f.addEventListener("touchend",oe),function(){f.removeEventListener("mouseover",oe),f.removeEventListener("mouseout",oe),f.removeEventListener("mousemove",oe),f.removeEventListener("mousedown",oe),f.removeEventListener("mouseup",oe),f.removeEventListener("touchmove",oe),f.removeEventListener("touchstart",oe),f.removeEventListener("touchend",oe)}}}),((A,E,C)=>{C.r(E),C.d(E,{BLANK_URL:()=>$,sanitizeUrl:()=>G});var R=/^([^\w]*)(javascript|data|vbscript)/im,F=/&#(\w+)(^\w|;)?/g,x=/&(newline|tab);/gi,P=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,f=/^.+(:|&colon;)/gim,O=[".","/"],$="about:blank";function z(te){return O.indexOf(te[0])>-1}function Q(te){var ne=te.replace(P,"");return ne.replace(F,function(H,S){return String.fromCharCode(S)})}function G(te){if(!te)return $;var ne=Q(te).replace(x,"").replace(P,"").trim();if(!ne)return $;if(z(ne))return ne;var H=ne.match(f);if(!H)return ne;var S=H[0];return R.test(S)?$:ne}}),((A,E,C)=>{C.r(E),C.d(E,{AudioAssetWrapper:()=>Q,AudioWrapper:()=>P,CustomFileAssetLoaderWrapper:()=>O,FileAssetWrapper:()=>$,Finalizable:()=>F,FontAssetWrapper:()=>G,FontWrapper:()=>f,ImageAssetWrapper:()=>z,ImageWrapper:()=>x,finalizationRegistry:()=>H});var R=(function(){var S=function(D,J){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,re){Z.__proto__=re}||function(Z,re){for(var U in re)Object.prototype.hasOwnProperty.call(re,U)&&(Z[U]=re[U])},S(D,J)};return function(D,J){if(typeof J!="function"&&J!==null)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");S(D,J);function Z(){this.constructor=D}D.prototype=J===null?Object.create(J):(Z.prototype=J.prototype,new Z)}})(),F=(function(){function S(){this.selfUnref=!1}return S})(),x=(function(S){R(D,S);function D(J){var Z=S.call(this)||this;return Z._nativeImage=J,Z}return Object.defineProperty(D.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),D.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},D})(F),P=(function(S){R(D,S);function D(J){var Z=S.call(this)||this;return Z._nativeAudio=J,Z}return Object.defineProperty(D.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),D.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},D})(F),f=(function(S){R(D,S);function D(J){var Z=S.call(this)||this;return Z._nativeFont=J,Z}return Object.defineProperty(D.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),D.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},D})(F),O=(function(){function S(D,J){this._assetLoaderCallback=J,this.assetLoader=new D.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return S.prototype.loadContents=function(D,J){var Z;return D.isImage?Z=new z(D):D.isAudio?Z=new Q(D):D.isFont&&(Z=new G(D)),this._assetLoaderCallback(Z,J)},S})(),$=(function(){function S(D){this._nativeFileAsset=D}return S.prototype.decode=function(D){this._nativeFileAsset.decode(D)},Object.defineProperty(S.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),S})(),z=(function(S){R(D,S);function D(){return S!==null&&S.apply(this,arguments)||this}return D.prototype.setRenderImage=function(J){this._nativeFileAsset.setRenderImage(J.nativeImage)},D})($),Q=(function(S){R(D,S);function D(){return S!==null&&S.apply(this,arguments)||this}return D.prototype.setAudioSource=function(J){this._nativeFileAsset.setAudioSource(J.nativeAudio)},D})($),G=(function(S){R(D,S);function D(){return S!==null&&S.apply(this,arguments)||this}return D.prototype.setFont=function(J){this._nativeFileAsset.setFont(J.nativeFont)},D})($),te=(function(){function S(D){}return S.prototype.register=function(D){D.selfUnref=!0},S.prototype.unregister=function(D){},S})(),ne=typeof FinalizationRegistry<"u"?FinalizationRegistry:te,H=new ne(function(S){S.unref()})})],v={};function m(A){var E=v[A];if(E!==void 0)return E.exports;var C=v[A]={exports:{}};return c[A](C,C.exports,m),C.exports}m.d=(A,E)=>{for(var C in E)m.o(E,C)&&!m.o(A,C)&&Object.defineProperty(A,C,{enumerable:!0,get:E[C]})},m.o=(A,E)=>Object.prototype.hasOwnProperty.call(A,E),m.r=A=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})};var w={};return(()=>{m.r(w),m.d(w,{Alignment:()=>G,DataEnum:()=>pt,EventType:()=>U,Fit:()=>Q,Layout:()=>te,LoopType:()=>oe,Rive:()=>he,RiveEventType:()=>D,RiveFile:()=>qe,RuntimeLoader:()=>ne,StateMachineInput:()=>S,StateMachineInputType:()=>H,Testing:()=>Dr,ViewModel:()=>be,ViewModelInstance:()=>nt,ViewModelInstanceArtboard:()=>jt,ViewModelInstanceAssetImage:()=>On,ViewModelInstanceBoolean:()=>St,ViewModelInstanceColor:()=>$t,ViewModelInstanceEnum:()=>Qe,ViewModelInstanceList:()=>mt,ViewModelInstanceNumber:()=>Xt,ViewModelInstanceString:()=>xt,ViewModelInstanceTrigger:()=>on,ViewModelInstanceValue:()=>Se,decodeAudio:()=>Zn,decodeFont:()=>Gt,decodeImage:()=>Wr});var A=m(1),E=m(2),C=m(3),R=m(5),F=(function(){var u=function(n,i){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&(d[I]=_[I])},u(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");u(n,i);function d(){this.constructor=n}n.prototype=i===null?Object.create(i):(d.prototype=i.prototype,new d)}})(),x=function(){return x=Object.assign||function(u){for(var n,i=1,d=arguments.length;i<d;i++){n=arguments[i];for(var _ in n)Object.prototype.hasOwnProperty.call(n,_)&&(u[_]=n[_])}return u},x.apply(this,arguments)},P=function(u,n,i,d){function _(I){return I instanceof i?I:new i(function(L){L(I)})}return new(i||(i=Promise))(function(I,L){function ee(ce){try{q(d.next(ce))}catch(Ce){L(Ce)}}function se(ce){try{q(d.throw(ce))}catch(Ce){L(Ce)}}function q(ce){ce.done?I(ce.value):_(ce.value).then(ee,se)}q((d=d.apply(u,n||[])).next())})},f=function(u,n){var i={label:0,sent:function(){if(I[0]&1)throw I[1];return I[1]},trys:[],ops:[]},d,_,I,L=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return L.next=ee(0),L.throw=ee(1),L.return=ee(2),typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function ee(q){return function(ce){return se([q,ce])}}function se(q){if(d)throw new TypeError("Generator is already executing.");for(;L&&(L=0,q[0]&&(i=0)),i;)try{if(d=1,_&&(I=q[0]&2?_.return:q[0]?_.throw||((I=_.return)&&I.call(_),0):_.next)&&!(I=I.call(_,q[1])).done)return I;switch(_=0,I&&(q=[q[0]&2,I.value]),q[0]){case 0:case 1:I=q;break;case 4:return i.label++,{value:q[1],done:!1};case 5:i.label++,_=q[1],q=[0];continue;case 7:q=i.ops.pop(),i.trys.pop();continue;default:if(I=i.trys,!(I=I.length>0&&I[I.length-1])&&(q[0]===6||q[0]===2)){i=0;continue}if(q[0]===3&&(!I||q[1]>I[0]&&q[1]<I[3])){i.label=q[1];break}if(q[0]===6&&i.label<I[1]){i.label=I[1],I=q;break}if(I&&i.label<I[2]){i.label=I[2],i.ops.push(q);break}I[2]&&i.ops.pop(),i.trys.pop();continue}q=n.call(u,i)}catch(ce){q=[6,ce],_=0}finally{d=I=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}},O=function(u,n,i){if(i||arguments.length===2)for(var d=0,_=n.length,I;d<_;d++)(I||!(d in n))&&(I||(I=Array.prototype.slice.call(n,0,d)),I[d]=n[d]);return u.concat(I||Array.prototype.slice.call(n))},$=(function(u){F(n,u);function n(){var i=u!==null&&u.apply(this,arguments)||this;return i.isHandledError=!0,i}return n})(Error),z=function(u){return u&&u.isHandledError?u.message:"Problem loading file; may be corrupt!"},Q;(function(u){u.Cover="cover",u.Contain="contain",u.Fill="fill",u.FitWidth="fitWidth",u.FitHeight="fitHeight",u.None="none",u.ScaleDown="scaleDown",u.Layout="layout"})(Q||(Q={}));var G;(function(u){u.Center="center",u.TopLeft="topLeft",u.TopCenter="topCenter",u.TopRight="topRight",u.CenterLeft="centerLeft",u.CenterRight="centerRight",u.BottomLeft="bottomLeft",u.BottomCenter="bottomCenter",u.BottomRight="bottomRight"})(G||(G={}));var te=(function(){function u(n){var i,d,_,I,L,ee,se;this.fit=(i=n?.fit)!==null&&i!==void 0?i:Q.Contain,this.alignment=(d=n?.alignment)!==null&&d!==void 0?d:G.Center,this.layoutScaleFactor=(_=n?.layoutScaleFactor)!==null&&_!==void 0?_:1,this.minX=(I=n?.minX)!==null&&I!==void 0?I:0,this.minY=(L=n?.minY)!==null&&L!==void 0?L:0,this.maxX=(ee=n?.maxX)!==null&&ee!==void 0?ee:0,this.maxY=(se=n?.maxY)!==null&&se!==void 0?se:0}return u.new=function(n){var i=n.fit,d=n.alignment,_=n.minX,I=n.minY,L=n.maxX,ee=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new u({fit:i,alignment:d,minX:_,minY:I,maxX:L,maxY:ee})},u.prototype.copyWith=function(n){var i=n.fit,d=n.alignment,_=n.layoutScaleFactor,I=n.minX,L=n.minY,ee=n.maxX,se=n.maxY;return new u({fit:i??this.fit,alignment:d??this.alignment,layoutScaleFactor:_??this.layoutScaleFactor,minX:I??this.minX,minY:L??this.minY,maxX:ee??this.maxX,maxY:se??this.maxY})},u.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var i;return this.fit===Q.Cover?i=n.Fit.cover:this.fit===Q.Contain?i=n.Fit.contain:this.fit===Q.Fill?i=n.Fit.fill:this.fit===Q.FitWidth?i=n.Fit.fitWidth:this.fit===Q.FitHeight?i=n.Fit.fitHeight:this.fit===Q.ScaleDown?i=n.Fit.scaleDown:this.fit===Q.Layout?i=n.Fit.layout:i=n.Fit.none,this.cachedRuntimeFit=i,i},u.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var i;return this.alignment===G.TopLeft?i=n.Alignment.topLeft:this.alignment===G.TopCenter?i=n.Alignment.topCenter:this.alignment===G.TopRight?i=n.Alignment.topRight:this.alignment===G.CenterLeft?i=n.Alignment.centerLeft:this.alignment===G.CenterRight?i=n.Alignment.centerRight:this.alignment===G.BottomLeft?i=n.Alignment.bottomLeft:this.alignment===G.BottomCenter?i=n.Alignment.bottomCenter:this.alignment===G.BottomRight?i=n.Alignment.bottomRight:i=n.Alignment.center,this.cachedRuntimeAlignment=i,i},u})(),ne=(function(){function u(){}return u.loadRuntime=function(){A.default({locateFile:function(){return u.wasmURL}}).then(function(n){var i;for(u.runtime=n;u.callBackQueue.length>0;)(i=u.callBackQueue.shift())===null||i===void 0||i(u.runtime)}).catch(function(n){var i={message:n?.message||"Unknown error",type:n?.name||"Error",wasmError:n instanceof WebAssembly.CompileError||n instanceof WebAssembly.RuntimeError,originalError:n};console.debug("Rive WASM load error details:",i);var d="https://cdn.jsdelivr.net/npm/".concat(E.name,"@").concat(E.version,"/rive_fallback.wasm");if(u.wasmURL.toLowerCase()!==d)console.warn("Failed to load WASM from ".concat(u.wasmURL," (").concat(i.message,"), trying jsdelivr as a backup")),u.setWasmUrl(d),u.loadRuntime();else{var _=["Could not load Rive WASM file from ".concat(u.wasmURL," or ").concat(d,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(i.type),"- Message: ".concat(i.message),"- WebAssembly-specific error: ".concat(i.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(_)}})},u.getInstance=function(n){u.isLoading||(u.isLoading=!0,u.loadRuntime()),u.runtime?n(u.runtime):u.callBackQueue.push(n)},u.awaitInstance=function(){return new Promise(function(n){return u.getInstance(function(i){return n(i)})})},u.setWasmUrl=function(n){u.wasmURL=n},u.getWasmUrl=function(){return u.wasmURL},u.isLoading=!1,u.callBackQueue=[],u.wasmURL="https://unpkg.com/".concat(E.name,"@").concat(E.version,"/rive.wasm"),u})(),H;(function(u){u[u.Number=56]="Number",u[u.Trigger=58]="Trigger",u[u.Boolean=59]="Boolean"})(H||(H={}));var S=(function(){function u(n,i){this.type=n,this.runtimeInput=i}return Object.defineProperty(u.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),u.prototype.fire=function(){this.type===H.Trigger&&this.runtimeInput.fire()},u.prototype.delete=function(){this.runtimeInput=null},u})(),D;(function(u){u[u.General=128]="General",u[u.OpenUrl=131]="OpenUrl"})(D||(D={}));var J=(function(){function u(n){this.nativeArtboard=n}return u})(),Z=(function(){function u(n,i,d,_){this.stateMachine=n,this.playing=d,this.artboard=_,this.inputs=[],this.instance=new i.StateMachineInstance(n,_),this.initInputs(i)}return Object.defineProperty(u.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"statesChanged",{get:function(){for(var n=[],i=0;i<this.instance.stateChangedCount();i++)n.push(this.instance.stateChangedNameByIndex(i));return n},enumerable:!1,configurable:!0}),u.prototype.advance=function(n){this.instance.advance(n)},u.prototype.advanceAndApply=function(n){this.instance.advanceAndApply(n)},u.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},u.prototype.reportedEventAt=function(n){return this.instance.reportedEventAt(n)},u.prototype.initInputs=function(n){for(var i=0;i<this.instance.inputCount();i++){var d=this.instance.input(i);this.inputs.push(this.mapRuntimeInput(d,n))}},u.prototype.mapRuntimeInput=function(n,i){if(n.type===i.SMIInput.bool)return new S(H.Boolean,n.asBool());if(n.type===i.SMIInput.number)return new S(H.Number,n.asNumber());if(n.type===i.SMIInput.trigger)return new S(H.Trigger,n.asTrigger())},u.prototype.cleanup=function(){this.inputs.forEach(function(n){n.delete()}),this.inputs.length=0,this.instance.delete()},u.prototype.bindViewModelInstance=function(n){n.runtimeInstance!=null&&this.instance.bindViewModelInstance(n.runtimeInstance)},u})(),re=(function(){function u(n,i,d,_,I){_===void 0&&(_=[]),I===void 0&&(I=[]),this.runtime=n,this.artboard=i,this.eventManager=d,this.animations=_,this.stateMachines=I}return u.prototype.add=function(n,i,d){if(d===void 0&&(d=!0),n=rt(n),n.length===0)this.animations.forEach(function(Le){return Le.playing=i}),this.stateMachines.forEach(function(Le){return Le.playing=i});else for(var _=this.animations.map(function(Le){return Le.name}),I=this.stateMachines.map(function(Le){return Le.name}),L=0;L<n.length;L++){var ee=_.indexOf(n[L]),se=I.indexOf(n[L]);if(ee>=0||se>=0)ee>=0?this.animations[ee].playing=i:this.stateMachines[se].playing=i;else{var q=this.artboard.animationByName(n[L]);if(q){var ce=new C.Animation(q,this.artboard,this.runtime,i);ce.advance(0),ce.apply(1),this.animations.push(ce)}else{var Ce=this.artboard.stateMachineByName(n[L]);if(Ce){var Ue=new Z(Ce,this.runtime,i,this.artboard);this.stateMachines.push(Ue)}}}}return d&&(i?this.eventManager.fire({type:U.Play,data:this.playing}):this.eventManager.fire({type:U.Pause,data:this.paused})),i?this.playing:this.paused},u.prototype.initLinearAnimations=function(n,i){for(var d=this.animations.map(function(se){return se.name}),_=0;_<n.length;_++){var I=d.indexOf(n[_]);if(I>=0)this.animations[I].playing=i;else{var L=this.artboard.animationByName(n[_]);if(L){var ee=new C.Animation(L,this.artboard,this.runtime,i);ee.advance(0),ee.apply(1),this.animations.push(ee)}else console.error("Animation with name ".concat(n[_]," not found."))}}},u.prototype.initStateMachines=function(n,i){for(var d=this.stateMachines.map(function(se){return se.name}),_=0;_<n.length;_++){var I=d.indexOf(n[_]);if(I>=0)this.stateMachines[I].playing=i;else{var L=this.artboard.stateMachineByName(n[_]);if(L){var ee=new Z(L,this.runtime,i,this.artboard);this.stateMachines.push(ee),i||ee.advanceAndApply(0)}else console.warn("State Machine with name ".concat(n[_]," not found.")),this.initLinearAnimations([n[_]],i)}}},u.prototype.play=function(n){return this.add(n,!0)},u.prototype.pause=function(n){return this.add(n,!1)},u.prototype.scrub=function(n,i){var d=this.animations.filter(function(_){return n.includes(_.name)});return d.forEach(function(_){return _.scrubTo=i}),d.map(function(_){return _.name})},Object.defineProperty(u.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),u.prototype.stop=function(n){var i=this;n=rt(n);var d=[];if(n.length===0)d=this.animations.map(function(L){return L.name}).concat(this.stateMachines.map(function(L){return L.name})),this.animations.forEach(function(L){return L.cleanup()}),this.stateMachines.forEach(function(L){return L.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var _=this.animations.filter(function(L){return n.includes(L.name)});_.forEach(function(L){L.cleanup(),i.animations.splice(i.animations.indexOf(L),1)});var I=this.stateMachines.filter(function(L){return n.includes(L.name)});I.forEach(function(L){L.cleanup(),i.stateMachines.splice(i.stateMachines.indexOf(L),1)}),d=_.map(function(L){return L.name}).concat(I.map(function(L){return L.name}))}return this.eventManager.fire({type:U.Stop,data:d}),d},Object.defineProperty(u.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,i){return n||i.playing},!1)||this.stateMachines.reduce(function(n,i){return n||i.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),u.prototype.atLeastOne=function(n,i){i===void 0&&(i=!0);var d;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([d=this.artboard.animationByIndex(0).name],n,i):this.artboard.stateMachineCount()>0&&this.add([d=this.artboard.stateMachineByIndex(0).name],n,i)),d},u.prototype.handleLooping=function(){for(var n=0,i=this.animations.filter(function(_){return _.playing});n<i.length;n++){var d=i[n];d.loopValue===0&&d.loopCount?(d.loopCount=0,this.stop(d.name)):d.loopValue===1&&d.loopCount?(this.eventManager.fire({type:U.Loop,data:{animation:d.name,type:oe.Loop}}),d.loopCount=0):d.loopValue===2&&d.loopCount>1&&(this.eventManager.fire({type:U.Loop,data:{animation:d.name,type:oe.PingPong}}),d.loopCount=0)}},u.prototype.handleStateChanges=function(){for(var n=[],i=0,d=this.stateMachines.filter(function(I){return I.playing});i<d.length;i++){var _=d[i];n.push.apply(n,_.statesChanged)}n.length>0&&this.eventManager.fire({type:U.StateChange,data:n})},u.prototype.handleAdvancing=function(n){this.eventManager.fire({type:U.Advance,data:n})},u})(),U;(function(u){u.Load="load",u.LoadError="loaderror",u.Play="play",u.Pause="pause",u.Stop="stop",u.Loop="loop",u.Draw="draw",u.Advance="advance",u.StateChange="statechange",u.RiveEvent="riveevent",u.AudioStatusChange="audiostatuschange"})(U||(U={}));var oe;(function(u){u.OneShot="oneshot",u.Loop="loop",u.PingPong="pingpong"})(oe||(oe={}));var Re=(function(){function u(n){n===void 0&&(n=[]),this.listeners=n}return u.prototype.getListeners=function(n){return this.listeners.filter(function(i){return i.type===n})},u.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},u.prototype.remove=function(n){for(var i=0;i<this.listeners.length;i++){var d=this.listeners[i];if(d.type===n.type&&d.callback===n.callback){this.listeners.splice(i,1);break}}},u.prototype.removeAll=function(n){var i=this;n?this.listeners.filter(function(d){return d.type===n}).forEach(function(d){return i.remove(d)}):this.listeners.splice(0,this.listeners.length)},u.prototype.fire=function(n){var i=this.getListeners(n.type);i.forEach(function(d){return d.callback(n)})},u})(),je=(function(){function u(n){this.eventManager=n,this.queue=[]}return u.prototype.add=function(n){this.queue.push(n)},u.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n?.action&&n.action(),n?.event&&this.eventManager.fire(n.event)}},u})(),Oe;(function(u){u[u.AVAILABLE=0]="AVAILABLE",u[u.UNAVAILABLE=1]="UNAVAILABLE"})(Oe||(Oe={}));var st=(function(u){F(n,u);function n(){var i=u!==null&&u.apply(this,arguments)||this;return i._started=!1,i._enabled=!1,i._status=Oe.UNAVAILABLE,i}return n.prototype.delay=function(i){return P(this,void 0,void 0,function(){return f(this,function(d){return[2,new Promise(function(_){return setTimeout(_,i)})]})})},n.prototype.timeout=function(){return P(this,void 0,void 0,function(){return f(this,function(i){return[2,new Promise(function(d,_){return setTimeout(_,50)})]})})},n.prototype.reportToListeners=function(){this.fire({type:U.AudioStatusChange}),this.removeAll()},n.prototype.enableAudio=function(){return P(this,void 0,void 0,function(){return f(this,function(i){return this._enabled||(this._enabled=!0,this._status=Oe.AVAILABLE,this.reportToListeners()),[2]})})},n.prototype.testAudio=function(){return P(this,void 0,void 0,function(){return f(this,function(i){switch(i.label){case 0:if(!(this._status===Oe.UNAVAILABLE&&this._audioContext!==null))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return i.sent(),this.enableAudio(),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}})})},n.prototype._establishAudio=function(){return P(this,void 0,void 0,function(){return f(this,function(i){switch(i.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),i.label=2;case 2:return this._status!==Oe.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return i.sent(),[4,this.delay(1e3)];case 4:return i.sent(),[3,2];case 5:return[2]}})})},n.prototype.listenForUserAction=function(){var i=this,d=function(){return P(i,void 0,void 0,function(){return f(this,function(_){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",d,{once:!0})},n.prototype.establishAudio=function(){return P(this,void 0,void 0,function(){return f(this,function(i){return this._establishAudio(),[2]})})},Object.defineProperty(n.prototype,"systemVolume",{get:function(){return this._status===Oe.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),n})(Re),de=new st,zt=(function(){function u(){}return u.prototype.observe=function(){},u.prototype.unobserve=function(){},u.prototype.disconnect=function(){},u})(),ke=globalThis.ResizeObserver||zt,Te=(function(){function u(){var n=this;this._elementsMap=new Map,this._onObservedEntry=function(i){var d=n._elementsMap.get(i.target);d!==null?d.onResize(i.target.clientWidth==0||i.target.clientHeight==0):n._resizeObserver.unobserve(i.target)},this._onObserved=function(i){i.forEach(n._onObservedEntry)},this._resizeObserver=new ke(this._onObserved)}return u.prototype.add=function(n,i){var d={onResize:i,element:n};return this._elementsMap.set(n,d),this._resizeObserver.observe(n),d},u.prototype.remove=function(n){this._resizeObserver.unobserve(n.element),this._elementsMap.delete(n.element)},u})(),De=new Te,qe=(function(){function u(n){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.src=n.src,this.buffer=n.buffer,n.assetLoader&&(this.assetLoader=n.assetLoader),this.enableRiveAssetCDN=typeof n.enableRiveAssetCDN=="boolean"?n.enableRiveAssetCDN:!0,this.eventManager=new Re,n.onLoad&&this.on(U.Load,n.onLoad),n.onLoadError&&this.on(U.LoadError,n.onLoadError)}return u.prototype.initData=function(){return P(this,void 0,void 0,function(){var n,i,d,_,I;return f(this,function(L){switch(L.label){case 0:return this.src?(n=this,[4,Qn(this.src)]):[3,2];case 1:n.buffer=L.sent(),L.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(d=new R.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),i=d.assetLoader),_=this,[4,this.runtime.load(new Uint8Array(this.buffer),i,this.enableRiveAssetCDN)]);case 3:return _.file=L.sent(),this.destroyed?((I=this.file)===null||I===void 0||I.delete(),this.file=null,[2]):(this.file!==null?this.eventManager.fire({type:U.Load,data:this}):this.fireLoadError(u.fileLoadErrorMessage),[2])}})})},u.prototype.init=function(){return P(this,void 0,void 0,function(){var n,i;return f(this,function(d){switch(d.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(u.missingErrorMessage),[2];d.label=1;case 1:return d.trys.push([1,4,,5]),n=this,[4,ne.awaitInstance()];case 2:return n.runtime=d.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return d.sent(),[3,5];case 4:return i=d.sent(),this.fireLoadError(i instanceof Error?i.message:u.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},u.prototype.fireLoadError=function(n){throw this.eventManager.fire({type:U.LoadError,data:n}),new Error(n)},u.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},u.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},u.prototype.cleanup=function(){var n;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(n=this.file)===null||n===void 0||n.delete(),this.file=null,this.destroyed=!0)},u.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},u.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},u.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},u.prototype.getArtboard=function(n){var i=this.file.artboardByName(n);return i!=null?new J(i):null},u.missingErrorMessage="Rive source file or data buffer required",u.fileLoadErrorMessage="The file failed to load",u})(),he=(function(){function u(n){var i=this,d;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(_){var I=i._hasZeroSize!==_;i._hasZeroSize=_,_?(!i._layout.maxX||!i._layout.maxY)&&i.resizeToCanvas():I&&i.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=n.canvas,n.canvas.constructor===HTMLCanvasElement&&(this._observed=De.add(this.canvas,this.onCanvasResize)),this.src=n.src,this.buffer=n.buffer,this.riveFile=n.riveFile,this.layout=(d=n.layout)!==null&&d!==void 0?d:new te,this.shouldDisableRiveListeners=!!n.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!n.isTouchScrollEnabled,this.automaticallyHandleEvents=!!n.automaticallyHandleEvents,this.enableRiveAssetCDN=n.enableRiveAssetCDN===void 0?!0:n.enableRiveAssetCDN,this.eventManager=new Re,n.onLoad&&this.on(U.Load,n.onLoad),n.onLoadError&&this.on(U.LoadError,n.onLoadError),n.onPlay&&this.on(U.Play,n.onPlay),n.onPause&&this.on(U.Pause,n.onPause),n.onStop&&this.on(U.Stop,n.onStop),n.onLoop&&this.on(U.Loop,n.onLoop),n.onStateChange&&this.on(U.StateChange,n.onStateChange),n.onAdvance&&this.on(U.Advance,n.onAdvance),n.onload&&!n.onLoad&&this.on(U.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(U.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(U.Play,n.onplay),n.onpause&&!n.onPause&&this.on(U.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(U.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(U.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(U.StateChange,n.onstatechange),n.assetLoader&&(this.assetLoader=n.assetLoader),this.taskQueue=new je(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:n.autoplay,autoBind:n.autoBind,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return Object.defineProperty(u.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),u.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new u(n)},u.prototype.onSystemAudioChanged=function(){this.volume=this._volume},u.prototype.init=function(n){var i=this,d=n.src,_=n.buffer,I=n.riveFile,L=n.animations,ee=n.stateMachines,se=n.artboard,q=n.autoplay,ce=q===void 0?!1:q,Ce=n.useOffscreenRenderer,Ue=Ce===void 0?!1:Ce,Le=n.autoBind,gt=Le===void 0?!1:Le;if(!this.destroyed){if(this.src=d,this.buffer=_,this.riveFile=I,!this.src&&!this.buffer&&!this.riveFile)throw new $(u.missingErrorMessage);var ut=rt(L),Ze=rt(ee);this.loaded=!1,this.readyForPlaying=!1,ne.awaitInstance().then(function(et){i.destroyed||(i.runtime=et,i.removeRiveListeners(),i.deleteRiveRenderer(),i.renderer=i.runtime.makeRenderer(i.canvas,Ue),i.canvas.width||i.canvas.height||i.resizeDrawingSurfaceToCanvas(),i.initData(se,ut,Ze,ce,gt).then(function(lt){if(lt)return i.setupRiveListeners()}).catch(function(lt){console.error(lt)}))}).catch(function(et){console.error(et)})}},u.prototype.setupRiveListeners=function(n){var i=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var d=(this.animator.stateMachines||[]).filter(function(I){return I.playing&&i.runtime.hasListeners(I.instance)}).map(function(I){return I.instance}),_=this.isTouchScrollEnabled;n&&"isTouchScrollEnabled"in n&&(_=n.isTouchScrollEnabled),this.eventCleanup=(0,R.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:d,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:_,layoutScaleFactor:this._layout.layoutScaleFactor})}},u.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},u.prototype.initializeAudio=function(){var n=this,i;de.status==Oe.UNAVAILABLE&&!((i=this.artboard)===null||i===void 0)&&i.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:U.AudioStatusChange,callback:function(){return n.onSystemAudioChanged()}},de.add(this._audioEventListener),de.establishAudio())},u.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},u.prototype.initData=function(n,i,d,_,I){return P(this,void 0,void 0,function(){var L,ee,se,q;return f(this,function(ce){switch(ce.label){case 0:return ce.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(L=new qe({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=L,[4,L.init()]);case 1:if(ce.sent(),this.destroyed)return L.destroyIfUnused(),[2,!1];ce.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(n,i,d,_,I),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:U.Load,data:(q=this.src)!==null&&q!==void 0?q:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return ee=ce.sent(),se=z(ee),console.warn(se),this.eventManager.fire({type:U.LoadError,data:se}),[2,Promise.reject(se)];case 4:return[2]}})})},u.prototype.initArtboard=function(n,i,d,_,I){if(this.file){var L=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!L){var ee="Invalid artboard name or no default artboard";console.warn(ee),this.eventManager.fire({type:U.LoadError,data:ee});return}if(this.artboard=L,L.volume=this._volume*de.systemVolume,this.artboard.animationCount()<1){var ee="Artboard has no animations";throw this.eventManager.fire({type:U.LoadError,data:ee}),ee}this.animator=new re(this.runtime,this.artboard,this.eventManager);var se;if(i.length>0||d.length>0?(se=i.concat(d),this.animator.initLinearAnimations(i,_),this.animator.initStateMachines(d,_)):se=[this.animator.atLeastOne(_,!1)],this.taskQueue.add({event:{type:_?U.Play:U.Pause,data:se}}),I){var q=this.file.defaultArtboardViewModel(L);if(q!==null){var ce=q.defaultInstance();if(ce!==null){var Ce=new nt(ce,null);this.bindViewModelInstance(Ce)}}}}},u.prototype.drawFrame=function(){var n,i;!((n=document?.timeline)===null||n===void 0)&&n.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(i=this.runtime)===null||i===void 0||i.resolveAnimationFrame()):this.startRendering()},u.prototype.draw=function(n,i){var d;this.frameRequestId=null;var _=performance.now();this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,i?.());var I=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var L=this.animator.animations.filter(function(Mt){return Mt.playing||Mt.needsScrub}).sort(function(Mt){return Mt.needsScrub?-1:1}),ee=0,se=L;ee<se.length;ee++){var q=se[ee];q.advance(I),q.instance.didLoop&&(q.loopCount+=1),q.apply(1)}for(var ce=this.animator.stateMachines.filter(function(Mt){return Mt.playing}),Ce=0,Ue=ce;Ce<Ue.length;Ce++){var Le=Ue[Ce],gt=Le.reportedEventCount();if(gt)for(var ut=0;ut<gt;ut++){var Ze=Le.reportedEventAt(ut);if(Ze)if(Ze.type===D.OpenUrl){if(this.eventManager.fire({type:U.RiveEvent,data:Ze}),this.automaticallyHandleEvents){var et=document.createElement("a"),lt=Ze,qt=lt.url,Kt=lt.target,Et=(0,R.sanitizeUrl)(qt);qt&&et.setAttribute("href",Et),Kt&&et.setAttribute("target",Kt),Et&&Et!==R.BLANK_URL&&et.click()}}else this.eventManager.fire({type:U.RiveEvent,data:Ze})}Le.advanceAndApply(I)}this.animator.stateMachines.length==0&&this.artboard.advance(I);var ie=this.renderer;ie.clear(),ie.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(ie),ie.restore(),ie.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(I),this.frameCount++;var _e=performance.now();for(this.frameTimes.push(_e),this.durations.push(_e-_);this.frameTimes[0]<=_e-1e3;)this.frameTimes.shift(),this.durations.shift();(d=this._viewModelInstance)===null||d===void 0||d.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},u.prototype.alignRenderer=function(){var n=this,i=n.renderer,d=n.runtime,_=n._layout,I=n.artboard;i.align(_.runtimeFit(d),_.runtimeAlignment(d),{minX:_.minX,minY:_.minY,maxX:_.maxX,maxY:_.maxY},I.bounds,this._devicePixelRatioUsed*_.layoutScaleFactor)},Object.defineProperty(u.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,i){return n+i},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),u.prototype.cleanup=function(){var n,i;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&De.remove(this._observed),this.removeRiveListeners(),this.file&&((n=this.riveFile)===null||n===void 0||n.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(de.remove(this._audioEventListener),this._audioEventListener=null),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=null,this._dataEnums=null},u.prototype.deleteRiveRenderer=function(){var n;(n=this.renderer)===null||n===void 0||n.delete(),this.renderer=null},u.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},u.prototype.retrieveTextRun=function(n){var i;if(!n){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var d=this.artboard.textRun(n);if(!d){console.warn("Could not access a text run with name '".concat(n,"' in the '").concat((i=this.artboard)===null||i===void 0?void 0:i.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return d},u.prototype.getTextRunValue=function(n){var i=this.retrieveTextRun(n);return i?i.text:void 0},u.prototype.setTextRunValue=function(n,i){var d=this.retrieveTextRun(n);d&&(d.text=i)},u.prototype.play=function(n,i){var d=this;if(n=rt(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return d.play(n,i)}});return}this.animator.play(n),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},u.prototype.pause=function(n){var i=this;if(n=rt(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.pause(n)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(n)},u.prototype.scrub=function(n,i){var d=this;if(n=rt(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return d.scrub(n,i)}});return}this.animator.scrub(n,i||0),this.drawFrame()},u.prototype.stop=function(n){var i=this;if(n=rt(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.stop(n)}});return}this.animator&&this.animator.stop(n),this.eventCleanup&&this.eventCleanup()},u.prototype.reset=function(n){var i,d,_=n?.artboard,I=rt(n?.animations),L=rt(n?.stateMachines),ee=(i=n?.autoplay)!==null&&i!==void 0?i:!1,se=(d=n?.autoBind)!==null&&d!==void 0?d:!1;this.cleanupInstances(),this.initArtboard(_,I,L,ee,se),this.taskQueue.process()},u.prototype.load=function(n){this.file=null,this.stop(),this.init(n)},Object.defineProperty(u.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),u.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},u.prototype.resizeDrawingSurfaceToCanvas=function(n){if(this.canvas instanceof HTMLCanvasElement&&window){var i=this.canvas.getBoundingClientRect(),d=i.width,_=i.height,I=n||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=I,this.canvas.width=I*d,this.canvas.height=I*_,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Q.Layout){var L=this._layout.layoutScaleFactor;this.artboard.width=d/L,this.artboard.height=_/L}}},Object.defineProperty(u.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.animationCount();i++)n.push(this.artboard.animationByIndex(i).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.stateMachineCount();i++)n.push(this.artboard.stateMachineByIndex(i).name);return n},enumerable:!1,configurable:!0}),u.prototype.stateMachineInputs=function(n){if(this.loaded){var i=this.animator.stateMachines.find(function(d){return d.name===n});return i?.inputs}},u.prototype.retrieveInputAtPath=function(n,i){if(!n){console.warn("No input name provided for path '".concat(i,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var d=this.artboard.inputByPath(n,i);if(!d){console.warn("Could not access an input with name: '".concat(n,"', at path:'").concat(i,"'"));return}return d},u.prototype.setBooleanStateAtPath=function(n,i,d){var _=this.retrieveInputAtPath(n,d);_&&(_.type===H.Boolean?_.asBool().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(d,"' is not a boolean")))},u.prototype.setNumberStateAtPath=function(n,i,d){var _=this.retrieveInputAtPath(n,d);_&&(_.type===H.Number?_.asNumber().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(d,"' is not a number")))},u.prototype.fireStateAtPath=function(n,i){var d=this.retrieveInputAtPath(n,i);d&&(d.type===H.Trigger?d.asTrigger().fire():console.warn("Input with name: '".concat(n,"', at path:'").concat(i,"' is not a trigger")))},u.prototype.retrieveTextAtPath=function(n,i){if(!n){console.warn("No text name provided for path '".concat(i,"'"));return}if(!i){console.warn("No path provided for text '".concat(n,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var d=this.artboard.textByPath(n,i);if(!d){console.warn("Could not access text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return d},u.prototype.getTextRunValueAtPath=function(n,i){var d=this.retrieveTextAtPath(n,i);if(!d){console.warn("Could not get text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return d.text},u.prototype.setTextRunValueAtPath=function(n,i,d){var _=this.retrieveTextAtPath(n,d);if(!_){console.warn("Could not set text with name: '".concat(n,"', at path:'").concat(d,"'"));return}_.text=i},Object.defineProperty(u.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),u.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},u.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},u.prototype.unsubscribe=function(n,i){console.warn("This function is deprecated: please use `off()` instead."),this.off(n,i)},u.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},u.prototype.unsubscribeAll=function(n){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(n)},u.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},u.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},u.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},u.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(u.prototype,"contents",{get:function(){if(this.loaded){for(var n={artboards:[]},i=0;i<this.file.artboardCount();i++){for(var d=this.file.artboardByIndex(i),_={name:d.name,animations:[],stateMachines:[]},I=0;I<d.animationCount();I++){var L=d.animationByIndex(I);_.animations.push(L.name)}for(var ee=0;ee<d.stateMachineCount();ee++){for(var se=d.stateMachineByIndex(ee),q=se.name,ce=new this.runtime.StateMachineInstance(se,d),Ce=[],Ue=0;Ue<ce.inputCount();Ue++){var Le=ce.input(Ue);Ce.push({name:Le.name,type:Le.type})}_.stateMachines.push({name:q,inputs:Ce})}n.artboards.push(_)}return n}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(n){this._volume=n,this.artboard&&(this.artboard.volume=n*de.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"artboardWidth",{get:function(){var n;return this.artboard?this.artboard.width:(n=this._artboardWidth)!==null&&n!==void 0?n:0},set:function(n){this._artboardWidth=n,this.artboard&&(this.artboard.width=n)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"artboardHeight",{get:function(){var n;return this.artboard?this.artboard.height:(n=this._artboardHeight)!==null&&n!==void 0?n:0},set:function(n){this._artboardHeight=n,this.artboard&&(this.artboard.height=n)},enumerable:!1,configurable:!0}),u.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(u.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(n){this._devicePixelRatioUsed=n},enumerable:!1,configurable:!0}),u.prototype.bindViewModelInstance=function(n){var i;this.artboard&&!this.destroyed&&n&&n.runtimeInstance&&(n.internalIncrementReferenceCount(),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=n,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(d){return d.bindViewModelInstance(n)}):this.artboard.bindViewModelInstance(n.runtimeInstance))},Object.defineProperty(u.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),u.prototype.viewModelByIndex=function(n){var i=this.file.viewModelByIndex(n);return i!==null?new be(i):null},u.prototype.viewModelByName=function(n){var i=this.file.viewModelByName(n);return i!==null?new be(i):null},u.prototype.enums=function(){if(this._dataEnums===null){var n=this.file.enums();this._dataEnums=n.map(function(i){return new pt(i)})}return this._dataEnums},u.prototype.defaultViewModel=function(){if(this.artboard){var n=this.file.defaultArtboardViewModel(this.artboard);if(n)return new be(n)}return null},u.prototype.getArtboard=function(n){var i,d;return(d=(i=this.riveFile)===null||i===void 0?void 0:i.getArtboard(n))!==null&&d!==void 0?d:null},u.missingErrorMessage="Rive source file or data buffer required",u.cleanupErrorMessage="Attempt to use file after calling cleanup.",u})(),be=(function(){function u(n){this._viewModel=n}return Object.defineProperty(u.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),u.prototype.instanceByIndex=function(n){var i=this._viewModel.instanceByIndex(n);return i!==null?new nt(i,null):null},u.prototype.instanceByName=function(n){var i=this._viewModel.instanceByName(n);return i!==null?new nt(i,null):null},u.prototype.defaultInstance=function(){var n=this._viewModel.defaultInstance();return n!==null?new nt(n,null):null},u.prototype.instance=function(){var n=this._viewModel.instance();return n!==null?new nt(n,null):null},Object.defineProperty(u.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),u})(),pt=(function(){function u(n){this._dataEnum=n}return Object.defineProperty(u.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),u})(),Pe;(function(u){u.Number="number",u.String="string",u.Boolean="boolean",u.Color="color",u.Trigger="trigger",u.Enum="enum",u.List="list",u.Image="image",u.Artboard="artboard"})(Pe||(Pe={}));var nt=(function(){function u(n,i){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this._runtimeInstance=n,i!==null&&this._parents.push(i)}return Object.defineProperty(u.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),u.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(n){n.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(n){n.clearChanges()})),this._children.forEach(function(n){return n.handleCallbacks()})},u.prototype.addParent=function(n){this._parents.includes(n)||(this._parents.push(n),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&n.addToViewModelCallbacks(this))},u.prototype.removeParent=function(n){var i=this._parents.indexOf(n);if(i!==-1){var d=this._parents[i];d.removeFromViewModelCallbacks(this),this._parents.splice(i,1)}},u.prototype.addToPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)||(this._propertiesWithCallbacks.push(n),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(d){d.addToViewModelCallbacks(i)}))},u.prototype.removeFromPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(d){return d!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(d){d.removeFromViewModelCallbacks(i)}))},u.prototype.addToViewModelCallbacks=function(n){var i=this;this._children.includes(n)||(this._children.push(n),this._parents.forEach(function(d){d.addToViewModelCallbacks(i)}))},u.prototype.removeFromViewModelCallbacks=function(n){var i=this;this._children.includes(n)&&(this._children=this._children.filter(function(d){return d!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(d){d.removeFromViewModelCallbacks(i)}))},u.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(n){n.clearCallbacks()})},u.prototype.propertyFromPath=function(n,i){var d=n.split("/");return this.propertyFromPathSegments(d,0,i)},u.prototype.viewModelFromPathSegments=function(n,i){var d=this.internalViewModelInstance(n[i]);return d!==null?i==n.length-1?d:d.viewModelFromPathSegments(n,i++):null},u.prototype.propertyFromPathSegments=function(n,i,d){var _,I,L,ee,se,q,ce,Ce,Ue,Le,gt,ut,Ze,et,lt,qt,Kt,Et;if(i<n.length-1){var ie=this.internalViewModelInstance(n[i]);return ie!==null?ie.propertyFromPathSegments(n,i+1,d):null}var _e=null;switch(d){case Pe.Number:if(_e=(I=(_=this._runtimeInstance)===null||_===void 0?void 0:_.number(n[i]))!==null&&I!==void 0?I:null,_e!==null)return new Xt(_e,this);break;case Pe.String:if(_e=(ee=(L=this._runtimeInstance)===null||L===void 0?void 0:L.string(n[i]))!==null&&ee!==void 0?ee:null,_e!==null)return new xt(_e,this);break;case Pe.Boolean:if(_e=(q=(se=this._runtimeInstance)===null||se===void 0?void 0:se.boolean(n[i]))!==null&&q!==void 0?q:null,_e!==null)return new St(_e,this);break;case Pe.Color:if(_e=(Ce=(ce=this._runtimeInstance)===null||ce===void 0?void 0:ce.color(n[i]))!==null&&Ce!==void 0?Ce:null,_e!==null)return new $t(_e,this);break;case Pe.Trigger:if(_e=(Le=(Ue=this._runtimeInstance)===null||Ue===void 0?void 0:Ue.trigger(n[i]))!==null&&Le!==void 0?Le:null,_e!==null)return new on(_e,this);break;case Pe.Enum:if(_e=(ut=(gt=this._runtimeInstance)===null||gt===void 0?void 0:gt.enum(n[i]))!==null&&ut!==void 0?ut:null,_e!==null)return new Qe(_e,this);break;case Pe.List:if(_e=(et=(Ze=this._runtimeInstance)===null||Ze===void 0?void 0:Ze.list(n[i]))!==null&&et!==void 0?et:null,_e!==null)return new mt(_e,this);break;case Pe.Image:if(_e=(qt=(lt=this._runtimeInstance)===null||lt===void 0?void 0:lt.image(n[i]))!==null&&qt!==void 0?qt:null,_e!==null)return new On(_e,this);break;case Pe.Artboard:if(_e=(Et=(Kt=this._runtimeInstance)===null||Kt===void 0?void 0:Kt.artboard(n[i]))!==null&&Et!==void 0?Et:null,_e!==null)return new jt(_e,this);break}return null},u.prototype.internalViewModelInstance=function(n){var i;if(this._viewModelInstances.has(n))return this._viewModelInstances.get(n);var d=(i=this._runtimeInstance)===null||i===void 0?void 0:i.viewModel(n);if(d!==null){var _=new u(d,this);return _.internalIncrementReferenceCount(),this._viewModelInstances.set(n,_),_}return null},u.prototype.number=function(n){var i=this.propertyFromPath(n,Pe.Number);return i},u.prototype.string=function(n){var i=this.propertyFromPath(n,Pe.String);return i},u.prototype.boolean=function(n){var i=this.propertyFromPath(n,Pe.Boolean);return i},u.prototype.color=function(n){var i=this.propertyFromPath(n,Pe.Color);return i},u.prototype.trigger=function(n){var i=this.propertyFromPath(n,Pe.Trigger);return i},u.prototype.enum=function(n){var i=this.propertyFromPath(n,Pe.Enum);return i},u.prototype.list=function(n){var i=this.propertyFromPath(n,Pe.List);return i},u.prototype.image=function(n){var i=this.propertyFromPath(n,Pe.Image);return i},u.prototype.artboard=function(n){var i=this.propertyFromPath(n,Pe.Artboard);return i},u.prototype.viewModel=function(n){var i=n.split("/"),d=i.length>1?this.viewModelFromPathSegments(i.slice(0,i.length-1),0):this;return d!=null?d.internalViewModelInstance(i[i.length-1]):null},u.prototype.internalReplaceViewModel=function(n,i){var d;if(i.runtimeInstance!==null){var _=((d=this._runtimeInstance)===null||d===void 0?void 0:d.replaceViewModel(n,i.runtimeInstance))||!1;if(_){i.internalIncrementReferenceCount();var I=this.internalViewModelInstance(n);I!==null&&(I.removeParent(this),this._children.includes(I)&&(this._children=this._children.filter(function(L){return L!==I})),I.cleanup()),this._viewModelInstances.set(n,i),i.addParent(this)}return _}return!1},u.prototype.replaceViewModel=function(n,i){var d,_=n.split("/"),I=_.length>1?this.viewModelFromPathSegments(_.slice(0,_.length-1),0):this;return(d=I?.internalReplaceViewModel(_[_.length-1],i))!==null&&d!==void 0?d:!1},u.prototype.incrementReferenceCount=function(){var n;this._referenceCount++,(n=this._runtimeInstance)===null||n===void 0||n.incrementReferenceCount()},u.prototype.decrementReferenceCount=function(){var n;this._referenceCount--,(n=this._runtimeInstance)===null||n===void 0||n.decrementReferenceCount()},Object.defineProperty(u.prototype,"properties",{get:function(){var n;return((n=this._runtimeInstance)===null||n===void 0?void 0:n.getProperties().map(function(i){return x({},i)}))||[]},enumerable:!1,configurable:!0}),u.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},u.prototype.cleanup=function(){var n=this;if(this._referenceCount--,this._referenceCount<=0){this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(_){_.cleanup()}),this._viewModelInstances.clear();var i=O([],this._children,!0);this._children.length=0;var d=O([],this._parents,!0);this._parents.length=0,i.forEach(function(_){_.removeParent(n)}),d.forEach(function(_){_.removeFromViewModelCallbacks(n)})}},u})(),Se=(function(){function u(n,i){this.callbacks=[],this._viewModelInstanceValue=n,this._parentViewModel=i}return u.prototype.on=function(n){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(n)||(this.callbacks.push(n),this._parentViewModel.addToPropertyCallbacks(this))},u.prototype.off=function(n){n?this.callbacks=this.callbacks.filter(function(i){return i!==n}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},u.prototype.internalHandleCallback=function(n){},u.prototype.handleCallbacks=function(){var n=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(i){n.internalHandleCallback(i)})},u.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},u.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(u.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),u})(),xt=(function(u){F(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(Se),Xt=(function(u){F(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(Se),St=(function(u){F(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(Se),on=(function(u){F(n,u);function n(i,d){return u.call(this,i,d)||this}return n.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},n.prototype.internalHandleCallback=function(i){i()},n})(Se),Qe=(function(u){F(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(i){this._viewModelInstanceValue.valueIndex=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(Se),mt=(function(u){F(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),n.prototype.addInstance=function(i){i.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(i.runtimeInstance),i.addParent(this._parentViewModel))},n.prototype.addInstanceAt=function(i,d){return i.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(i.runtimeInstance,d)?(i.addParent(this._parentViewModel),!0):!1},n.prototype.removeInstance=function(i){i.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(i.runtimeInstance),i.removeParent(this._parentViewModel))},n.prototype.removeInstanceAt=function(i){this._viewModelInstanceValue.removeInstanceAt(i)},n.prototype.instanceAt=function(i){var d=this._viewModelInstanceValue.instanceAt(i);if(d!=null){var _=new nt(d,this._parentViewModel);return _}return null},n.prototype.swap=function(i,d){this._viewModelInstanceValue.swap(i,d)},n.prototype.internalHandleCallback=function(i){i()},n})(Se),$t=(function(u){F(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.rgb=function(i,d,_){this._viewModelInstanceValue.rgb(i,d,_)},n.prototype.rgba=function(i,d,_,I){this._viewModelInstanceValue.argb(I,i,d,_)},n.prototype.argb=function(i,d,_,I){this._viewModelInstanceValue.argb(i,d,_,I)},n.prototype.alpha=function(i){this._viewModelInstanceValue.alpha(i)},n.prototype.opacity=function(i){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,i))*255))},n.prototype.internalHandleCallback=function(i){i(this.value)},n})(Se),On=(function(u){F(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{set:function(i){var d;this._viewModelInstanceValue.value((d=i?.nativeImage)!==null&&d!==void 0?d:null)},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i()},n})(Se),jt=(function(u){F(n,u);function n(i,d){return u.call(this,i,d)||this}return Object.defineProperty(n.prototype,"value",{set:function(i){var d;this._viewModelInstanceValue.value((d=i?.nativeArtboard)!==null&&d!==void 0?d:null)},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i()},n})(Se),Qn=function(u){return P(void 0,void 0,void 0,function(){var n,i,d;return f(this,function(_){switch(_.label){case 0:return n=new Request(u),[4,fetch(n)];case 1:return i=_.sent(),[4,i.arrayBuffer()];case 2:return d=_.sent(),[2,d]}})})},rt=function(u){return typeof u=="string"?[u]:u instanceof Array?u:[]},Dr={EventManager:Re,TaskQueueManager:je},Zn=function(u){return P(void 0,void 0,void 0,function(){var n,i,d;return f(this,function(_){switch(_.label){case 0:return n=new Promise(function(I){return ne.getInstance(function(L){L.decodeAudio(u,I)})}),[4,n];case 1:return i=_.sent(),d=new R.AudioWrapper(i),R.finalizationRegistry.register(d,i),[2,d]}})})},Wr=function(u){return P(void 0,void 0,void 0,function(){var n,i,d;return f(this,function(_){switch(_.label){case 0:return n=new Promise(function(I){return ne.getInstance(function(L){L.decodeImage(u,I)})}),[4,n];case 1:return i=_.sent(),d=new R.ImageWrapper(i),R.finalizationRegistry.register(d,i),[2,d]}})})},Gt=function(u){return P(void 0,void 0,void 0,function(){var n,i,d;return f(this,function(_){switch(_.label){case 0:return n=new Promise(function(I){return ne.getInstance(function(L){L.decodeFont(u,I)})}),[4,n];case 1:return i=_.sent(),d=new R.FontWrapper(i),R.finalizationRegistry.register(d,i),[2,d]}})})}})(),w})())})(Cr)),Cr.exports}var du=fu();const jo="/assets/";var hu=Je('<div class="main-container"><canvas width="400" height="500"></canvas></div>');function ko(o,s){Or(s,!0);const c="https://vycjpmuyscfygstjjied.supabase.co",v="dracula";let m=Xe(void 0);li(()=>{if(!ae(m))return;const E=new du.Rive({src:`${c}/storage/v1/object/public/${v}/${s.fileName}`,canvas:ae(m),autoplay:!0,stateMachines:"SM1"});return()=>{E.cleanup()}});var w=hu(),A=$e(w);su(A,E=>ge(m,E),()=>ae(m)),We(o,w),xr()}var vu=Je('<img alt="Background"/>'),pu=Je('<div class="background-media svelte-103gu3v"><!></div>'),mu=Je('<img alt="Character"/>'),gu=Je('<div class="character-media svelte-103gu3v"><!></div>'),_u=(o,s,c)=>s(ae(c).nextDialogueId),yu=Je('<button class="option-button svelte-103gu3v"> </button>'),wu=Je('<div class="options-container svelte-103gu3v"></div>'),bu=Je('<div class="error-overlay svelte-103gu3v"><p class="error-text svelte-103gu3v"> </p></div>'),Au=Je('<div class="dialogue-container svelte-103gu3v"><!> <!> <div class="dialogue-content svelte-103gu3v"><div class="dialogue-text svelte-103gu3v"> </div> <!></div> <!> <!></div>');function Cu(o,s){Or(s,!0);let c=Xe(null),v=Xe(null),m=Xe(null);async function w(){try{if(ge(m,null),s.dialogue.backgroundImage)try{s.dialogue.backgroundImage.endsWith(".riv")||(ge(c,`${jo}${s.dialogue.backgroundImage}`),await A(ae(c)))}catch{console.warn("Background not found:",s.dialogue.backgroundImage),ge(c,null)}if(s.dialogue.characterImage)try{s.dialogue.characterImage.endsWith(".riv")||(ge(v,`${jo}${s.dialogue.characterImage}`),await A(ae(v)))}catch{console.warn("Character not found:",s.dialogue.characterImage),ge(v,null)}}catch(H){ge(m,"Ошибка загрузки медиа: "+H.message),console.error("Media loading error:",H),s.dialogue.backgroundImage?.endsWith(".riv")&&ge(c,null),s.dialogue.characterImage?.endsWith(".riv")&&ge(v,null)}finally{}}function A(H){return new Promise((S,D)=>{const J=new Image;J.onload=()=>S(H),J.onerror=()=>D(new Error(`Image not found: ${H}`)),J.src=H})}w();function E(H){const S=new CustomEvent("dialogueChange",{detail:{nextDialogueId:H}});window.dispatchEvent(S)}var C=Au(),R=$e(C);{var F=H=>{var S=pu(),D=$e(S);{var J=re=>{var U=Lr(),oe=Fr(U);Fo(oe,()=>s.dialogue.backgroundImage,Re=>{ko(Re,{get fileName(){return s.dialogue.backgroundImage}})}),We(re,U)},Z=re=>{var U=vu();let oe;Zt(Re=>{Lo(U,"src",ae(c)?ae(c):""),oe=ui(U,1,"background-image svelte-103gu3v",null,oe,Re)},[()=>({hidden:!ae(c)||!s.dialogue.backgroundImage.endsWith(".riv")})]),Ro("error",U,()=>{ge(m,"Ошибка загрузки фона: "+s.dialogue.backgroundImage),ge(c,null)}),We(re,U)};Tt(D,re=>{s.dialogue.backgroundImage.endsWith(".riv")?re(J):re(Z,!1)})}We(H,S)};Tt(R,H=>{s.dialogue.backgroundImage&&H(F)})}var x=At(R,2);{var P=H=>{var S=gu(),D=$e(S);{var J=re=>{var U=Lr(),oe=Fr(U);Fo(oe,()=>s.dialogue.characterImage,Re=>{ko(Re,{get fileName(){return s.dialogue.characterImage}})}),We(re,U)},Z=re=>{var U=mu();let oe;Zt(Re=>{Lo(U,"src",ae(v)?ae(v):""),oe=ui(U,1,"character-image svelte-103gu3v",null,oe,Re)},[()=>({hidden:!ae(v)||!s.dialogue.characterImageUrl.endsWith(".riv")})]),Ro("error",U,()=>{ge(m,"Ошибка загрузки персонажа: "+s.dialogue.characterImage),ge(v,null)}),We(re,U)};Tt(D,re=>{s.dialogue.characterImage.endsWith(".riv")?re(J):re(Z,!1)})}We(H,S)};Tt(x,H=>{s.dialogue.characterImage&&H(P)})}var f=At(x,2),O=$e(f),$=$e(O),z=At(O,2);{var Q=H=>{var S=wu();ga(S,21,()=>s.dialogue.options,D=>D.text,(D,J)=>{var Z=yu();Z.__click=[_u,E,J];var re=$e(Z);Zt(()=>Xn(re,ae(J).text)),We(D,Z)}),We(H,S)};Tt(z,H=>{s.dialogue.options&&s.dialogue.options.length>0&&H(Q)})}var G=At(f,2);{var te=H=>{var S=bu(),D=$e(S),J=$e(D);Zt(()=>Xn(J,ae(m))),We(H,S)};Tt(G,H=>{ae(m)&&H(te)})}var ne=At(G,2);Tt(ne,H=>{}),Zt(()=>Xn($,`"${s.dialogue.text??""}"`)),We(o,C),xr()}pa(["click"]);function Eu(o,s){ae(s)>0&&Jo(s,-1)}function Mu(o,s){ge(s,0)}async function Iu(o,s,c,v,m){ge(s,!0),ge(c,"");try{await v(),ge(m,0)}catch(w){ge(c,"Ошибка перезагрузки: "+w.message)}finally{ge(s,!1)}}var Ru=Je('<div class="loading"><p>🔄 Загрузка истории Дракулы...</p></div>'),Pu=Je('<div class="error"> <div style="margin-top: 15px;"><button class="nav-button">🔄 Попробовать снова</button></div></div>'),Fu=((o,s)=>s()),Tu=Je("<div></div>"),Lu=Je('<div class="dialogues-container"><!> <div class="dots-navigation"></div> <div class="navigation"><button class="nav-button">← Назад</button> <button class="nav-button">Вперед →</button></div> <div class="progress-info"> </div></div>'),Ou=Je('<div class="welcome-section"><h1 class="welcome-title">🧛‍♂️ Дракула: Интерактивная история</h1> <p class="welcome-text">Погрузитесь в атмосферную готическую историю с интерактивными диалогами.<br/> Принимайте решения, которые влияют на развитие сюжета.</p> <button class="start-button">🎭 Начать историю</button></div>'),xu=Je('<div class="app"><!></div>');function Su(o,s){Or(s,!0);const c="https://vycjpmuyscfygstjjied.supabase.co",v="dracula";hn({name:"Игрок"});let m=Xe(!0),w=Xe(""),A=Xe(hn([])),E=Xe(0);li(async()=>{try{await C()}catch(z){ge(w,"Ошибка загрузки истории: "+z.message),console.error("Load error:",z)}finally{ge(m,!1)}});async function C(){try{const z=await fetch(`${c}/storage/v1/object/public/${v}/dracula_story.json`);if(!z.ok)throw new Error(`HTTP error! status: ${z.status}`);const Q=await z.json();if(!Q.dialogues||!Array.isArray(Q.dialogues))throw new Error("Неверный формат файла истории: отсутствует dialogues array");ge(A,Q.dialogues,!0),console.log("Диалоги загружены:",ae(A).length)}catch(z){throw ge(w,"Ошибка загрузки истории: "+z.message),console.error("Load dialogues error:",z),z}}function R(z){const Q=z.detail.nextDialogueId,G=ae(A).findIndex(te=>te.id===Q);if(G!==-1)ge(E,G,!0);else{const te=ae(A)[ae(E)];if(te.nextDialogueId){const ne=ae(A).findIndex(H=>H.id===te.nextDialogueId);ne!==-1&&ge(E,ne,!0)}}}function F(){ae(E)<ae(A).length-1&&Jo(E)}function x(z){ge(E,z,!0)}li(()=>(window.addEventListener("dialogueChange",R),()=>window.removeEventListener("dialogueChange",R)));var P=xu(),f=$e(P);{var O=z=>{var Q=Ru();We(z,Q)},$=z=>{var Q=Lr(),G=Fr(Q);{var te=H=>{var S=Pu(),D=$e(S),J=At(D),Z=$e(J);Z.__click=[Iu,m,w,C,E],Zt(()=>Xn(D,`⚠️ ${ae(w)??""} `)),We(H,S)},ne=H=>{var S=Lr(),D=Fr(S);{var J=re=>{var U=Lu();U.__click=[Fu,F];var oe=$e(U);Cu(oe,{get index(){return ae(E)},get dialogue(){return ae(A)[ae(E)]}});var Re=At(oe,2);ga(Re,21,()=>ae(A),Zs,(ke,Te,De)=>{var qe=Tu();qe.__click=()=>x(De),Zt(()=>ui(qe,1,`dot ${De===ae(E)?"active":""}`)),We(ke,qe)});var je=At(Re,2),Oe=$e(je);Oe.__click=[Eu,E];var st=At(Oe,2);st.__click=F;var de=At(je,2),zt=$e(de);Zt(()=>{Oe.disabled=ae(E)===0,st.disabled=ae(E)===ae(A).length-1,Xn(zt,`Сцена ${ae(E)+1} из ${ae(A).length??""}`)}),We(re,U)},Z=re=>{var U=Ou(),oe=At($e(U),4);oe.__click=[Mu,E],We(re,U)};Tt(D,re=>{ae(A).length>0?re(J):re(Z,!1)},!0)}We(H,S)};Tt(G,H=>{ae(w)?H(te):H(ne,!1)},!0)}We(z,Q)};Tt(f,z=>{ae(m)?z(O):z($,!1)})}We(o,P),xr()}pa(["click"]);function ju(o){Su(o,{})}Ks(ju,{target:document.getElementById("app")});
